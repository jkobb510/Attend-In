!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=281)}([function(e,t,n){"use strict";e.exports=n(288)},function(e,t,n){e.exports=n(295)()},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}t.a=r},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function i(e){document.body.style.paddingRight=e>0?e+"px":null}function o(){return document.body.clientWidth<window.innerWidth}function a(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function s(){var e=r(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;o()&&i(n+e)}function u(e,t){return void 0===e&&(e=""),void 0===t&&(t=E),t?e.split(" ").map(function(e){return t[e]||e}).join(" "):e}function c(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}function l(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,o={};i>0;)i-=1,n=r[i],o[n]=e[n];return o}function f(e){O[e]||("undefined"!==typeof console&&console.error(e),O[e]=!0)}function h(e,t,n){if(!(e[t]instanceof C))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}function p(e){return!(!e||"object"!==typeof e)&&"current"in e}function d(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function m(e){var t=typeof e;if("number"===t)return e;if("symbol"===t||"object"===t&&"[object Symbol]"===d(e))return NaN;if(y(e)){var n="function"===typeof e.valueOf?e.valueOf():e;e=y(n)?""+n:n}if("string"!==t)return 0===e?e:+e;e=e.replace(/^\s+|\s+$/g,"");var r=/^0b[01]+$/i.test(e);return r||/^0o[0-7]+$/i.test(e)?parseInt(e.slice(2),r?2:8):/^[-+]0x[0-9a-f]+$/i.test(e)?NaN:+e}function y(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function v(e){if(!y(e))return!1;var t=d(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}function g(e){if(p(e))return e.current;if(v(e))return e();if("string"===typeof e&&D){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function b(e){return null!==e&&(Array.isArray(e)||D&&"number"===typeof e.length)}function _(e,t){var n=g(e);return t?b(n)?n:null===n?[]:[n]:b(n)?n[0]:n}function w(e,t,n,r){var i=e;b(i)||(i=[i]);var o=n;if("string"===typeof o&&(o=o.split(/\s+/)),!b(i)||"function"!==typeof t||!Array.isArray(o))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(o,function(e){Array.prototype.forEach.call(i,function(n){n.addEventListener(e,t,r)})}),function(){Array.prototype.forEach.call(o,function(e){Array.prototype.forEach.call(i,function(n){n.removeEventListener(e,t,r)})})}}t.s=i,t.l=a,t.h=s,t.p=u,t.q=c,t.r=l,t.w=f,t.a=h,n.d(t,"u",function(){return N}),n.d(t,"t",function(){return I}),n.d(t,"e",function(){return k}),n.d(t,"c",function(){return A}),n.d(t,"d",function(){return x}),n.d(t,"o",function(){return P}),n.d(t,"b",function(){return R}),n.d(t,"g",function(){return D}),t.v=m,t.n=y,t.j=g,t.m=_,n.d(t,"i",function(){return j}),t.f=w,n.d(t,"k",function(){return M});var E,T=n(1),S=n.n(T),O={},C="object"===typeof window&&window.Element||function(){},N=S.a.oneOfType([S.a.string,S.a.func,h,S.a.shape({current:S.a.any})]),I=S.a.oneOfType([S.a.func,S.a.string,S.a.shape({$$typeof:S.a.symbol,render:S.a.func}),S.a.arrayOf(S.a.oneOfType([S.a.func,S.a.string,S.a.shape({$$typeof:S.a.symbol,render:S.a.func})]))]),k={Fade:150,Collapse:350,Modal:300,Carousel:600},A=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],x={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},P={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},R=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],D=!("undefined"===typeof window||!window.document||!window.document.createElement),j=["touchstart","click"],M=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}t.a=r},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=n.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)o.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(n.default=n,e.exports=n):(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(i.a)(e,t)}t.a=r;var i=n(322)},function(e,t,n){"use strict";var r=n(294);n.d(t,"a",function(){return r.a});var i=(n(301),n(159));n.d(t,"b",function(){return i.a});var o=(n(302),n(304));n.d(t,"c",function(){return o.a});var a=(n(306),n(308));n.d(t,"d",function(){return a.a});var s=n(160);n.d(t,"e",function(){return s.a});var u=(n(93),n(310),n(312));n.d(t,"f",function(){return u.a});n(314),n(315),n(316)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.a=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";var r=n(321),i=(n(165),n(325));n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return i.a})},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==u||t==a||t==c}var i=n(23),o=n(10),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}function i(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function o(e,t,n){function a(){g===v&&(g=v.slice())}function s(){if(b)throw new Error(r(3));return y}function u(e){if("function"!==typeof e)throw new Error(r(4));if(b)throw new Error(r(5));var t=!0;return a(),g.push(e),function(){if(t){if(b)throw new Error(r(6));t=!1,a();var n=g.indexOf(e);g.splice(n,1),v=null}}}function c(e){if(!i(e))throw new Error(r(7));if("undefined"===typeof e.type)throw new Error(r(8));if(b)throw new Error(r(9));try{b=!0,y=d(y,e)}finally{b=!1}for(var t=v=g,n=0;n<t.length;n++){(0,t[n])()}return e}function l(e){if("function"!==typeof e)throw new Error(r(10));d=e,c({type:m.REPLACE})}function f(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!==typeof e||null===e)throw new Error(r(11));return n(),{unsubscribe:t(n)}}},e[p]=function(){return this},e}var h;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(r(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(r(1));return n(o)(e,t)}if("function"!==typeof e)throw new Error(r(2));var d=e,y=t,v=[],g=v,b=!1;return c({type:m.INIT}),h={dispatch:c,subscribe:u,getState:s,replaceReducer:l},h[p]=f,h}function a(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:m.INIT}))throw new Error(r(12));if("undefined"===typeof n(void 0,{type:m.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))})}function s(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];"function"===typeof e[o]&&(n[o]=e[o])}var s,u=Object.keys(n);try{a(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var i=!1,o={},a=0;a<u.length;a++){var c=u[a],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(r(14))}o[c]=h,i=i||h!==f}return i=i||u.length!==Object.keys(e).length,i?o:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function c(e,t){if("function"===typeof e)return u(e,t);if("object"!==typeof e||null===e)throw new Error(r(16));var n={};for(var i in e){var o=e[i];"function"===typeof o&&(n[i]=u(o,t))}return n}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(r(15))},o={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map(function(e){return e(o)});return i=l.apply(void 0,a)(n.dispatch),Object(h.a)(Object(h.a)({},n),{},{dispatch:i})}}}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return o});var h=n(328),p=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}(),d=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=r},function(e,t,n){var r=n(171),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.actionsPrefix="@@reactReduxFirebase",i=t.actionTypes={START:r+"/START",SET:r+"/SET",REMOVE:r+"/REMOVE",MERGE:r+"/MERGE",SET_PROFILE:r+"/SET_PROFILE",LOGIN:r+"/LOGIN",LOGOUT:r+"/LOGOUT",LOGIN_ERROR:r+"/LOGIN_ERROR",NO_VALUE:r+"/NO_VALUE",UNAUTHORIZED_ERROR:r+"/UNAUTHORIZED_ERROR",ERROR:r+"/ERROR",CLEAR_ERRORS:r+"/CLEAR_ERRORS",SET_LISTENER:r+"/SET_LISTENER",UNSET_LISTENER:r+"/UNSET_LISTENER",AUTHENTICATION_INIT_STARTED:r+"/AUTHENTICATION_INIT_STARTED",AUTHENTICATION_INIT_FINISHED:r+"/AUTHENTICATION_INIT_FINISHED",SESSION_START:r+"/SESSION_START",SESSION_END:r+"/SESSION_END",FILE_UPLOAD_START:r+"/FILE_UPLOAD_START",FILE_UPLOAD_ERROR:r+"/FILE_UPLOAD_ERROR",FILE_UPLOAD_PROGRESS:r+"/FILE_UPLOAD_PROGRESS",FILE_UPLOAD_COMPLETE:r+"/FILE_UPLOAD_COMPLETE",FILE_DELETE_START:r+"/FILE_DELETE_START",FILE_DELETE_ERROR:r+"/FILE_DELETE_ERROR",FILE_DELETE_COMPLETE:r+"/FILE_DELETE_COMPLETE",AUTH_UPDATE_START:r+"/AUTH_UPDATE_START",AUTH_UPDATE_SUCCESS:r+"/AUTH_UPDATE_SUCCESS",AUTH_UPDATE_ERROR:r+"/AUTH_UPDATE_ERROR",PROFILE_UPDATE_START:r+"/PROFILE_UPDATE_START",PROFILE_UPDATE_SUCCESS:r+"/PROFILE_UPDATE_SUCCESS",PROFILE_UPDATE_ERROR:r+"/PROFILE_UPDATE_ERROR",EMAIL_UPDATE_START:r+"/EMAIL_UPDATE_START",EMAIL_UPDATE_SUCCESS:r+"/EMAIL_UPDATE_SUCCESS",EMAIL_UPDATE_ERROR:r+"/EMAIL_UPDATE_ERROR",AUTH_RELOAD_START:r+"/AUTH_RELOAD_START",AUTH_RELOAD_ERROR:r+"/AUTH_RELOAD_ERROR",AUTH_RELOAD_SUCCESS:r+"/AUTH_RELOAD_SUCCESS",AUTH_LINK_START:r+"/AUTH_LINK_START",AUTH_LINK_ERROR:r+"/AUTH_LINK_ERROR",AUTH_LINK_SUCCESS:r+"/AUTH_LINK_SUCCESS",AUTH_EMPTY_CHANGE:r+"/AUTH_EMPTY_CHANGE"},o=t.defaultConfig={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};t.supportedAuthProviders=["google","github","twitter","facebook"],t.topLevelPaths=["auth","profile","ordered","data"],t.v3ErrorMessage="Context from react-redux not found. If you are using react-redux v6 a v3.*.* version of react-redux-firebase is required. Please checkout the v3 migration guide: http://bit.ly/2SRNdiO";t.default={actionTypes:i,defaultConfig:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(170),a=n(479),s=r(a),u=n(482),c=r(u),l=n(483),f=r(l),h=n(484),p=r(h),d=n(485),m=r(d),y=n(486),v=r(y),g=n(17),b=r(g),_=n(138),w=n(208),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(w);t.default=i({firebase:s.default,createFirebaseInstance:o.createFirebaseInstance,firebaseConnect:s.default,createFirebaseConnect:a.createFirebaseConnect,firestoreConnect:c.default,createFirestoreConnect:u.createFirestoreConnect,withFirebase:f.default,createWithFirebase:l.createWithFirebase,withFirestore:p.default,createWithFirestore:h.createWithFirestore,reducer:v.default,firebaseReducer:v.default,firebaseStateReducer:v.default,reduxReactFirebase:m.default,reactReduxFirebase:m.default,reduxFirebase:m.default,constants:b.default,actionTypes:g.actionTypes,getFirebase:d.getFirebase,authIsReady:_.authIsReady,helpers:E},E),e.exports=t.default},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):u(e)}var i=n(344),o=n(386),a=n(52),s=n(6),u=n(390);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_FIRESTORE=t.middleware=t.actionTypes=t.constants=t.getFirestore=t.actions=t.createFirestoreInstance=t.reduxFirestore=t.enhancer=t.firestoreReducer=t.reducer=t.version=void 0;var i=n(499),o=r(i),a=n(506),s=r(a),u=n(238),c=n(236),l=r(c),f=n(21),h=r(f),p=n(522),d=r(p),m=t.version="0.5.8";t.reducer=s.default,t.firestoreReducer=s.default,t.enhancer=o.default,t.reduxFirestore=o.default,t.createFirestoreInstance=l.default,t.actions=u.firestoreActions,t.getFirestore=i.getFirestore,t.constants=h.default,t.actionTypes=f.actionTypes,t.middleware=d.default,t.CALL_FIRESTORE=p.CALL_FIRESTORE,t.default={version:m,reducer:s.default,firestoreReducer:s.default,enhancer:o.default,reduxFirestore:o.default,createFirestoreInstance:l.default,actions:u.firestoreActions,getFirestore:i.getFirestore,constants:h.default,actionTypes:f.actionTypes,middleware:d.default,CALL_FIRESTORE:p.CALL_FIRESTORE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.actionsPrefix="@@reduxFirestore",i=t.actionTypes={START:r+"/START",ERROR:r+"/ERROR",CLEAR_DATA:r+"/CLEAR_DATA",CLEAR_ERROR:r+"/CLEAR_ERROR",CLEAR_ERRORS:r+"/CLEAR_ERRORS",SET_LISTENER:r+"/SET_LISTENER",UNSET_LISTENER:r+"/UNSET_LISTENER",GET_REQUEST:r+"/GET_REQUEST",GET_SUCCESS:r+"/GET_SUCCESS",GET_FAILURE:r+"/GET_FAILURE",SET_REQUEST:r+"/SET_REQUEST",SET_SUCCESS:r+"/SET_SUCCESS",SET_FAILURE:r+"/SET_FAILURE",ADD_REQUEST:r+"/ADD_REQUEST",ADD_SUCCESS:r+"/ADD_SUCCESS",ADD_FAILURE:r+"/ADD_FAILURE",UPDATE_REQUEST:r+"/UPDATE_REQUEST",UPDATE_SUCCESS:r+"/UPDATE_SUCCESS",UPDATE_FAILURE:r+"/UPDATE_FAILURE",DELETE_REQUEST:r+"/DELETE_REQUEST",DELETE_SUCCESS:r+"/DELETE_SUCCESS",DELETE_FAILURE:r+"/DELETE_FAILURE",ATTACH_LISTENER:r+"/ATTACH_LISTENER",LISTENER_RESPONSE:r+"/LISTENER_RESPONSE",LISTENER_ERROR:r+"/LISTENER_ERROR",ON_SNAPSHOT_REQUEST:r+"/ON_SNAPSHOT_REQUEST",ON_SNAPSHOT_SUCCESS:r+"/ON_SNAPSHOT_SUCCESS",ON_SNAPSHOT_FAILURE:r+"/ON_SNAPSHOT_FAILURE",DOCUMENT_ADDED:r+"/DOCUMENT_ADDED",DOCUMENT_MODIFIED:r+"/DOCUMENT_MODIFIED",DOCUMENT_REMOVED:r+"/DOCUMENT_REMOVED",TRANSACTION_START:r+"/TRANSACTION_START",TRANSACTION_SUCCESS:r+"/TRANSACTION_SUCCESS",TRANSACTION_FAILURE:r+"/TRANSACTION_FAILURE"},o=t.defaultConfig={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0};t.methodsToAddFromFirestore=["collection","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings"];t.default={actionsPrefix:r,actionTypes:i,defaultConfig:o}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?o(e):a(e)}var i=n(41),o=n(340),a=n(341),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){"use strict";function r(e){function t(e){a(c[e],"delete"),delete c[e]}function n(e){if(e=e||f,!s.contains(c,e))throw l.create("no-app",{appName:e});return c[e]}function r(t,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){n={name:n}}var r=n;void 0===r.name&&(r.name=f);var i=r.name;if("string"!==typeof i||!i)throw l.create("bad-app-name",{appName:String(i)});if(s.contains(c,i))throw l.create("duplicate-app",{appName:i});var o=new e(t,r,y);return c[i]=o,a(o,"create"),o}function i(){return Object.keys(c).map(function(e){return c[e]})}function o(t,r,o,a,u){function c(e){if(void 0===e&&(e=n()),"function"!==typeof e[t])throw l.create("invalid-app-argument",{appName:t});return e[t]()}return void 0===u&&(u=!1),h[t]?(m.debug("There were multiple attempts to register service "+t+"."),y[t]):(h[t]=r,a&&(p[t]=a,i().forEach(function(e){a("create",e)})),void 0!==o&&s.deepExtend(c,o),y[t]=c,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,u?e:[])},c)}function a(e,t){for(var n=0,r=Object.keys(h);n<r.length;n++){var i=r[n],o=u(e,i);if(null===o)return;p[o]&&p[o](t,e)}}function u(e,t){return"serverAuth"===t?null:t}var c={},h={},p={},y={__esModule:!0,initializeApp:r,app:n,apps:null,SDK_VERSION:d,INTERNAL:{registerService:o,removeApp:t,factories:h,useAsService:u}};return y.default=y,Object.defineProperty(y,"apps",{get:i}),n.App=e,y}function i(){function e(e){s.deepExtend(t,e)}var t=r(p);return t.INTERNAL=a.__assign({},t.INTERNAL,{createFirebaseNamespace:i,extendNamespace:e,createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(26),s=n(46),u=n(87),c=(o={},o["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",o["bad-app-name"]="Illegal App name: '{$appName}",o["duplicate-app"]="Firebase App named '{$appName}' already exists",o["app-deleted"]="Firebase App named '{$appName}' already deleted",o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",o),l=new s.ErrorFactory("app","Firebase",c),f="[DEFAULT]",h=[],p=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){h.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){h=h.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=f),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==f?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;s.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(h.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),h=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var d="6.6.2",m=new u.Logger("@firebase/app");if(s.isBrowser()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=i(),g=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.isNode()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,e)};var b=v;t.default=b,t.firebase=b},function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(289)},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function c(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function l(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function d(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function y(e,t,n){function r(e){l[e]&&(c[e]=function(t){return new Promise(function(n,r){f.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{o(l[e](t))}catch(e){u(f[0][3],e)}}function o(e){e.value instanceof m?Promise.resolve(e.value.v).then(a,s):u(f[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),f.shift(),f.length&&i(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=n.apply(e,t||[]),f=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function v(e){function t(t,i){n[t]=e[t]?function(n){return(r=!r)?{value:m(e[t](n)),done:"return"===t}:i?i(n):n}:i}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function g(e){function t(t){r[t]=e[t]&&function(r){return new Promise(function(i,o){r=e[t](r),n(i,o,r.done,r.value)})}}function n(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"===typeof f?f(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r)}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return T}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=c,t.__exportStar=l,t.__values=f,t.__read=h,t.__spread=p,t.__spreadArrays=d,t.__await=m,t.__asyncGenerator=y,t.__asyncDelegator=v,t.__asyncValues=g,t.__makeTemplateObject=b,t.__importStar=_,t.__importDefault=w;var E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},T.apply(this,arguments)}},function(e,t,n){"use strict";var r=function(e){return e&&"object"===typeof e&&"default"in e?e.default:e}(n(24));e.exports=r},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){(function(e){var t;!function(t,n){e.exports=n()}(0,function(){"use strict";function n(){return ti.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function s(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Ct(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(e){return null==e._pf&&(e._pf=p()),e._pf}function m(e){if(null==e._isValid){var t=d(e),n=ni.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function y(e){var t=h(NaN);return null!=e?f(d(t),e):d(t).userInvalidated=!0,t}function v(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=d(t)),s(t._locale)||(e._locale=t._locale),ri.length>0)for(n=0;n<ri.length;n++)r=ri[n],i=t[r],s(i)||(e[r]=i);return e}function g(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ii&&(ii=!0,n.updateOffset(this),ii=!1)}function b(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function _(e){!1===n.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,t){var r=!0;return f(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){var i,a,s,u=[];for(a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){i+="\n["+a+"] ";for(s in arguments[0])o(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}_(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function E(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),oi[e]||(_(t),oi[e]=!0)}function T(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)o(e,n)&&(t=e[n],T(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=f({},e);for(n in t)o(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)o(e,n)&&!o(t,n)&&i(e[n])&&(r[n]=f({},r[n]));return r}function C(e){null!=e&&this.set(e)}function N(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r}function I(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function k(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(hi[e]=i),t&&(hi[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),n&&(hi[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function A(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function x(e){var t,n,r=e.match(ci);for(t=0,n=r.length;t<n;t++)hi[r[t]]?r[t]=hi[r[t]]:r[t]=A(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(t,e):r[i];return o}}function P(e,t){return e.isValid()?(t=R(t,e.localeData()),fi[t]=fi[t]||x(t),fi[t](e)):e.localeData().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(li.lastIndex=0;r>=0&&li.test(e);)e=e.replace(li,n),li.lastIndex=0,r-=1;return e}function D(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(ci).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}function j(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function L(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)}function F(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}function U(e,t){var n=e.toLowerCase();yi[n]=yi[n+"s"]=yi[t]=e}function q(e){return"string"===typeof e?yi[e]||yi[e.toLowerCase()]:void 0}function V(e){var t,n,r={};for(n in e)o(e,n)&&(t=q(n))&&(r[t]=e[n]);return r}function B(e,t){vi[e]=t}function W(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:vi[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}function z(e){return e%4===0&&e%100!==0||e%400===0}function H(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Q(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=H(t)),n}function K(e,t){return function(r){return null!=r?(Y(this,e,r),n.updateOffset(this,t),this):G(this,e)}}function G(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Y(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&z(e.year())&&1===e.month()&&29===e.date()?(n=Q(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ae(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function $(e){return e=q(e),T(this[e])?this[e]():this}function X(e,t){if("object"===typeof e){e=V(e);var n,r=W(e);for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(e=q(e),T(this[e]))return this[e](t);return this}function J(e,t,n){si[e]=T(t)?t:function(e,r){return e&&n?n:t}}function Z(e,t){return o(si,e)?si[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ne(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=Q(e)}),n=0;n<e.length;n++)Mi[e[n]]=r}function re(e,t){ne(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ie(e,t,n){null!=t&&o(Mi,e)&&Mi[e](t,n._a,n,e)}function oe(e,t){return(e%t+t)%t}function ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=oe(t,12);return e+=(t-n)/12,1===n?z(e)?29:28:31-n%7%2}function se(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Gi).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone}function ue(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Gi.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ce(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=ji.call(this._shortMonthsParse,a),-1!==i?i:null):(i=ji.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=ji.call(this._shortMonthsParse,a))?i:(i=ji.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=ji.call(this._longMonthsParse,a))?i:(i=ji.call(this._shortMonthsParse,a),-1!==i?i:null)}function le(e,t,n){var r,i,o;if(this._monthsParseExact)return ce.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function fe(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Q(t);else if(t=e.localeData().monthsParse(t),!u(t))return e;return n=Math.min(e.date(),ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(e){return null!=e?(fe(this,e),n.updateOffset(this,!0),this):G(this,"Month")}function pe(){return ae(this.year(),this.month())}function de(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ye.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Yi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ye.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=$i),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ye(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=te(r[t]),i[t]=te(i[t]);for(t=0;t<24;t++)o[t]=te(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ve(e){return z(e)?366:365}function ge(){return z(this.year())}function be(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function _e(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function we(e,t,n){var r=7+t-n;return-(7+_e(e,0,r).getUTCDay()-t)%7+r-1}function Ee(e,t,n,r,i){var o,a,s=(7+n-r)%7,u=we(e,r,i),c=1+7*(t-1)+s+u;return c<=0?(o=e-1,a=ve(o)+c):c>ve(e)?(o=e+1,a=c-ve(e)):(o=e,a=c),{year:o,dayOfYear:a}}function Te(e,t,n){var r,i,o=we(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Se(i,t,n)):a>Se(e.year(),t,n)?(r=a-Se(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Se(e,t,n){var r=we(e,t,n),i=we(e+1,t,n);return(ve(e)-r+i)/7}function Oe(e){return Te(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Ne(){return this._week.doy}function Ie(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ke(e){var t=Te(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ae(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function xe(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Re(e,t){var n=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pe(n,this._week.dow):e?n[e.day()]:n}function De(e){return!0===e?Pe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function je(e){return!0===e?Pe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Me(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=ji.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=ji.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=ji.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=ji.call(this._weekdaysParse,a))?i:-1!==(i=ji.call(this._shortWeekdaysParse,a))?i:(i=ji.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=ji.call(this._shortWeekdaysParse,a))?i:-1!==(i=ji.call(this._weekdaysParse,a))?i:(i=ji.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=ji.call(this._minWeekdaysParse,a))?i:-1!==(i=ji.call(this._weekdaysParse,a))?i:(i=ji.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Le(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Me.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ae(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=xe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ve(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=no),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ro),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function We(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=io),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ze(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=te(this.weekdaysMin(n,"")),i=te(this.weekdaysShort(n,"")),o=te(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);a.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function He(){return this.hours()%12||12}function Qe(){return this.hours()||24}function Ke(e,t){k(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function Ye(e){return"p"===(e+"").toLowerCase().charAt(0)}function $e(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Je(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Je(e[o]).split("-"),t=i.length,n=Je(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=et(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&Xe(i,n)>=t-1)break;t--}o++}return oo}function et(n){var r=null;if(void 0===co[n]&&"undefined"!==typeof e&&e&&e.exports)try{r=oo._abbr,t,function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),tt(r)}catch(e){co[n]=null}return co[n]}function tt(e,t){var n;return e&&(n=s(t)?it(e):nt(e,t),n?oo=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),oo._abbr}function nt(e,t){if(null!==t){var n,r=uo;if(t.abbr=e,null!=co[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=co[e]._config;else if(null!=t.parentLocale)if(null!=co[t.parentLocale])r=co[t.parentLocale]._config;else{if(null==(n=et(t.parentLocale)))return lo[t.parentLocale]||(lo[t.parentLocale]=[]),lo[t.parentLocale].push({name:e,config:t}),null;r=n._config}return co[e]=new C(O(r,t)),lo[e]&&lo[e].forEach(function(e){nt(e.name,e.config)}),tt(e),co[e]}return delete co[e],null}function rt(e,t){if(null!=t){var n,r,i=uo;null!=co[e]&&null!=co[e].parentLocale?co[e].set(O(co[e]._config,t)):(r=et(e),null!=r&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),n=new C(t),n.parentLocale=co[e],co[e]=n),tt(e)}else null!=co[e]&&(null!=co[e].parentLocale?(co[e]=co[e].parentLocale,e===tt()&&tt(e)):null!=co[e]&&delete co[e]);return co[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return oo;if(!r(e)){if(t=et(e))return t;e=[e]}return Ze(e)}function ot(){return ai(co)}function at(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[Fi]<0||n[Fi]>11?Fi:n[Ui]<1||n[Ui]>ae(n[Li],n[Fi])?Ui:n[qi]<0||n[qi]>24||24===n[qi]&&(0!==n[Vi]||0!==n[Bi]||0!==n[Wi])?qi:n[Vi]<0||n[Vi]>59?Vi:n[Bi]<0||n[Bi]>59?Bi:n[Wi]<0||n[Wi]>999?Wi:-1,d(e)._overflowDayOfYear&&(t<Li||t>Ui)&&(t=Ui),d(e)._overflowWeeks&&-1===t&&(t=zi),d(e)._overflowWeekday&&-1===t&&(t=Hi),d(e).overflow=t),e}function st(e){var t,n,r,i,o,a,s=e._i,u=fo.exec(s)||ho.exec(s);if(u){for(d(e).iso=!0,t=0,n=mo.length;t<n;t++)if(mo[t][1].exec(u[1])){i=mo[t][0],r=!1!==mo[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=yo.length;t<n;t++)if(yo[t][1].exec(u[3])){o=(u[2]||" ")+yo[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!po.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),bt(e)}else e._isValid=!1}function ut(e,t,n,r,i,o){var a=[ct(e),Ki.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function ct(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function lt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ft(e,t,n){if(e){if(eo.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return d(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ht(e,t,n){if(e)return bo[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function pt(e){var t,n=go.exec(lt(e._i));if(n){if(t=ut(n[4],n[3],n[2],n[5],n[6],n[7]),!ft(n[1],t,e))return;e._a=t,e._tzm=ht(n[8],n[9],n[10]),e._d=_e.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function dt(e){var t=vo.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));st(e),!1===e._isValid&&(delete e._isValid,pt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))}function mt(e,t,n){return null!=e?e:null!=t?t:n}function yt(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vt(e){var t,n,r,i,o,a=[];if(!e._d){for(r=yt(e),e._w&&null==e._a[Ui]&&null==e._a[Fi]&&gt(e),null!=e._dayOfYear&&(o=mt(e._a[Li],r[Li]),(e._dayOfYear>ve(o)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),n=_e(o,0,e._dayOfYear),e._a[Fi]=n.getUTCMonth(),e._a[Ui]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[qi]&&0===e._a[Vi]&&0===e._a[Bi]&&0===e._a[Wi]&&(e._nextDay=!0,e._a[qi]=0),e._d=(e._useUTC?_e:be).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[qi]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(d(e).weekdayMismatch=!0)}}function gt(e){var t,n,r,i,o,a,s,u,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=mt(t.GG,e._a[Li],Te(Nt(),1,4).year),r=mt(t.W,1),((i=mt(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=Te(Nt(),o,a),n=mt(t.gg,e._a[Li],c.year),r=mt(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>Se(n,o,a)?d(e)._overflowWeeks=!0:null!=u?d(e)._overflowWeekday=!0:(s=Ee(n,r,i,o,a),e._a[Li]=s.year,e._dayOfYear=s.dayOfYear)}function bt(e){if(e._f===n.ISO_8601)return void st(e);if(e._f===n.RFC_2822)return void pt(e);e._a=[],d(e).empty=!0;var t,r,i,o,a,s,u=""+e._i,c=u.length,l=0;for(i=R(e._f,e._locale).match(ci)||[],t=0;t<i.length;t++)o=i[t],r=(u.match(Z(o,e))||[])[0],r&&(a=u.substr(0,u.indexOf(r)),a.length>0&&d(e).unusedInput.push(a),u=u.slice(u.indexOf(r)+r.length),l+=r.length),hi[o]?(r?d(e).empty=!1:d(e).unusedTokens.push(o),ie(o,r,e)):e._strict&&!r&&d(e).unusedTokens.push(o);d(e).charsLeftOver=c-l,u.length>0&&d(e).unusedInput.push(u),e._a[qi]<=12&&!0===d(e).bigHour&&e._a[qi]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[qi]=_t(e._locale,e._a[qi],e._meridiem),s=d(e).era,null!==s&&(e._a[Li]=e._locale.erasConvertYear(s,e._a[Li])),vt(e),at(e)}function _t(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function wt(e){var t,n,r,i,o,a,s=!1;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,a=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],bt(t),m(t)&&(a=!0),o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));f(e,n||t)}function Et(e){if(!e._d){var t=V(e._i),n=void 0===t.day?t.date:t.day;e._a=l([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),vt(e)}}function Tt(e){var t=new g(at(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new g(at(t)):(c(t)?e._d=t:r(n)?wt(e):n?bt(e):Ot(e),m(e)||(e._d=null),e))}function Ot(e){var t=e._i;s(t)?e._d=new Date(n.now()):c(t)?e._d=new Date(t.valueOf()):"string"===typeof t?dt(e):r(t)?(e._a=l(t.slice(0),function(e){return parseInt(e,10)}),vt(e)):i(t)?Et(e):u(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Ct(e,t,n,o,s){var u={};return!0!==t&&!1!==t||(o=t,t=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(i(e)&&a(e)||r(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=o,Tt(u)}function Nt(e,t,n,r){return Ct(e,t,n,r,!1)}function It(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Nt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function kt(){return It("isBefore",[].slice.call(arguments,0))}function At(){return It("isAfter",[].slice.call(arguments,0))}function xt(e){var t,n,r=!1;for(t in e)if(o(e,t)&&(-1===ji.call(To,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<To.length;++n)if(e[To[n]]){if(r)return!1;parseFloat(e[To[n]])!==Q(e[To[n]])&&(r=!0)}return!0}function Pt(){return this._isValid}function Rt(){return Zt(NaN)}function Dt(e){var t=V(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=xt(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=it(),this._bubble()}function jt(e){return e instanceof Dt}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Q(e[r])!==Q(t[r]))&&a++;return a+o}function Ft(e,t){k(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Ut(e,t){var n,r,i,o=(t||"").match(e);return null===o?null:(n=o[o.length-1]||[],r=(n+"").match(So)||["-",0,0],i=60*r[1]+Q(r[2]),0===i?0:"+"===r[0]?i:-i)}function qt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(b(e)||c(e)?e.valueOf():Nt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Nt(e).local()}function Vt(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Ut(Pi,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Vt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?on(this,Zt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Vt(this)}function Wt(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function zt(e){return this.utcOffset(0,e)}function Ht(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this}function Qt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Ut(xi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Kt(e){return!!this.isValid()&&(e=e?Nt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Gt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),t=St(t),t._a?(e=t._isUTC?h(t._a):Nt(t._a),this._isDSTShifted=this.isValid()&&Lt(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function $t(){return!!this.isValid()&&!this._isUTC}function Xt(){return!!this.isValid()&&this._isUTC}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Zt(e,t){var n,r,i,a=e,s=null;return jt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(s=Oo.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:Q(s[Ui])*n,h:Q(s[qi])*n,m:Q(s[Vi])*n,s:Q(s[Bi])*n,ms:Q(Mt(1e3*s[Wi]))*n}):(s=Co.exec(e))?(n="-"===s[1]?-1:1,a={y:en(s[2],n),M:en(s[3],n),w:en(s[4],n),d:en(s[5],n),h:en(s[6],n),m:en(s[7],n),s:en(s[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=nn(Nt(a.from),Nt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Dt(a),jt(e)&&o(e,"_locale")&&(r._locale=e._locale),jt(e)&&o(e,"_isValid")&&(r._isValid=e._isValid),r}function en(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tn(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nn(e,t){var n;return e.isValid()&&t.isValid()?(t=qt(t,e),e.isBefore(t)?n=tn(e,t):(n=tn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function rn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Zt(n,r),on(this,i,e),this}}function on(e,t,r,i){var o=t._milliseconds,a=Mt(t._days),s=Mt(t._months);e.isValid()&&(i=null==i||i,s&&fe(e,G(e,"Month")+s*r),a&&Y(e,"Date",G(e,"Date")+a*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&n.updateOffset(e,a||s))}function an(e){return"string"===typeof e||e instanceof String}function sn(e){return b(e)||c(e)||an(e)||u(e)||cn(e)||un(e)||null===e||void 0===e}function un(e){var t,n,r=i(e)&&!a(e),s=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<u.length;t+=1)n=u[t],s=s||o(e,n);return r&&s}function cn(e){var t=r(e),n=!1;return t&&(n=0===e.filter(function(t){return!u(t)&&an(e)}).length),t&&n}function ln(e){var t,n,r=i(e)&&!a(e),s=!1,u=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<u.length;t+=1)n=u[t],s=s||o(e,n);return r&&s}function fn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function hn(e,t){1===arguments.length&&(arguments[0]?sn(arguments[0])?(e=arguments[0],t=void 0):ln(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Nt(),i=qt(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=t&&(T(t[o])?t[o].call(this,r):t[o]);return this.format(a||this.localeData().calendar(o,this,Nt(r)))}function pn(){return new g(this)}function dn(e,t){var n=b(e)?e:Nt(e);return!(!this.isValid()||!n.isValid())&&(t=q(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function mn(e,t){var n=b(e)?e:Nt(e);return!(!this.isValid()||!n.isValid())&&(t=q(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function yn(e,t,n,r){var i=b(e)?e:Nt(e),o=b(t)?t:Nt(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(r=r||"()",("("===r[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))}function vn(e,t){var n,r=b(e)?e:Nt(e);return!(!this.isValid()||!r.isValid())&&(t=q(t)||"millisecond","millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function gn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function bn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function _n(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=qt(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=q(t)){case"year":o=wn(this,r)/12;break;case"month":o=wn(this,r);break;case"quarter":o=wn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:H(o)}function wn(e,t){if(e.date()<t.date())return-wn(t,e);var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function En(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Tn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?P(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",P(n,"Z")):P(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function On(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=P(this,e);return this.localeData().postformat(t)}function Cn(e,t){return this.isValid()&&(b(e)&&e.isValid()||Nt(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Nn(e){return this.from(Nt(),e)}function In(e,t){return this.isValid()&&(b(e)&&e.isValid()||Nt(e).isValid())?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kn(e){return this.to(Nt(),e)}function An(e){var t;return void 0===e?this._locale._abbr:(t=it(e),null!=t&&(this._locale=t),this)}function xn(){return this._locale}function Pn(e,t){return(e%t+t)%t}function Rn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Ro:new Date(e,t,n).valueOf()}function Dn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Ro:Date.UTC(e,t,n)}function jn(e){var t,r;if(void 0===(e=q(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?Dn:Rn,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Pn(t+(this._isUTC?0:this.utcOffset()*xo),Po);break;case"minute":t=this._d.valueOf(),t-=Pn(t,xo);break;case"second":t=this._d.valueOf(),t-=Pn(t,Ao)}return this._d.setTime(t),n.updateOffset(this,!0),this}function Mn(e){var t,r;if(void 0===(e=q(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?Dn:Rn,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Po-Pn(t+(this._isUTC?0:this.utcOffset()*xo),Po)-1;break;case"minute":t=this._d.valueOf(),t+=xo-Pn(t,xo)-1;break;case"second":t=this._d.valueOf(),t+=Ao-Pn(t,Ao)-1}return this._d.setTime(t),n.updateOffset(this,!0),this}function Ln(){return this._d.valueOf()-6e4*(this._offset||0)}function Fn(){return Math.floor(this.valueOf()/1e3)}function Un(){return new Date(this.valueOf())}function qn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Vn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Bn(){return this.isValid()?this.toISOString():null}function Wn(){return m(this)}function zn(){return f({},d(this))}function Hn(){return d(this).overflow}function Qn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Kn(e,t){var r,i,o,a=this._eras||it("en")._eras;for(r=0,i=a.length;r<i;++r){switch(typeof a[r].since){case"string":o=n(a[r].since).startOf("day"),a[r].since=o.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":o=n(a[r].until).startOf("day").valueOf(),a[r].until=o.valueOf()}}return a}function Gn(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function Yn(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function $n(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Xn(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Jn(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Zn(){var e,t,r,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(r=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-n(o[e].since).year())*r+o[e].offset;return this.year()}function er(e){return o(this,"_erasNameRegex")||sr.call(this),e?this._erasNameRegex:this._erasRegex}function tr(e){return o(this,"_erasAbbrRegex")||sr.call(this),e?this._erasAbbrRegex:this._erasRegex}function nr(e){return o(this,"_erasNarrowRegex")||sr.call(this),e?this._erasNarrowRegex:this._erasRegex}function rr(e,t){return t.erasAbbrRegex(e)}function ir(e,t){return t.erasNameRegex(e)}function or(e,t){return t.erasNarrowRegex(e)}function ar(e,t){return t._eraYearOrdinalRegex||ki}function sr(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(te(a[e].name)),n.push(te(a[e].abbr)),i.push(te(a[e].narrow)),o.push(te(a[e].name)),o.push(te(a[e].abbr)),o.push(te(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function ur(e,t){k(0,[e,e.length],0,t)}function cr(e){return mr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function lr(e){return mr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function fr(){return Se(this.year(),1,4)}function hr(){return Se(this.isoWeekYear(),1,4)}function pr(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function dr(){var e=this.localeData()._week;return Se(this.weekYear(),e.dow,e.doy)}function mr(e,t,n,r,i){var o;return null==e?Te(this,r,i).year:(o=Se(e,r,i),t>o&&(t=o),yr.call(this,e,t,n,r,i))}function yr(e,t,n,r,i){var o=Ee(e,t,n,r,i),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function vr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function gr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function br(e,t){t[Wi]=Q(1e3*("0."+e))}function _r(){return this._isUTC?"UTC":""}function wr(){return this._isUTC?"Coordinated Universal Time":""}function Er(e){return Nt(1e3*e)}function Tr(){return Nt.apply(null,arguments).parseZone()}function Sr(e){return e}function Or(e,t,n,r){var i=it(),o=h().set(r,t);return i[n](o,e)}function Cr(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Or(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Or(e,r,n,"month");return i}function Nr(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,o=it(),a=e?o._week.dow:0,s=[];if(null!=n)return Or(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=Or(t,(i+a)%7,r,"day");return s}function Ir(e,t){return Cr(e,t,"months")}function kr(e,t){return Cr(e,t,"monthsShort")}function Ar(e,t,n){return Nr(e,t,n,"weekdays")}function xr(e,t,n){return Nr(e,t,n,"weekdaysShort")}function Pr(e,t,n){return Nr(e,t,n,"weekdaysMin")}function Rr(){var e=this._data;return this._milliseconds=Vo(this._milliseconds),this._days=Vo(this._days),this._months=Vo(this._months),e.milliseconds=Vo(e.milliseconds),e.seconds=Vo(e.seconds),e.minutes=Vo(e.minutes),e.hours=Vo(e.hours),e.months=Vo(e.months),e.years=Vo(e.years),this}function Dr(e,t,n,r){var i=Zt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function jr(e,t){return Dr(this,e,t,1)}function Mr(e,t){return Dr(this,e,t,-1)}function Lr(e){return e<0?Math.floor(e):Math.ceil(e)}function Fr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Lr(qr(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=H(o/1e3),u.seconds=e%60,t=H(e/60),u.minutes=t%60,n=H(t/60),u.hours=n%24,a+=H(n/24),i=H(Ur(a)),s+=i,a-=Lr(qr(i)),r=H(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Ur(e){return 4800*e/146097}function qr(e){return 146097*e/4800}function Vr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=q(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ur(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(qr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Br(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Q(this._months/12):NaN}function Wr(e){return function(){return this.as(e)}}function zr(){return Zt(this)}function Hr(e){return e=q(e),this.isValid()?this[e+"s"]():NaN}function Qr(e){return function(){return this.isValid()?this._data[e]:NaN}}function Kr(){return H(this.days()/7)}function Gr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Yr(e,t,n,r){var i=Zt(e).abs(),o=ia(i.as("s")),a=ia(i.as("m")),s=ia(i.as("h")),u=ia(i.as("d")),c=ia(i.as("M")),l=ia(i.as("w")),f=ia(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=r,Gr.apply(null,h)}function $r(e){return void 0===e?ia:"function"===typeof e&&(ia=e,!0)}function Xr(e,t){return void 0!==oa[e]&&(void 0===t?oa[e]:(oa[e]=t,"s"===e&&(oa.ss=t-1),!0))}function Jr(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=oa;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},oa,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),n=this.localeData(),r=Yr(this,!i,o,n),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}function Zr(e){return(e>0)-(e<0)||+e}function ei(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=aa(this._milliseconds)/1e3,c=aa(this._days),l=aa(this._months),f=this.asSeconds();return f?(e=H(u/60),t=H(e/60),u%=60,e%=60,n=H(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",o=Zr(this._months)!==Zr(f)?"-":"",a=Zr(this._days)!==Zr(f)?"-":"",s=Zr(this._milliseconds)!==Zr(f)?"-":"",i+"P"+(n?o+n+"Y":"")+(l?o+l+"M":"")+(c?a+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var ti,ni;ni=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var ri=n.momentProperties=[],ii=!1,oi={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var ai;ai=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var si,ui={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ci=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,li=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fi={},hi={},pi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},di=/\d{1,2}/,mi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},yi={},vi={},gi=/\d/,bi=/\d\d/,_i=/\d{3}/,wi=/\d{4}/,Ei=/[+-]?\d{6}/,Ti=/\d\d?/,Si=/\d\d\d\d?/,Oi=/\d\d\d\d\d\d?/,Ci=/\d{1,3}/,Ni=/\d{1,4}/,Ii=/[+-]?\d{1,6}/,ki=/\d+/,Ai=/[+-]?\d+/,xi=/Z|[+-]\d\d:?\d\d/gi,Pi=/Z|[+-]\d\d(?::?\d\d)?/gi,Ri=/[+-]?\d+(\.\d{1,3})?/,Di=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;si={};var ji,Mi={},Li=0,Fi=1,Ui=2,qi=3,Vi=4,Bi=5,Wi=6,zi=7,Hi=8;ji=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),k("MMMM",0,0,function(e){return this.localeData().months(this,e)}),U("month","M"),B("month",8),J("M",Ti),J("MM",Ti,bi),J("MMM",function(e,t){return t.monthsShortRegex(e)}),J("MMMM",function(e,t){return t.monthsRegex(e)}),ne(["M","MM"],function(e,t){t[Fi]=Q(e)-1}),ne(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Fi]=i:d(n).invalidMonth=e});var Qi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ki="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Yi=Di,$i=Di;k("Y",0,0,function(){var e=this.year();return e<=9999?I(e,4):"+"+e}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),U("year","y"),B("year",1),J("Y",Ai),J("YY",Ti,bi),J("YYYY",Ni,wi),J("YYYYY",Ii,Ei),J("YYYYYY",Ii,Ei),ne(["YYYYY","YYYYYY"],Li),ne("YYYY",function(e,t){t[Li]=2===e.length?n.parseTwoDigitYear(e):Q(e)}),ne("YY",function(e,t){t[Li]=n.parseTwoDigitYear(e)}),ne("Y",function(e,t){t[Li]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return Q(e)+(Q(e)>68?1900:2e3)};var Xi=K("FullYear",!0);k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),B("week",5),B("isoWeek",5),J("w",Ti),J("ww",Ti,bi),J("W",Ti),J("WW",Ti,bi),re(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Q(e)});var Ji={dow:0,doy:6};k("d",0,"do","day"),k("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),k("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),k("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),J("d",Ti),J("e",Ti),J("E",Ti),J("dd",function(e,t){return t.weekdaysMinRegex(e)}),J("ddd",function(e,t){return t.weekdaysShortRegex(e)}),J("dddd",function(e,t){return t.weekdaysRegex(e)}),re(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),re(["d","e","E"],function(e,t,n,r){t[r]=Q(e)});var Zi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),eo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),to="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),no=Di,ro=Di,io=Di;k("H",["HH",2],0,"hour"),k("h",["hh",2],0,He),k("k",["kk",2],0,Qe),k("hmm",0,0,function(){return""+He.apply(this)+I(this.minutes(),2)}),k("hmmss",0,0,function(){return""+He.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),U("hour","h"),B("hour",13),J("a",Ge),J("A",Ge),J("H",Ti),J("h",Ti),J("k",Ti),J("HH",Ti,bi),J("hh",Ti,bi),J("kk",Ti,bi),J("hmm",Si),J("hmmss",Oi),J("Hmm",Si),J("Hmmss",Oi),ne(["H","HH"],qi),ne(["k","kk"],function(e,t,n){var r=Q(e);t[qi]=24===r?0:r}),ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ne(["h","hh"],function(e,t,n){t[qi]=Q(e),d(n).bigHour=!0}),ne("hmm",function(e,t,n){var r=e.length-2;t[qi]=Q(e.substr(0,r)),t[Vi]=Q(e.substr(r)),d(n).bigHour=!0}),ne("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[qi]=Q(e.substr(0,r)),t[Vi]=Q(e.substr(r,2)),t[Bi]=Q(e.substr(i)),d(n).bigHour=!0}),ne("Hmm",function(e,t,n){var r=e.length-2;t[qi]=Q(e.substr(0,r)),t[Vi]=Q(e.substr(r))}),ne("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[qi]=Q(e.substr(0,r)),t[Vi]=Q(e.substr(r,2)),t[Bi]=Q(e.substr(i))});var oo,ao=/[ap]\.?m?\.?/i,so=K("Hours",!0),uo={calendar:ui,longDateFormat:pi,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:di,relativeTime:mi,months:Qi,monthsShort:Ki,week:Ji,weekdays:Zi,weekdaysMin:to,weekdaysShort:eo,meridiemParse:ao},co={},lo={},fo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ho=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,po=/Z|[+-]\d\d(?::?\d\d)?/,mo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],yo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vo=/^\/?Date\((-?\d+)/i,go=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var _o=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Nt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),wo=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Nt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}),Eo=function(){return Date.now?Date.now():+new Date},To=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ft("Z",":"),Ft("ZZ",""),J("Z",Pi),J("ZZ",Pi),ne(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(Pi,e)});var So=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Oo=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Co=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zt.fn=Dt.prototype,Zt.invalid=Rt;var No=rn(1,"add"),Io=rn(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ko=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),Ao=1e3,xo=60*Ao,Po=60*xo,Ro=3506328*Po;k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),J("N",rr),J("NN",rr),J("NNN",rr),J("NNNN",ir),J("NNNNN",or),ne(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?d(n).era=i:d(n).invalidEra=e}),J("y",ki),J("yy",ki),J("yyy",ki),J("yyyy",ki),J("yo",ar),ne(["y","yy","yyy","yyyy"],Li),ne(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Li]=n._locale.eraYearOrdinalParse(e,i):t[Li]=parseInt(e,10)}),k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ur("gggg","weekYear"),ur("ggggg","weekYear"),ur("GGGG","isoWeekYear"),ur("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),J("G",Ai),J("g",Ai),J("GG",Ti,bi),J("gg",Ti,bi),J("GGGG",Ni,wi),J("gggg",Ni,wi),J("GGGGG",Ii,Ei),J("ggggg",Ii,Ei),re(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Q(e)}),re(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),k("Q",0,"Qo","quarter"),U("quarter","Q"),B("quarter",7),J("Q",gi),ne("Q",function(e,t){t[Fi]=3*(Q(e)-1)}),k("D",["DD",2],"Do","date"),U("date","D"),B("date",9),J("D",Ti),J("DD",Ti,bi),J("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ne(["D","DD"],Ui),ne("Do",function(e,t){t[Ui]=Q(e.match(Ti)[0])});var Do=K("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),B("dayOfYear",4),J("DDD",Ci),J("DDDD",_i),ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Q(e)}),k("m",["mm",2],0,"minute"),U("minute","m"),B("minute",14),J("m",Ti),J("mm",Ti,bi),ne(["m","mm"],Vi);var jo=K("Minutes",!1);k("s",["ss",2],0,"second"),U("second","s"),B("second",15),J("s",Ti),J("ss",Ti,bi),ne(["s","ss"],Bi);var Mo=K("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return 10*this.millisecond()}),k(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),k(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),k(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),k(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),k(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),B("millisecond",16),J("S",Ci,gi),J("SS",Ci,bi),J("SSS",Ci,_i);var Lo,Fo;for(Lo="SSSS";Lo.length<=9;Lo+="S")J(Lo,ki);for(Lo="S";Lo.length<=9;Lo+="S")ne(Lo,br);Fo=K("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");var Uo=g.prototype;Uo.add=No,Uo.calendar=hn,Uo.clone=pn,Uo.diff=_n,Uo.endOf=Mn,Uo.format=On,Uo.from=Cn,Uo.fromNow=Nn,Uo.to=In,Uo.toNow=kn,Uo.get=$,Uo.invalidAt=Hn,Uo.isAfter=dn,Uo.isBefore=mn,Uo.isBetween=yn,Uo.isSame=vn,Uo.isSameOrAfter=gn,Uo.isSameOrBefore=bn,Uo.isValid=Wn,Uo.lang=ko,Uo.locale=An,Uo.localeData=xn,Uo.max=wo,Uo.min=_o,Uo.parsingFlags=zn,Uo.set=X,Uo.startOf=jn,Uo.subtract=Io,Uo.toArray=qn,Uo.toObject=Vn,Uo.toDate=Un,Uo.toISOString=Tn,Uo.inspect=Sn,"undefined"!==typeof Symbol&&null!=Symbol.for&&(Uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Uo.toJSON=Bn,Uo.toString=En,Uo.unix=Fn,Uo.valueOf=Ln,Uo.creationData=Qn,Uo.eraName=$n,Uo.eraNarrow=Xn,Uo.eraAbbr=Jn,Uo.eraYear=Zn,Uo.year=Xi,Uo.isLeapYear=ge,Uo.weekYear=cr,Uo.isoWeekYear=lr,Uo.quarter=Uo.quarters=vr,Uo.month=he,Uo.daysInMonth=pe,Uo.week=Uo.weeks=Ie,Uo.isoWeek=Uo.isoWeeks=ke,Uo.weeksInYear=pr,Uo.weeksInWeekYear=dr,Uo.isoWeeksInYear=fr,Uo.isoWeeksInISOWeekYear=hr,Uo.date=Do,Uo.day=Uo.days=Fe,Uo.weekday=Ue,Uo.isoWeekday=qe,Uo.dayOfYear=gr,Uo.hour=Uo.hours=so,Uo.minute=Uo.minutes=jo,Uo.second=Uo.seconds=Mo,Uo.millisecond=Uo.milliseconds=Fo,Uo.utcOffset=Bt,Uo.utc=zt,Uo.local=Ht,Uo.parseZone=Qt,Uo.hasAlignedHourOffset=Kt,Uo.isDST=Gt,Uo.isLocal=$t,Uo.isUtcOffset=Xt,Uo.isUtc=Jt,Uo.isUTC=Jt,Uo.zoneAbbr=_r,Uo.zoneName=wr,Uo.dates=w("dates accessor is deprecated. Use date instead.",Do),Uo.months=w("months accessor is deprecated. Use month instead",he),Uo.years=w("years accessor is deprecated. Use year instead",Xi),Uo.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Wt),Uo.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yt);var qo=C.prototype;qo.calendar=N,qo.longDateFormat=D,qo.invalidDate=j,qo.ordinal=M,qo.preparse=Sr,qo.postformat=Sr,qo.relativeTime=L,qo.pastFuture=F,qo.set=S,qo.eras=Kn,qo.erasParse=Gn,qo.erasConvertYear=Yn,qo.erasAbbrRegex=tr,qo.erasNameRegex=er,qo.erasNarrowRegex=nr,qo.months=se,qo.monthsShort=ue,qo.monthsParse=le,qo.monthsRegex=me,qo.monthsShortRegex=de,qo.week=Oe,qo.firstDayOfYear=Ne,qo.firstDayOfWeek=Ce,qo.weekdays=Re,qo.weekdaysMin=je,qo.weekdaysShort=De,qo.weekdaysParse=Le,qo.weekdaysRegex=Ve,qo.weekdaysShortRegex=Be,qo.weekdaysMinRegex=We,qo.isPM=Ye,qo.meridiem=$e,tt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Q(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=w("moment.lang is deprecated. Use moment.locale instead.",tt),n.langData=w("moment.langData is deprecated. Use moment.localeData instead.",it);var Vo=Math.abs,Bo=Wr("ms"),Wo=Wr("s"),zo=Wr("m"),Ho=Wr("h"),Qo=Wr("d"),Ko=Wr("w"),Go=Wr("M"),Yo=Wr("Q"),$o=Wr("y"),Xo=Qr("milliseconds"),Jo=Qr("seconds"),Zo=Qr("minutes"),ea=Qr("hours"),ta=Qr("days"),na=Qr("months"),ra=Qr("years"),ia=Math.round,oa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},aa=Math.abs,sa=Dt.prototype;return sa.isValid=Pt,sa.abs=Rr,sa.add=jr,sa.subtract=Mr,sa.as=Vr,sa.asMilliseconds=Bo,sa.asSeconds=Wo,sa.asMinutes=zo,sa.asHours=Ho,sa.asDays=Qo,sa.asWeeks=Ko,sa.asMonths=Go,sa.asQuarters=Yo,sa.asYears=$o,sa.valueOf=Br,sa._bubble=Fr,sa.clone=zr,sa.get=Hr,sa.milliseconds=Xo,sa.seconds=Jo,sa.minutes=Zo,sa.hours=ea,sa.days=ta,sa.weeks=Kr,sa.months=na,sa.years=ra,sa.humanize=Jr,sa.toISOString=ei,sa.toString=ei,sa.toJSON=ei,sa.locale=An,sa.localeData=xn,sa.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ei),sa.lang=ko,k("X",0,0,"unix"),k("x",0,0,"valueOf"),J("x",Ai),J("X",Ri),ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ne("x",function(e,t,n){n._d=new Date(Q(e))}),n.version="2.29.1",function(e){ti=e}(Nt),n.fn=Uo,n.min=kt,n.max=At,n.now=Eo,n.utc=h,n.unix=Er,n.months=Ir,n.isDate=c,n.locale=tt,n.invalid=y,n.duration=Zt,n.isMoment=b,n.weekdays=Ar,n.parseZone=Tr,n.localeData=it,n.isDuration=jt,n.monthsShort=kr,n.weekdaysMin=Pr,n.defineLocale=nt,n.updateLocale=rt,n.locales=ot,n.weekdaysShort=xr,n.normalizeUnits=q,n.relativeTimeRounding=$r,n.relativeTimeThreshold=Xr,n.calendarFormat=fn,n.prototype=Uo,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})}).call(t,n(65)(e))},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(12),o=n(109);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(51),o=1/0;e.exports=r},function(e,t,n){function r(e){return"string"==typeof e||!o(e)&&a(e)&&i(e)==s}var i=n(23),o=n(6),a=n(13),s="[object String]";e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(356),o=n(359);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(75);e.exports=r},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(6),o=n(112),a=n(185),s=n(37);e.exports=r},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(113);e.exports=r},function(e,t,n){var r=n(191),i=n(397),o=i(r);e.exports=o},function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):i(n,c,l)}return n}var i=n(78),o=n(55);e.exports=r},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)?e:"/"+e}function i(e){return"/"===e.charAt(0)?e.substr(1):e}function o(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function a(e,t){return o(e,t)?e.substr(t.length):e}function s(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function u(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function c(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function l(e,t,n,r){var i;"string"===typeof e?(i=u(e),i.state=t):(i=Object(N.a)({},e),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(I.a)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function f(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(k.a)(e.state,t.state)}function h(){function e(e){return i=e,function(){i===e&&(i=null)}}function t(e,t,n,r){if(null!=i){var o="function"===typeof i?i(e,t):i;"string"===typeof o?"function"===typeof n?n(o,r):r(!0):r(!1!==o)}else r(!0)}function n(e){function t(){n&&e.apply(void 0,arguments)}var n=!0;return o.push(t),function(){n=!1,o=o.filter(function(e){return e!==t})}}function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.forEach(function(e){return e.apply(void 0,t)})}var i=null,o=[];return{setPrompt:e,confirmTransitionTo:t,appendListener:n,notifyListeners:r}}function p(e,t){t(window.confirm(e))}function d(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function m(){return-1===window.navigator.userAgent.indexOf("Trident")}function y(){return-1===window.navigator.userAgent.indexOf("Firefox")}function v(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}function g(){try{return window.history.state||{}}catch(e){return{}}}function b(e){function t(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname,s=i.search,u=i.hash,c=o+s+u;return W&&(c=a(c,W)),l(c,r,n)}function n(){return Math.random().toString(36).substr(2,B)}function i(e){Object(N.a)($,e),$.length=k.length,z.notifyListeners($.location,$.action)}function o(e){v(e)||f(t(e.state))}function u(){f(t(g()))}function f(e){if(H)H=!1,i();else{z.confirmTransitionTo(e,"POP",q,function(t){t?i({action:"POP",location:e}):y(e)})}}function y(e){var t=$.location,n=K.indexOf(t.key);-1===n&&(n=0);var r=K.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(H=!0,E(i))}function b(e){return W+c(e)}function _(e,t){var r=l(e,t,n(),$.location);z.confirmTransitionTo(r,"PUSH",q,function(e){if(e){var t=b(r),n=r.key,o=r.state;if(D)if(k.pushState({key:n,state:o},null,t),F)window.location.href=t;else{var a=K.indexOf($.location.key),s=K.slice(0,a+1);s.push(r.key),K=s,i({action:"PUSH",location:r})}else window.location.href=t}})}function w(e,t){var r=l(e,t,n(),$.location);z.confirmTransitionTo(r,"REPLACE",q,function(e){if(e){var t=b(r),n=r.key,o=r.state;if(D)if(k.replaceState({key:n,state:o},null,t),F)window.location.replace(t);else{var a=K.indexOf($.location.key);-1!==a&&(K[a]=r.key),i({action:"REPLACE",location:r})}else window.location.replace(t)}})}function E(e){k.go(e)}function T(){E(-1)}function S(){E(1)}function O(e){G+=e,1===G&&1===e?(window.addEventListener(P,o),j&&window.addEventListener(R,u)):0===G&&(window.removeEventListener(P,o),j&&window.removeEventListener(R,u))}function C(e){void 0===e&&(e=!1);var t=z.setPrompt(e);return Y||(O(1),Y=!0),function(){return Y&&(Y=!1,O(-1)),t()}}function I(e){var t=z.appendListener(e);return O(1),function(){O(-1),t()}}void 0===e&&(e={}),x||Object(A.a)(!1);var k=window.history,D=d(),j=!m(),M=e,L=M.forceRefresh,F=void 0!==L&&L,U=M.getUserConfirmation,q=void 0===U?p:U,V=M.keyLength,B=void 0===V?6:V,W=e.basename?s(r(e.basename)):"",z=h(),H=!1,Q=t(g()),K=[Q.key],G=0,Y=!1,$={length:k.length,action:"POP",location:Q,createHref:b,push:_,replace:w,go:E,goBack:T,goForward:S,block:C,listen:I};return $}function _(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function w(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function E(e){window.location.hash=e}function T(e){window.location.replace(_(window.location.href)+"#"+e)}function S(e){function t(){var e=B(w());return U&&(e=a(e,U)),l(e)}function n(e){Object(N.a)(J,e),J.length=k.length,W.notifyListeners(J.location,J.action)}function i(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function o(){var e=w(),n=V(e);if(e!==n)T(n);else{var r=t(),o=J.location;if(!z&&i(o,r))return;if(H===c(r))return;H=null,u(r)}}function u(e){if(z)z=!1,n();else{W.confirmTransitionTo(e,"POP",M,function(t){t?n({action:"POP",location:e}):f(e)})}}function f(e){var t=J.location,n=Y.lastIndexOf(c(t));-1===n&&(n=0);var r=Y.lastIndexOf(c(e));-1===r&&(r=0);var i=n-r;i&&(z=!0,g(i))}function d(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=_(window.location.href)),n+"#"+V(U+c(e))}function m(e,t){var r=l(e,void 0,void 0,J.location);W.confirmTransitionTo(r,"PUSH",M,function(e){if(e){var t=c(r),i=V(U+t);if(w()!==i){H=t,E(i);var o=Y.lastIndexOf(c(J.location)),a=Y.slice(0,o+1);a.push(t),Y=a,n({action:"PUSH",location:r})}else n()}})}function v(e,t){var r=l(e,void 0,void 0,J.location);W.confirmTransitionTo(r,"REPLACE",M,function(e){if(e){var t=c(r),i=V(U+t);w()!==i&&(H=t,T(i));var o=Y.indexOf(c(J.location));-1!==o&&(Y[o]=t),n({action:"REPLACE",location:r})}})}function g(e){k.go(e)}function b(){g(-1)}function S(){g(1)}function O(e){$+=e,1===$&&1===e?window.addEventListener(D,o):0===$&&window.removeEventListener(D,o)}function C(e){void 0===e&&(e=!1);var t=W.setPrompt(e);return X||(O(1),X=!0),function(){return X&&(X=!1,O(-1)),t()}}function I(e){var t=W.appendListener(e);return O(1),function(){O(-1),t()}}void 0===e&&(e={}),x||Object(A.a)(!1);var k=window.history,P=(y(),e),R=P.getUserConfirmation,M=void 0===R?p:R,L=P.hashType,F=void 0===L?"slash":L,U=e.basename?s(r(e.basename)):"",q=j[F],V=q.encodePath,B=q.decodePath,W=h(),z=!1,H=null,Q=w(),K=V(Q);Q!==K&&T(K);var G=t(),Y=[c(G)],$=0,X=!1,J={length:k.length,action:"POP",location:G,createHref:d,push:m,replace:v,go:g,goBack:b,goForward:S,block:C,listen:I};return J}function O(e,t,n){return Math.min(Math.max(e,t),n)}function C(e){function t(e){Object(N.a)(I,e),I.length=I.entries.length,E.notifyListeners(I.location,I.action)}function n(){return Math.random().toString(36).substr(2,w)}function r(e,r){var i=l(e,r,n(),I.location);E.confirmTransitionTo(i,"PUSH",m,function(e){if(e){var n=I.index,r=n+1,o=I.entries.slice(0);o.length>r?o.splice(r,o.length-r,i):o.push(i),t({action:"PUSH",location:i,index:r,entries:o})}})}function i(e,r){var i=l(e,r,n(),I.location);E.confirmTransitionTo(i,"REPLACE",m,function(e){e&&(I.entries[I.index]=i,t({action:"REPLACE",location:i}))})}function o(e){var n=O(I.index+e,0,I.entries.length-1),r=I.entries[n];E.confirmTransitionTo(r,"POP",m,function(e){e?t({action:"POP",location:r,index:n}):t()})}function a(){o(-1)}function s(){o(1)}function u(e){var t=I.index+e;return t>=0&&t<I.entries.length}function f(e){return void 0===e&&(e=!1),E.setPrompt(e)}function p(e){return E.appendListener(e)}void 0===e&&(e={});var d=e,m=d.getUserConfirmation,y=d.initialEntries,v=void 0===y?["/"]:y,g=d.initialIndex,b=void 0===g?0:g,_=d.keyLength,w=void 0===_?6:_,E=h(),T=O(b,0,v.length-1),S=v.map(function(e){return"string"===typeof e?l(e,void 0,n()):l(e,void 0,e.key||n())}),C=c,I={length:S.length,action:"POP",location:S[T],index:T,entries:S,createHref:C,push:r,replace:i,go:o,goBack:a,goForward:s,canGo:u,block:f,listen:p};return I}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"d",function(){return C}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return c});var N=n(2),I=n(297),k=n(298),A=(n(299),n(300)),x=!("undefined"===typeof window||!window.document||!window.document.createElement),P="popstate",R="hashchange",D="hashchange",j={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+i(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:i,decodePath:r},slash:{encodePath:r,decodePath:r}}},function(e,t,n){var r=n(16),i=r.Symbol;e.exports=i},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(179),o=n(111),a=n(30);e.exports=r},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var r=n(383),i=n(99),o=n(384),a=n(181),s=n(182),u=n(23),c=n(172),l=c(r),f=c(i),h=c(o),p=c(a),d=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=m},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){"use strict";(function(e){function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=i(e[r],t[r]));return e}function o(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())}function s(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function u(){return"object"===typeof self&&self.self===self}function c(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function l(){return!0===k.NODE_CLIENT||!0===k.NODE_ADMIN}function f(e,t){return e.replace(V,function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"})}function h(e){return JSON.parse(e)}function p(e){return JSON.stringify(e)}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function y(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function v(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function g(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1];!function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}(o,a)}return t.length?"&"+t.join("&"):""}function b(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t}function _(e,t){var n=new G(e,t);return n.subscribe.bind(n)}function w(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function E(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function T(){}function S(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}function O(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(S(e,t,r)+"must be a valid firebase namespace.")}function C(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(S(e,t,r)+"must be a valid function.")}function N(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(S(e,t,r)+"must be a valid context object.")}Object.defineProperty(t,"__esModule",{value:!0});var I=n(26),k={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},A=function(e,t){if(!e)throw x(t)},x=function(e){return new Error("Firebase Database ("+k.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},P=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},R=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=e[n++],a=e[n++],s=e[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(P(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):R(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var u=i<e.length,c=u?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==f)throw Error();var h=o<<2|s>>4;if(r.push(h),64!==c){var p=s<<4&240|c>>2;if(r.push(p),64!==f){var d=c<<6&192|f;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},j=function(e){var t=P(e);return D.encodeByteArray(t,!0)},M=function(e){try{return D.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},L=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),F="FirebaseError",U=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=F,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,q.prototype.create),i}return I.__extends(t,e),t}(Error),q=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?f(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new U(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}(),V=/\{\$([^}]+)}/g,B=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=h(M(o[0])||""),n=h(M(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},W=function(e){var t=B(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},z=function(e){var t=B(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},H=function(e){var t=B(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},Q=function(e){var t=B(e).claims;return"object"===typeof t&&!0===t.admin},K=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);var i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),G=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=E(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}(),Y=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},$=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,A(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},X=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};t.CONSTANTS=k,t.Deferred=L,t.ErrorFactory=q,t.FirebaseError=U,t.Sha1=K,t.assert=A,t.assertionError=x,t.async=w,t.base64=D,t.base64Decode=M,t.base64Encode=j,t.contains=d,t.createSubscribe=_,t.decode=B,t.deepCopy=r,t.deepExtend=i,t.errorPrefix=S,t.getUA=o,t.isAdmin=Q,t.isBrowser=u,t.isEmpty=y,t.isMobileCordova=a,t.isNode=s,t.isNodeSdk=l,t.isReactNative=c,t.isValidFormat=H,t.isValidTimestamp=W,t.issuedAtTime=z,t.jsonEval=h,t.map=v,t.querystring=g,t.querystringDecode=b,t.safeGet=m,t.stringLength=X,t.stringToByteArray=$,t.stringify=p,t.validateArgCount=Y,t.validateCallback=C,t.validateContextObject=N,t.validateNamespace=O}).call(t,n(33))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e?e.split(/\//).filter(function(e){return!!e}):[]}function o(e){return(0,p.default)((0,m.default)(e,/[.]/g,"/"),"/")}function a(e){return i(e).join(".")}function s(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return Object.keys(e).reduce(function(r,i){return r[i]=e[i](t[i],n),r},{})}}function u(e){if(!e)throw new Error("Action meta is required to build path for reducers.");var t=e.collection,n=e.doc,r=e.subcollections,i=e.storeAs;if(i)return n?i+"."+n:i;if(e.path)return e.path.split("/");if(!t)throw new Error("Collection is required to construct reducer path.");var o=t;if(n&&(o+="."+n),!r)return o;var a=r.map(u);return o.concat("."+a.join("."))}function c(e,t,n){var r=!1,i=e.map(function(e){return e&&e.id===t?(r=!0,n(e)):e});return r||i.push(n({id:t})),i}function l(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments[1];return t.hasOwnProperty(r.type)?t[r.type](n,r):n}}function f(e,t,n){if((0,w.default)(t))return n?S({},e,n):e;if((0,T.default)(t))return t(e,n);if((0,b.default)(t))return(0,v.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")}Object.defineProperty(t,"__esModule",{value:!0});var h=n(507),p=r(h),d=n(228),m=r(d),y=n(81),v=r(y),g=n(6),b=r(g),_=n(227),w=r(_),E=n(12),T=r(E),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.pathToArr=i,t.getSlashStrPath=o,t.getDotStrPath=a,t.combineReducers=s,t.pathFromMeta=u,t.updateItemInArray=c,t.createReducer=l,t.preserveValuesFromState=f},function(e,t,n){"use strict";function r(e){return o.isMemo(e)?c:l[e.$$typeof]||a}function i(e,t,n){if("string"!==typeof t){if(y){var o=m(t);o&&o!==y&&i(e,o,n)}var a=h(t);p&&(a=a.concat(p(t)));for(var u=r(e),c=r(t),l=0;l<a.length;++l){var v=a[l];if(!s[v]&&(!n||!n[v])&&(!c||!c[v])&&(!u||!u[v])){var g=d(t,v);try{f(e,v,g)}catch(e){}}}}return e}var o=n(166),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[o.ForwardRef]=u,l[o.Memo]=c;var f=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToDate=t.wrapDisplayName=t.getDisplayName=t.createCallable=t.getEventsFromInput=void 0;var r=n(12),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(342);Object.defineProperty(t,"getEventsFromInput",{enumerable:!0,get:function(){return o.getEventsFromInput}});var a=(t.createCallable=function(e){return(0,i.default)(e)?e:function(){return e}},t.getDisplayName=function(e){if("string"===typeof e)return e;if(e)return e.displayName||e.name||"Component"});t.wrapDisplayName=function(e,t){return t+"("+a(e)+")"},t.stringToDate=function(e){try{return new Date(JSON.parse(e))}catch(t){return console.error("Error parsing string to date:",t.message||t),e}}},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(23),o=n(13),a="[object Symbol]";e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t){return(s(e)?i:a)(e,o(t,3))}var i=n(45),o=n(19),a=n(395),s=n(6);e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(194);e.exports=r},function(e,t,n){function r(e){if(null==e)return 0;if(a(e))return s(e)?u(e):e.length;var t=o(e);return t==c||t==l?e.size:i(e).length}var i=n(111),o=n(44),a=n(30),s=n(32),u=n(401),c="[object Map]",l="[object Set]";e.exports=r},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){function r(e){return a(e)?i(e,!0):o(e)}var i=n(179),o=n(412),a=n(30);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t){return a(o(e,t,i),e+"")}var i=n(52),o=n(201),a=n(122);e.exports=r},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(254),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=function(e){return"function"===typeof e&&"[object Function]"===o.call(e)},c=s&&function(){var e={};try{s(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,n,r){(!(t in e)||u(r)&&r())&&(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],n[o[s]])};f.supportsDescriptors=!!c,e.exports=f},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n.n(r),o=i.a.createContext({})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){var t=e.tag,n=e.baseClass,r=e.baseClassActive,i=e.className,o=e.cssModule,u=e.children,c=e.innerRef,f=Object(s.a)(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),h=Object(y.r)(f,y.c),p=Object(y.q)(f,y.c);return l.a.createElement(m.Transition,h,function(e){var s="entered"===e,f=Object(y.p)(d()(i,n,s&&r),o);return l.a.createElement(t,Object(a.a)({className:f},p,{ref:c}),u)})}var a=n(2),s=n(4),u=n(15),c=n(0),l=n.n(c),f=n(1),h=n.n(f),p=n(5),d=n.n(p),m=n(156),y=(n.n(m),n(3)),v=i(i({},m.Transition.propTypes),{},{children:h.a.oneOfType([h.a.arrayOf(h.a.node),h.a.node]),tag:y.t,baseClass:h.a.string,baseClassActive:h.a.string,className:h.a.string,cssModule:h.a.object,innerRef:h.a.oneOfType([h.a.object,h.a.string,h.a.func])}),g=i(i({},m.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:y.e.Fade,appear:!0,enter:!0,exit:!0,in:!0});o.propTypes=v,o.defaultProps=g,t.a=o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(67),o=n(351),a=n(352),s=n(353),u=n(354),c=n(355);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(346),o=n(347),a=n(348),s=n(349),u=n(350);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(50);e.exports=r},function(e,t,n){var r=n(34),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(368);e.exports=r},function(e,t,n){var r=n(379),i=n(13),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(16),i=n(380),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(65)(e))},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(36),o=n(31);e.exports=r},function(e,t,n){function r(e,t,n,a,s){var u=-1,c=e.length;for(n||(n=o),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(105),o=n(394);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.promisesForPopulate=t.populateList=t.getPopulateChild=t.getPopulates=t.getPopulateObjs=t.getChildType=t.getPopulateObj=void 0;var i=n(115),o=r(i),a=n(117),s=r(a),u=n(193),c=r(u),l=n(79),f=r(l),h=n(35),p=r(h),d=n(54),m=r(d),y=n(10),v=r(y),g=n(12),b=r(g),_=n(6),w=r(_),E=n(32),T=r(E),S=n(195),O=r(S),C=t.getPopulateObj=function(e){if(!(0,T.default)(e))return e;var t=e.split(":");return{child:t[0],root:t[1]}},N=(t.getChildType=function(e){return(0,T.default)(e)?"string":(0,w.default)(e)?"array":(0,v.default)(e)?"object":"other"},t.getPopulateObjs=function(e){return(0,w.default)(e)?e.map(function(e){return(0,v.default)(e)?e:C(e)}):e}),I=(t.getPopulates=function(e){var t=(0,O.default)(e,function(e){return-1!==e.indexOf("populate")||(0,v.default)(e)&&e.populates}).map(function(e){return e.split("=")[1]});return t.length?t.map(C):null},t.getPopulateChild=function(e,t,n){return e.database().ref().child(t.root+"/"+n).once("value").then(function(e){return e.val()})}),k=t.populateList=function(e,t,n,r){return r[n.root]||(0,c.default)(r,n.root,{}),Promise.all((0,m.default)(t,function(t,i){var o=!0===t||n.populateByKey?i:t;return I(e,n,o).then(function(e){return e?(0,c.default)(r,n.root+"."+o,e):r})}))},A=t.promisesForPopulate=function(e,t,n,r){var i=[],a={},u=N((0,b.default)(r)?r(t,n):r);return(0,o.default)(u,function(e){return(0,s.default)(n,e.child)})?(0,f.default)(u,function(t){return(0,T.default)((0,p.default)(n,t.child))?i.push(I(e,t,(0,p.default)(n,t.child)).then(function(e){e&&(0,c.default)(a,t.root+"."+(0,p.default)(n,t.child),e)})):i.push(k(e,(0,p.default)(n,t.child),t,a))}):(0,f.default)(n,function(t,n){var o=C((0,b.default)(r)?r(n,t):r);(0,f.default)(o,function(n){var r=(0,p.default)(t,n.child);if(r)return(0,T.default)(r)?i.push(I(e,n,r).then(function(e){return e&&(0,c.default)(a,n.root+"."+r,e),a})):(0,w.default)(r)||(0,v.default)(r)?i.push(k(e,r,n,a)):void 0})}),Promise.all(i).then(function(){return a})};t.default={promisesForPopulate:A}},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(55),o=n(50),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t))}var i=n(80),o=n(38),a=n(400),s=n(6);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){var r=n(407),i=n(121),o=i(function(e,t){return null==e?{}:r(e,t)});e.exports=o},function(e,t,n){var r=n(45),i=n(123),o=n(114),a=n(36),s=n(39),u=n(425),c=n(121),l=n(125),f=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),s(e,l(e),n),c&&(n=i(n,7,u));for(var f=t.length;f--;)o(n,t[f]);return n});e.exports=f},function(e,t,n){var r=n(10),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){function r(e,t,n){return i(o,e,t,n)}var i=n(437),o=n(439);e.exports=r},function(e,t,n){function r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=i(e.prototype),r=e.apply(n,t);return o(r)?r:n}}var i=n(83),o=n(10);e.exports=r},function(e,t,n){"use strict";var r=function(e){return e&&"object"===typeof e&&"default"in e?e.default:e}(n(24));n(234),n(490),n(235),n(493),n(494),n(495),n(496),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),e.exports=r},function(e,t,n){"use strict";function r(e){o.forEach(function(t){t.logLevel=e})}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"LogLevel",function(){return i}),n.d(t,"Logger",function(){return u}),n.d(t,"setLogLevel",function(){return r});var i,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r=n(20),i=(n.n(r),n(0)),o=(n.n(i),function(e){return function(t,n,r){var i=r.getFirestore,o=i(),a=!1;o.collection("studentClasses").where("courseId","==",e.courseId).where("studentId","==",e.studentId).get().then(function(e){e.forEach(function(e){e.id&&(t({type:"CREATE_COURSE_DUPLICATE"}),a=!0)})}),a||o.collection("studentClasses").add(Object.assign({},e)).then(function(){t({type:"CREATE_COURSE_SUCCESS"})}).catch(function(e){t({type:"CREATE_COURSE_ERROR"},e)})}}),a=function(e){return function(t,n,r){(0,r.getFirestore)().collection("teacherClasses").add(Object.assign({},e,{createdAt:new Date})).then(function(){t({type:"CREATE_COURSE_SUCCESS"})}).catch(function(e){t({type:"CREATE_COURSE_ERROR"},e)})}},s=function(e,t){console.log(e);var n=!t;Object(r.getFirestore)().collection("courses").doc(e).update({isAttnBeingTaken:n}).then(function(){window.location.reload()})}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var i=n(533);e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(91),h=n(5),p=n.n(h),d=n(63),m=n(3),y={a11y:l.a.bool,disabled:l.a.bool,direction:l.a.oneOf(["up","down","left","right"]),group:l.a.bool,isOpen:l.a.bool,nav:l.a.bool,active:l.a.bool,addonType:l.a.oneOfType([l.a.bool,l.a.oneOf(["prepend","append"])]),size:l.a.string,tag:m.t,toggle:l.a.func,children:l.a.node,className:l.a.string,cssModule:l.a.object,inNavbar:l.a.bool,setActiveFromChild:l.a.bool},v={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1},g=[m.o.space,m.o.enter,m.o.up,m.o.down,m.o.end,m.o.home],b=function(e){function t(t){var n;return n=e.call(this,t)||this,n.addEvents=n.addEvents.bind(Object(o.a)(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Object(o.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(o.a)(n)),n.removeEvents=n.removeEvents.bind(Object(o.a)(n)),n.toggle=n.toggle.bind(Object(o.a)(n)),n.handleMenuRef=n.handleMenuRef.bind(Object(o.a)(n)),n.containerRef=u.a.createRef(),n.menuRef=u.a.createRef(),n}Object(a.a)(t,e);var n=t.prototype;return n.handleMenuRef=function(e){this.menuRef.current=e},n.getContextValue=function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef}},n.componentDidMount=function(){this.handleProps()},n.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},n.componentWillUnmount=function(){this.removeEvents()},n.getContainer=function(){return this.containerRef.current},n.getMenu=function(){return this.menuRef.current},n.getMenuCtrl=function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]"),this._$menuCtrl)},n.getMenuItems=function(){var e=this.getMenu()||this.getContainer();return[].slice.call(e.querySelectorAll('[role="menuitem"]'))},n.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})},n.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===m.o.tab)){var t=this.getContainer(),n=this.getMenu(),r=t.contains(e.target)&&t!==e.target,i=n&&n.contains(e.target)&&n!==e.target;(!r&&!i||"keyup"===e.type&&e.which!==m.o.tab)&&this.toggle(e)}},n.handleKeyDown=function(e){var t=this,n="menuitem"===e.target.getAttribute("role"),r=this.getMenuCtrl()===e.target,i=m.o.tab===e.which;if(!(/input|textarea/i.test(e.target.tagName)||i&&!this.props.a11y||i&&!n&&!r)&&((-1!==g.indexOf(e.which)||e.which>=48&&e.which<=90)&&e.preventDefault(),!this.props.disabled&&(r&&([m.o.space,m.o.enter,m.o.up,m.o.down].indexOf(e.which)>-1?(this.props.isOpen||this.toggle(e),setTimeout(function(){return t.getMenuItems()[0].focus()})):this.props.isOpen&&i?(e.preventDefault(),this.getMenuItems()[0].focus()):this.props.isOpen&&e.which===m.o.esc&&this.toggle(e)),this.props.isOpen&&"menuitem"===e.target.getAttribute("role"))))if([m.o.tab,m.o.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([m.o.space,m.o.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([m.o.down,m.o.up].indexOf(e.which)>-1||[m.o.n,m.o.p].indexOf(e.which)>-1&&e.ctrlKey){var o=this.getMenuItems(),a=o.indexOf(e.target);m.o.up===e.which||m.o.p===e.which&&e.ctrlKey?a=0!==a?a-1:o.length-1:(m.o.down===e.which||m.o.n===e.which&&e.ctrlKey)&&(a=a===o.length-1?0:a+1),o[a].focus()}else if(m.o.end===e.which){var s=this.getMenuItems();s[s.length-1].focus()}else if(m.o.home===e.which){var u=this.getMenuItems();u[0].focus()}else if(e.which>=48&&e.which<=90)for(var c=this.getMenuItems(),l=String.fromCharCode(e.which).toLowerCase(),f=0;f<c.length;f+=1){var h=c[f].textContent&&c[f].textContent[0].toLowerCase();if(h===l){c[f].focus();break}}},n.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},n.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e,t,n=Object(m.q)(this.props,["toggle","disabled","inNavbar","a11y"]),o=n.className,a=n.cssModule,s=n.direction,c=n.isOpen,l=n.group,h=n.size,y=n.nav,v=n.setActiveFromChild,g=n.active,b=n.addonType,_=n.tag,w=Object(i.a)(n,["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag"]),E=_||(y?"li":"div"),T=!1;v&&u.a.Children.map(this.props.children[1].props.children,function(e){e&&e.props.active&&(T=!0)});var S=Object(m.p)(p()(o,"down"!==s&&"drop"+s,!(!y||!g)&&"active",!(!v||!T)&&"active",(e={},e["input-group-"+b]=b,e["btn-group"]=l,e["btn-group-"+h]=!!h,e.dropdown=!l&&!b,e.show=c,e["nav-item"]=y,e)),a);return u.a.createElement(d.a.Provider,{value:this.getContextValue()},u.a.createElement(f.a,null,u.a.createElement(E,Object(r.a)({},w,(t={},t["string"===typeof E?"ref":"innerRef"]=this.containerRef,t),{onKeyDown:this.handleKeyDown,className:S}))))},t}(u.a.Component);b.propTypes=y,b.defaultProps=v,t.a=b},function(e,t,n){"use strict";var r=n(574),i=n(155),o=n(592);n.d(t,"b",function(){return r.a}),n.d(t,"a",function(){return i.c}),n.d(t,"c",function(){return o.a})},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";var r=n(94);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(22),s=n.n(a),u=n(28),c=n.n(u),l=n(0),f=n.n(l),h=n(1),p=n.n(h),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;c()(null==n||1===f.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){s()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?f.a.Children.only(e):null},t}(f.a.Component);m.propTypes={history:p.a.object.isRequired,children:p.a.node},m.contextTypes={router:p.a.object},m.childContextTypes={router:p.a.object.isRequired},t.a=m},function(e,t,n){"use strict";var r=n(162),i=n.n(r),o={},a=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=o[n]||(o[n]={});if(r[e])return r[e];var s=[],u=i()(e,s,t),c={re:u,keys:s};return a<1e4&&(r[e]=c,a++),c},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,i=r.path,o=r.exact,a=void 0!==o&&o,u=r.strict,c=void 0!==u&&u,l=r.sensitive,f=void 0!==l&&l;if(null==i)return n;var h=s(i,{end:a,strict:c,sensitive:f}),p=h.re,d=h.keys,m=p.exec(e);if(!m)return null;var y=m[0],v=m.slice(1),g=e===y;return a&&!g?null:{path:i,url:"/"===i&&""===y?"/":y,isExact:g,params:d.reduce(function(e,t,n){return e[t.name]=v[n],e},{})}};t.a=u},function(e,t,n){"use strict";function r(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});var r=function(e){return function(t,n,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then(function(){t({type:"LOGIN_SUCCESS"})}).catch(function(e){t({type:"LOGIN_ERROR",err:e})})}},i=function(){return function(e,t,n){(0,n.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})}},o=function(e){return function(t,n,r){var i=r.getFirebase,o=r.getFirestore,a=i(),s=o();a.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return s.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],role:e.role})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(29),a=n.n(o),s=function(e){var t=e.project;return i.a.createElement("div",{className:"card z-depth-0 project-summary"},i.a.createElement("div",{className:"card-content grey-text text-darken-3"},i.a.createElement("span",{className:"card-title "},t.title),i.a.createElement("p",null,"Posted by ",t.authorFirstName," ",t.authorLastName),i.a.createElement("p",{className:"grey-text"},a()(t.createdAt.toDate()).calendar())))};t.a=s},function(e,t,n){var r=n(34),i=n(16),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(360),o=n(367),a=n(369),s=n(370),u=n(371);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,a,r,s))}var i=n(372),o=n(13);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(100),o=n(373),a=n(374);r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){var r=n(107),i=n(178),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return a.call(e,t)}))}:i;e.exports=u},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},function(e,t,n){var r=n(381),i=n(73),o=n(110),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){(function(e){var r=n(171),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(65)(e))},function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(74),o=n(382),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(6),o=n(51),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return o(e,r)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(41),o=n(45),a=n(6),s=n(51),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t,n){function r(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[s(o(t))]}var i=n(36),o=n(53),a=n(189),s=n(31);e.exports=r},function(e,t,n){function r(e,t,n){var r=s(e)?i:a;return n&&u(e,t,n)&&(t=void 0),r(e,o(t,3))}var i=n(174),o=n(19),a=n(398),s=n(6),u=n(116);e.exports=r},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(50),o=n(30),a=n(43),s=n(10);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(399),o=n(187);e.exports=r},function(e,t,n){function r(e,t,n,r){if(!s(e))return e;t=o(t,e);for(var c=-1,l=t.length,f=l-1,h=e;null!=h&&++c<l;){var p=u(t[c]),d=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=f){var m=h[p];d=r?r(m,p,h):void 0,void 0===d&&(d=s(m)?m:a(t[c+1])?[]:{})}i(h,p,d),h=h[p]}return e}var i=n(78),o=n(36),a=n(43),s=n(10),u=n(31);e.exports=r},function(e,t){function n(e){return r.test(e)}var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=n},function(e,t,n){function r(e,t){var n={};return t=a(t,3),o(e,function(e,r,o){i(n,r,t(e,r,o))}),n}var i=n(55),o=n(191),a=n(19);e.exports=r},function(e,t,n){function r(e){return a(o(e,void 0,i),e+"")}var i=n(408),o=n(201),a=n(122);e.exports=r},function(e,t,n){var r=n(409),i=n(202),o=i(r);e.exports=o},function(e,t,n){function r(e,t,n,D,j,M){var L,F=t&C,U=t&N,q=t&I;if(n&&(L=j?n(e,D,j,M):n(e)),void 0!==L)return L;if(!E(e))return e;var V=b(e);if(V){if(L=y(e),!F)return l(e,L)}else{var B=m(e),W=B==A||B==x;if(_(e))return c(e,F);if(B==P||B==k||W&&!j){if(L=U||W?{}:g(e),!F)return U?h(e,u(L,e)):f(e,s(L,e))}else{if(!R[B])return j?e:{};L=v(e,B,F)}}M||(M=new i);var z=M.get(e);if(z)return z;M.set(e,L),T(e)?e.forEach(function(i){L.add(r(i,t,n,i,e,M))}):w(e)&&e.forEach(function(i,o){L.set(o,r(i,t,n,o,e,M))});var H=q?U?d:p:U?O:S,Q=V?void 0:H(e);return o(Q||e,function(i,o){Q&&(o=i,i=e[o]),a(L,o,r(i,t,n,o,e,M))}),L}var i=n(66),o=n(80),a=n(78),s=n(203),u=n(411),c=n(204),l=n(59),f=n(414),h=n(415),p=n(176),d=n(125),m=n(44),y=n(416),v=n(417),g=n(207),b=n(6),_=n(72),w=n(421),E=n(10),T=n(423),S=n(42),O=n(58),C=1,N=2,I=4,k="[object Arguments]",A="[object Function]",x="[object GeneratorFunction]",P="[object Object]",R={};R[k]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[P]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[A]=R["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){var r=n(180),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){return i(e,a,o)}var i=n(177),o=n(205),a=n(58);e.exports=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(175);e.exports=r},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}var i=n(23),o=n(124),a=n(13),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=l.call(Object);e.exports=r},function(e,t,n){function r(e,t,n,f,h){e!==t&&a(t,function(a,c){if(h||(h=new i),u(a))s(e,t,c,n,r,f,h);else{var p=f?f(l(e,c),a,c+"",e,t,h):void 0;void 0===p&&(p=a),o(e,c,p)}},c)}var i=n(66),o=n(209),a=n(192),s=n(429),u=n(10),c=n(58),l=n(210);e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)}var i=n(30),o=n(13);e.exports=r},function(e,t,n){function r(e){return i(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}var i=n(60),o=n(116);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e?e.split(/\//).filter(function(e){return!!e}):[]}function o(e){return i(e).join("/")}function a(e){return i(e).join(".")}Object.defineProperty(t,"__esModule",{value:!0}),t.recursiveUnset=t.preserveValuesFromState=t.combineReducers=void 0;var s=n(436),u=r(s),c=n(6),l=r(c),f=n(81),h=r(f),p=n(227),d=r(p),m=n(12),y=r(m),v=n(56),g=r(v),b=n(228),_=r(b),w=n(35),E=r(w),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.pathToArr=i,t.getSlashStrPath=o,t.getDotStrPath=a;t.combineReducers=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return Object.keys(e).reduce(function(r,i){return r[i]=e[i](t[i],n),r},{})}},t.preserveValuesFromState=function(e,t,n){if((0,y.default)(t))return t(e,n);if((0,d.default)(t)&&t)return n?T({},e,n):e;if((0,l.default)(t))return(0,h.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array")},t.recursiveUnset=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return n;if((0,g.default)((0,E.default)(n,t))>0&&r)return n;var i=(0,u.default)(t,n);return e(t.match(/\./)?(0,_.default)(t,/\.[^.]*$/,""):"",i,!0)}},function(e,t,n){function r(e,t,n,r,E,T,S,O){var C=t&y;if(!C&&"function"!=typeof e)throw new TypeError(d);var N=r?r.length:0;if(N||(t&=~(b|_),r=E=void 0),S=void 0===S?S:w(p(S),0),O=void 0===O?O:p(O),N-=E?E.length:0,t&_){var I=r,k=E;r=E=void 0}var A=C?void 0:c(e),x=[e,t,n,r,E,I,k,T,S,O];if(A&&l(x,A),e=x[0],t=x[1],n=x[2],r=x[3],E=x[4],O=x[9]=void 0===x[9]?C?0:e.length:w(x[9]-N,0),!O&&t&(v|g)&&(t&=~(v|g)),t&&t!=m)P=t==v||t==g?a(e,t,O):t!=b&&t!=(m|b)||E.length?s.apply(void 0,x):u(e,t,n,r);else var P=o(e,t,n);return h((A?i:f)(P,x),e,t)}var i=n(213),o=n(441),a=n(442),s=n(215),u=n(456),c=n(219),l=n(457),f=n(222),h=n(223),p=n(225),d="Expected a function",m=1,y=2,v=8,g=16,b=32,_=64,w=Math.max;e.exports=r},function(e,t,n){function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var i=n(83),o=n(134),a=4294967295;r.prototype=i(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(136);e.exports=r},function(e,t,n){function r(e,t,n){return t===t?a(e,t,n):i(e,o,n)}var i=n(452),o=n(453),a=n(454);e.exports=r},function(e,t){function n(e,t){for(var n=-1,i=e.length,o=0,a=[];++n<i;){var s=e[n];s!==t&&s!==r||(e[n]=r,a[o++]=n)}return a}var r="__lodash_placeholder__";e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t.database&&t.database.ServerValue){var n=t.database().ref(),r=t._,i=r.config,o=i.presence,s=i.sessions,u=r.authUid,c=n.child(".info/connected"),l=n.child((0,a.default)(o)?o(t.auth().currentUser,t):o).child(u),f=(0,a.default)(s)?s(t.auth().currentUser,t):s;f&&(f=n.child(s)),c.on("value",function(n){if(n.val()){if(f){e({type:p.actionTypes.SESSION_START,payload:u});var r=f.push({startedAt:t.database.ServerValue.TIMESTAMP,user:u});(0,a.default)(r.setPriority)&&r.setPriority(u),r.child("endedAt").onDisconnect().set(t.database.ServerValue.TIMESTAMP,function(){e({type:p.actionTypes.SESSION_END})})}l.set(!0),l.onDisconnect().remove()}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateProfileOnFirestore=t.updateProfileOnRTDB=t.createAuthIsReady=t.authIsReady=t.getLoginMethodAndParams=void 0;var o=n(12),a=r(o),s=n(32),u=r(s),c=n(6),l=r(c),f=n(469),h=r(f);t.setupPresence=i;var p=n(17),d=function(e,t,n){var r=(0,h.default)(t)+"AuthProvider";if(!e.auth[r])throw new Error(t+" is not a valid auth provider for your firebase instance. If using react-native, use a RN specific auth library.");var i=new e.auth[r],o=e._.config.customAuthParameters;return o&&o[t]&&i.setCustomParameters(o[t]),"twitter"!==t.toLowerCase()&&(0,a.default)(i.addScope)?(i.addScope("email"),n&&((0,l.default)(n)&&n.forEach(function(e){i.addScope(e)}),(0,u.default)(n)&&i.addScope(n)),i):i},m=(t.getLoginMethodAndParams=function(e,t){var n=t.email,r=t.password,i=t.provider,o=t.type,a=t.token,s=t.scopes,u=t.phoneNumber,c=t.applicationVerifier,l=t.credential;if(l){return e.auth().signInAndRetrieveDataWithCredential?{method:"signInAndRetrieveDataWithCredential",params:[l]}:{method:"signInWithCredential",params:[l]}}if(i){if(-1===p.supportedAuthProviders.indexOf(i.toLowerCase()))throw new Error(i+" is not a valid Auth Provider");if(a)throw new Error("provider with token no longer supported, use credential parameter instead");var f=d(e,i,s);return"popup"===o?{method:"signInWithPopup",params:[f]}:{method:"signInWithRedirect",params:[f]}}if(a){return e.auth().signInAndRetrieveDataWithCustomToken?{method:"signInAndRetrieveDataWithCustomToken",params:[a]}:{method:"signInWithCustomToken",params:[a]}}if(u){if(!c)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[u,c]}}return e.auth().signInWithEmailAndPassword?{method:"signInWithEmailAndPassword",params:[n,r]}:{method:"signInAndRetrieveDataWithEmailAndPassword",params:[n,r]}},function(e,t){var n=e.getState(),r=t?n[t]:n;if(!r||!r.auth)throw new Error("The Firebase auth state could not be found in the store under the attribute '"+(t?t+".":"")+"auth'. Make sure your react-redux-firebase reducer is correctly set in the store");return r.auth.isLoaded}),y=t.authIsReady=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"firebase";return new Promise(function(n){if(m(e,t))n();else var r=e.subscribe(function(){m(e,t)&&(r(),n())})})};t.createAuthIsReady=function(e,t){return(0,a.default)(t.authIsReady)?t.authIsReady(e,t):y(e,t.firebaseStateName)},t.updateProfileOnRTDB=function(e,t){var n=e.database,r=e._,i=r.config,o=r.authUid,a=n().ref(i.userProfile+"/"+o);return a.update(t).then(function(){return a.once("value")})},t.updateProfileOnFirestore=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useSet,i=void 0===r||r,o=n.merge,a=void 0===o||o,s=e.firestore,u=e._,c=u.config,l=u.authUid,f=s().doc(c.userProfile+"/"+l);return(i?f.set(t,{merge:a}):f.update(t)).then(function(){return f.get()})}},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}var i=n(190);e.exports=r},function(e,t,n){function r(e){return o(e)?a(e):i(e)}var i=n(472),o=n(119),a=n(473);e.exports=r},function(e,t,n){function r(e,t){return i(e,t)}var i=n(101);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return Array.isArray(e)?e:Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(0,P.default)(t))throw new Error("where parameter must be an array.");return(0,D.default)(t[0])?t.length>1?e.where.apply(e,o(t)):e.where(t[0]):t.reduce(function(e,t){return a(e,t)},e)}function s(e,t){if(!(0,P.default)(t)&&!(0,D.default)(t))throw new Error("orderBy parameter must be an array or string.");return(0,D.default)(t)?e.orderBy(t):(0,D.default)(t[0])?e.orderBy.apply(e,o(t)):t.reduce(function(e,t){return s(e,t)},e)}function u(e,t){return t&&(0,C.default)(t,function(t){if(t.collection){if(!(0,E.default)(e.collection))throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'+t.collection+'" contains a doc parameter.');e=e.collection(t.collection)}t.doc&&(e=e.doc(t.doc)),t.where&&(e=a(e,t.where)),t.orderBy&&(e=s(e,t.orderBy)),t.limit&&(e=e.limit(t.limit)),t.startAt&&(e=e.startAt(t.startAt)),t.startAfter&&(e=e.startAfter(t.startAfter)),t.endAt&&(e=e.endAt(t.endAt)),t.endBefore&&(e=e.endBefore(t.endBefore)),e=u(e,t.subcollections)}),e}function c(e,t,n){if(!e.firestore)throw new Error("Firestore must be required and initalized.");var r=n.collection,i=n.doc,o=n.subcollections,c=n.where,l=n.orderBy,f=n.limit,h=n.startAt,p=n.startAfter,d=n.endAt,m=n.endBefore,y=e.firestore().collection(r);return i&&(y=y.doc(i)),y=u(y,o),c&&(y=a(y,c)),l&&(y=s(y,l)),f&&(y=y.limit(f)),h&&(y=y.startAt(h)),p&&(y=y.startAfter(p)),d&&(y=y.endAt(d)),m&&(y=y.endBefore(m)),y}function l(e){return(0,D.default)(e[0])?"where="+e.join(":"):e.map(l)}function f(e){if((0,D.default)(e))return e;var t=e.collection,n=e.doc,r=e.subcollections,i=e.where,o=e.limit;if(!t)throw new Error("Collection is required to build query name");var a=t;if(n&&(a=a.concat("/"+n)),r){a=a+"/"+r.map(function(e){return f(e)}).join("/")}if(i){if(!(0,P.default)(i))throw new Error("where parameter must be an array.");a=a.concat("?"+l(i))}if("undefined"!==typeof o){var s="limit="+o;a=a.concat((i?"&":"?")+s)}return a}function h(e,t){if(!t)throw new Error("Meta data is required to attach listener.");if(!(0,S.default)(e,"_.listeners"))throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function p(e,t){h(e,t);var n=f(t);return!!e._.listeners[n]}function d(e,t,n,r){h(e,n);var i=f(n);return e._.listeners[i]||(e._.listeners[i]=r),t({type:F.actionTypes.SET_LISTENER,meta:n,payload:{name:i}}),e._.listeners}function m(e,t,n){var r=f(n);e._.listeners[r]&&(e._.listeners[r](),delete e._.listeners[r]),t({type:F.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r}})}function y(e,t){var n=t||(0,I.default)(e,["/"]).split("/"),r=i(n),o=r[0],a=r[1],s=r.slice(2),u={};return o&&(u.collection=o),a&&(u.doc=a),s.length&&(u.subcollections=[y("",s)]),u}function v(e){if((0,D.default)(e))return y(e);if((0,M.default)(e)){if(!e.collection&&!e.doc)throw new Error("Collection and/or Doc are required parameters within query definition object.");return e}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function g(e){if((0,P.default)(e))return e.map(v);if((0,D.default)(e))return y(e);if((0,M.default)(e))return[v(e)];throw new Error("Querie(s) must be an Array or a string.")}function b(e){var t=[];if(e.data&&e.exists){var n=(0,M.default)(e.data())?L({id:e.id},e.data()||e.data):{id:e.id,data:e.data()};t.push(n)}else e.forEach&&e.forEach(function(e){var n=(0,M.default)(e.data())?L({id:e.id},e.data()||e.data):{id:e.id,data:e.data()};t.push(n)});return t}function _(e){var t={};return e.data&&e.exists?t[e.id]=e.data():e.forEach&&e.forEach(function(e){t[e.id]=e.data()||e}),(0,A.default)(t)?t:null}Object.defineProperty(t,"__esModule",{value:!0});var w=n(12),E=r(w),T=n(117),S=r(T),O=n(79),C=r(O),N=n(504),I=r(N),k=n(56),A=r(k),x=n(6),P=r(x),R=n(32),D=r(R),j=n(10),M=r(j),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.firestoreRef=c,t.getQueryName=f,t.listenerExists=p,t.attachListener=d,t.detachListener=m,t.queryStrToObj=y,t.getQueryConfig=v,t.getQueryConfigs=g,t.orderedFromSnap=b,t.dataByIdSnapshot=_;var F=n(21)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(242);Object.defineProperty(t,"DefaultToastContainer",{enumerable:!0,get:function(){return r.ToastContainer}});var i=n(148);Object.defineProperty(t,"DefaultToast",{enumerable:!0,get:function(){return i.DefaultToast}});var o=n(546);Object.defineProperty(t,"ToastConsumer",{enumerable:!0,get:function(){return o.ToastConsumer}}),Object.defineProperty(t,"ToastProvider",{enumerable:!0,get:function(){return o.ToastProvider}}),Object.defineProperty(t,"withToastManager",{enumerable:!0,get:function(){return o.withToastManager}}),Object.defineProperty(t,"useToasts",{enumerable:!0,get:function(){return o.useToasts}})},function(e,t,n){"use strict";function r(e,t,n,a){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return o={name:n.name,styles:n.styles,next:o},n.name;if(void 0!==n.styles){var s=n.next;if(void 0!==s)for(;void 0!==s;)o={name:s.name,styles:s.styles,next:o},s=s.next;var u=n.styles+";";return u}return i(e,t,n);case"function":if(void 0!==e){var c=o,l=n(e);return o=c,r(e,t,l,a)}break;case"string":;}if(null==t)return n;var f=t[n];return void 0===f||a?n:f}function i(e,t,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=r(e,t,n[o],!1);else for(var a in n){var s=n[a];if("object"!==typeof s)null!=t&&void 0!==t[s]?i+=a+"{"+t[s]+"}":h(s)&&(i+=p(a)+":"+d(a,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var u=r(e,t,s,!1);switch(a){case"animation":case"animationName":i+=p(a)+":"+u+";";break;default:i+=a+"{"+u+"}"}}else for(var c=0;c<s.length;c++)h(s[c])&&(i+=p(a)+":"+d(a,s[c])+";")}return i}n.d(t,"a",function(){return y});var o,a=n(534),s=n(535),u=n(536),c=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,f=function(e){return 45===e.charCodeAt(1)},h=function(e){return null!=e&&"boolean"!==typeof e},p=Object(u.a)(function(e){return f(e)?e:e.replace(c,"-$&").toLowerCase()}),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(l,function(e,t,n){return o={name:t,styles:n,next:o},t})}return 1===s.a[e]||f(e)||"number"!==typeof t||0===t?t:t+"px"},m=/label:\s*([^\s;\n{]+)\s*;/g,y=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,s="";o=void 0;var u=e[0];null==u||void 0===u.raw?(i=!1,s+=r(n,t,u,!1)):s+=u[0];for(var c=1;c<e.length;c++)s+=r(n,t,e[c],46===s.charCodeAt(s.length-1)),i&&(s+=u[c]);m.lastIndex=0;for(var l,f="";null!==(l=m.exec(s));)f+="-"+l[1];var h=Object(a.a)(s)+f;return{name:h,styles:s,next:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(537);n.d(t,"CSSTransition",function(){return r.a});var i=n(541);n.d(t,"ReplaceTransition",function(){return i.a});var o=n(543);n.d(t,"SwitchTransition",function(){return o.a});var a=n(251);n.d(t,"TransitionGroup",function(){return a.a});var s=n(146);n.d(t,"Transition",function(){return s.d});var u=n(249);n.d(t,"config",function(){return u.a})},function(e,t,n){"use strict";function r(){}n.d(t,"b",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return v});var i=n(4),o=n(7),a=n(1),s=(n.n(a),n(0)),u=n.n(s),c=n(25),l=n.n(c),f=n(249),h=(n(250),n(147)),p="unmounted",d="exited",m="entering",y="entered",v="exiting",g=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=d,r.appearStatus=m):i=y:i=t.unmountOnExit||t.mountOnEnter?p:d,r.state={status:i},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==y&&(t=m):n!==m&&n!==y||(t=v)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:p})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;if(!e&&!n||f.a.disabled)return void this.safeSetState({status:y},function(){t.props.onEntered(o)});this.props.onEnter(o,a),this.safeSetState({status:m},function(){t.props.onEntering(o,a),t.onTransitionEnd(u,function(){t.safeSetState({status:y},function(){t.props.onEntered(o,a)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.a.findDOMNode(this);if(!t||f.a.disabled)return void this.safeSetState({status:d},function(){e.props.onExited(r)});this.props.onExit(r),this.safeSetState({status:v},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:d},function(){e.props.onExited(r)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(!n||r)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return u.a.createElement(h.a.Provider,{value:null},"function"===typeof n?n(e,r):u.a.cloneElement(u.a.Children.only(n),r))},t}(u.a.Component);g.contextType=h.a,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:r,onEntering:r,onEntered:r,onExit:r,onExiting:r,onExited:r},g.UNMOUNTED=p,g.EXITED=d,g.ENTERING=m,g.ENTERED=y,g.EXITING=v,t.d=g},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.split("-");return{right:"translate3d(120%, 0, 0)",left:"translate3d(-120%, 0, 0)",bottom:"translate3d(0, 120%, 0)",top:"translate3d(0, -120%, 0)"}["center"===t[1]?t[0]:t[1]]}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultToast=t.shrinkKeyframes=t.toastWidth=t.gutter=t.borderRadius=void 0;var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["from { height: 100%; } to { height: 0% }"],["from { height: 100%; } to { height: 0% }"]),u=n(0),c=(function(e){e&&e.__esModule}(u),n(243)),l=n(544),f=n(545),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n(149),d=t.borderRadius=4,m=t.gutter=8,y=t.toastWidth=360,v=t.shrinkKeyframes=(0,c.keyframes)(s),g=function(e){var t=e.tag,n=r(e,["tag"]);return(0,c.jsx)(t,a({css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},n))};g.defaultProps={tag:"span"};var b={success:{icon:l.CheckIcon,text:h.G500,fg:h.G300,bg:h.G50},error:{icon:l.FlameIcon,text:h.R500,fg:h.R300,bg:h.R50},warning:{icon:l.AlertIcon,text:h.Y500,fg:h.Y300,bg:h.Y50},info:{icon:l.InfoIcon,text:h.N400,fg:h.B200,bg:"white"}},_=function(e){return(0,c.jsx)("div",a({role:"button",className:"react-toast-notifications__toast__dismiss-button",css:{cursor:"pointer",flexShrink:0,opacity:.5,padding:m+"px "+1.5*m+"px",transition:"opacity 150ms",":hover":{opacity:1}}},e))},w=function(e){return(0,c.jsx)("div",a({className:"react-toast-notifications__toast__content",css:{flexGrow:1,fontSize:14,lineHeight:1.4,minHeight:40,padding:m+"px "+1.5*m+"px"}},e))},E=function(e){var t=e.autoDismissTimeout,n=e.opacity,i=e.isRunning,o=r(e,["autoDismissTimeout","opacity","isRunning"]);return(0,c.jsx)("div",a({className:"react-toast-notifications__toast__countdown",css:{animation:v+" "+t+"ms linear",animationPlayState:i?"running":"paused",backgroundColor:"rgba(0,0,0,0.1)",bottom:0,height:0,left:0,opacity:n,position:"absolute",width:"100%"}},o))},T=function(e){var t=e.appearance,n=e.autoDismiss,r=e.autoDismissTimeout,i=e.isRunning,o=b[t],a=o.icon;return(0,c.jsx)("div",{className:"react-toast-notifications__toast__icon-wrapper",css:{backgroundColor:o.fg,borderTopLeftRadius:d,borderBottomLeftRadius:d,color:o.bg,flexShrink:0,paddingBottom:m,paddingTop:m,position:"relative",overflow:"hidden",textAlign:"center",width:30}},(0,c.jsx)(E,{opacity:n?1:0,autoDismissTimeout:r,isRunning:i}),(0,c.jsx)(a,{className:"react-toast-notifications__toast__icon",css:{position:"relative",zIndex:1}}))},S=function(e){return{entering:{transform:i(e)},entered:{transform:"translate3d(0,0,0)"},exiting:{transform:"scale(0.66)",opacity:0},exited:{transform:"scale(0.66)",opacity:0}}},O=function(e){var t=e.appearance,n=e.placement,i=e.transitionDuration,s=e.transitionState,l=r(e,["appearance","placement","transitionDuration","transitionState"]),f=(0,u.useState)("auto"),h=o(f,2),p=h[0],v=h[1],g=(0,u.useRef)(null);return(0,u.useEffect)(function(){if("entered"===s){var e=g.current;v(e.offsetHeight+m)}"exiting"===s&&v(0)},[s]),(0,c.jsx)("div",{ref:g,style:{height:p},css:{transition:"height "+(i-100)+"ms 100ms"}},(0,c.jsx)("div",a({className:"react-toast-notifications__toast react-toast-notifications__toast--"+t,css:a({backgroundColor:b[t].bg,borderRadius:d,boxShadow:"0 3px 8px rgba(0, 0, 0, 0.175)",color:b[t].text,display:"flex",marginBottom:m,maxWidth:"100%",transition:"transform "+i+"ms cubic-bezier(0.2, 0, 0, 1), opacity "+i+"ms",width:y},S(n)[s])},l)))},C=function(e){var t=e.appearance,n=void 0===t?"info":t,i=e.autoDismiss,o=e.autoDismissTimeout,s=e.children,u=e.isRunning,f=e.onDismiss,h=e.placement,p=e.transitionDuration,d=e.transitionState,m=e.onMouseEnter,y=e.onMouseLeave,v=r(e,["appearance","autoDismiss","autoDismissTimeout","children","isRunning","onDismiss","placement","transitionDuration","transitionState","onMouseEnter","onMouseLeave"]);return(0,c.jsx)(O,a({appearance:n,placement:h,transitionState:d,transitionDuration:p,onMouseEnter:m,onMouseLeave:y},v),(0,c.jsx)(T,{appearance:n,autoDismiss:i,autoDismissTimeout:o,isRunning:u}),(0,c.jsx)(w,null,s),f?(0,c.jsx)(_,{onClick:f},(0,c.jsx)(l.CloseIcon,{className:"react-toast-notifications__toast__dismiss-icon"}),(0,c.jsx)(g,{className:"react-toast-notifications__toast__dismiss-text"},"Close")):null)};t.DefaultToast=C,C.defaultProps={onDismiss:p.NOOP}},function(e,t,n){"use strict";function r(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return e=("000"+e.toString(36)).slice(-3),t=("000"+t.toString(36)).slice(-3),e+t}Object.defineProperty(t,"__esModule",{value:!0}),t.generateUEID=r;t.NOOP=function(){}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(3),d={active:l.a.bool,"aria-label":l.a.string,block:l.a.bool,color:l.a.string,disabled:l.a.bool,outline:l.a.bool,tag:p.t,innerRef:l.a.oneOfType([l.a.object,l.a.func,l.a.string]),onClick:l.a.func,size:l.a.string,children:l.a.node,className:l.a.string,cssModule:l.a.object,close:l.a.bool},m={color:"secondary",tag:"button"},y=function(e){function t(t){var n;return n=e.call(this,t)||this,n.onClick=n.onClick.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){return this.props.disabled?void e.preventDefault():this.props.onClick?this.props.onClick(e):void 0},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],o=e.block,a=e.className,s=e.close,c=e.cssModule,l=e.color,f=e.outline,d=e.size,m=e.tag,y=e.innerRef,v=Object(i.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);s&&"undefined"===typeof v.children&&(v.children=u.a.createElement("span",{"aria-hidden":!0},"\xd7"));var g="btn"+(f?"-outline":"")+"-"+l,b=Object(p.p)(h()(a,{close:s},s||"btn",s||g,!!d&&"btn-"+d,!!o&&"btn-block",{active:t,disabled:this.props.disabled}),c);v.href&&"button"===m&&(m="a");var _=s?"Close":null;return u.a.createElement(m,Object(r.a)({type:"button"===m&&v.onClick?"button":void 0},v,{className:b,ref:y,onClick:this.onClick,"aria-label":n||_}))},t}(u.a.Component);y.propTypes=d,y.defaultProps=m,t.a=y},function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(580);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(153),i=n(257),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(r,a,arguments);if(u&&c){u(t,"length").configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(r,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return d});var r=n(89),i=n.n(r),o=n(151),a=n.n(o),s=n(152),u=n.n(s),c=n(0),l=(n.n(c),n(589)),f=n.n(l),h=f()(),p=f()(),d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,u()(a()(a()(t)),"referenceNode",void 0),u()(a()(a()(t)),"setReferenceNode",function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())}),t}i()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return c.createElement(h.Provider,{value:this.referenceNode},c.createElement(p.Provider,{value:this.setReferenceNode},this.props.children))},t}(c.Component)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(598)),o=r(n(603)),a=r(n(267)),s=r(n(264));e.exports={Transition:s.default,TransitionGroup:a.default,ReplaceTransition:o.default,CSSTransition:i.default}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(o.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=n(15),a=n(2),s=n(4),u=n(9),c=n(7),l=n(0),f=n.n(l),h=n(1),p=n.n(h),d=n(5),m=n.n(d),y=n(156),v=(n.n(y),n(3)),g=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={startAnimation:!1},n.onEnter=n.onEnter.bind(Object(u.a)(n)),n.onEntering=n.onEntering.bind(Object(u.a)(n)),n.onExit=n.onExit.bind(Object(u.a)(n)),n.onExiting=n.onExiting.bind(Object(u.a)(n)),n.onExited=n.onExited.bind(Object(u.a)(n)),n}Object(c.a)(t,e);var n=t.prototype;return n.onEnter=function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)},n.onEntering=function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n},n.onExit=function(e){this.setState({startAnimation:!1}),this.props.onExit(e)},n.onExiting=function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)},n.onExited=function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.in,r=t.children,i=t.cssModule,o=t.slide,u=t.tag,c=t.className,l=Object(s.a)(t,["in","children","cssModule","slide","tag","className"]);return f.a.createElement(y.Transition,Object(a.a)({},l,{enter:o,exit:o,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var n=e.context.direction,o=t===v.d.ENTERED||t===v.d.EXITING,a=(t===v.d.ENTERING||t===v.d.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),s=t===v.d.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),l=Object(v.p)(m()(c,"carousel-item",o&&"active",a,s),i);return f.a.createElement(u,{className:l},r)})},t}(f.a.Component);g.propTypes=i(i({},y.Transition.propTypes),{},{tag:v.t,in:p.a.bool,cssModule:p.a.object,children:p.a.node,slide:p.a.bool,className:p.a.string}),g.defaultProps=i(i({},y.Transition.defaultProps),{},{tag:"div",timeout:v.e.Carousel,slide:!0}),g.contextTypes={direction:p.a.string},t.a=g},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return v=e,g}}function o(e,t){try{return e(t)}catch(e){return v=e,g}}function a(e,t,n){try{e(t,n)}catch(e){return v=e,g}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&m(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new d(t,n,a))})}function c(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);l(e,t)}function l(e,t){y(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):h(t.promise,e._18));var r=o(n,e._18);r===g?h(t.promise,v):f(t.promise,r)})}function f(e,t){if(t===e)return h(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===g)return h(e,v);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void p(e);if("function"===typeof n)return void m(n.bind(t),e)}e._83=1,e._18=t,p(e)}function h(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),p(e)}function p(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,h(t,e))});n||r!==g||(n=!0,h(t,v))}var y=n(284),v=null,g={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new d(e,t,n)),n}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(28),h=n.n(f),p=n(40),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},y=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!m(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?t.replace(o):t.push(o)}},a=n,o(r,a)}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,i=r(e,["replace","to","innerRef"]);h()(this.context.router,"You should not use <Link> outside a <Router>"),h()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,a="string"===typeof t?Object(p.c)(t,null,null,o.location):t,s=o.createHref(a);return u.a.createElement("a",d({},i,{onClick:this.handleClick,href:s,ref:n}))},t}(u.a.Component);y.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},y.defaultProps={replace:!1},y.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},t.a=y},function(e,t,n){"use strict";var r=n(161);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(22),s=n.n(a),u=n(28),c=n.n(u),l=n(0),f=n.n(l),h=n(1),p=n.n(h),d=n(95),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e){return 0===f.a.Children.count(e)},v=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,o=e.strict,a=e.exact,s=e.sensitive;if(n)return n;c()(t,"You should not use <Route> or withRouter() outside a <Router>");var u=t.route,l=(r||u.location).pathname;return Object(d.a)(l,{path:i,strict:o,exact:a,sensitive:s},u.match)},t.prototype.componentWillMount=function(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!y(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!y(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){s()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,o=this.context.router,a=o.history,s=o.route,u=o.staticContext,c=this.props.location||s.location,l={match:e,location:c,history:a,staticContext:u};return r?e?f.a.createElement(r,l):null:i?e?i(l):null:"function"===typeof n?n(l):n&&!y(n)?f.a.Children.only(n):null},t}(f.a.Component);v.propTypes={computedMatch:p.a.object,path:p.a.string,exact:p.a.bool,strict:p.a.bool,sensitive:p.a.bool,component:p.a.func,render:p.a.func,children:p.a.oneOfType([p.a.func,p.a.node]),location:p.a.object},v.contextTypes={router:p.a.shape({history:p.a.object.isRequired,route:p.a.object.isRequired,staticContext:p.a.object})},v.childContextTypes={router:p.a.object.isRequired},t.a=v},function(e,t,n){function r(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=g.exec(e));){var l=n[0],f=n[1],h=n.index;if(a+=e.slice(o,h),o=h+l.length,f)a+=f[1];else{var p=e[o],d=n[2],m=n[3],y=n[4],v=n[5],b=n[6],_=n[7];a&&(r.push(a),a="");var w=null!=d&&null!=p&&p!==d,E="+"===b||"*"===b,T="?"===b||"*"===b,S=n[2]||s,O=y||v;r.push({name:m||i++,prefix:d||"",delimiter:S,optional:T,repeat:E,partial:w,asterisk:!!_,pattern:O?c(O):_?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function i(e,t){return s(r(e,t),t)}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",f(t)));return function(t,r){for(var i="",s=t||{},u=r||{},c=u.pretty?o:encodeURIComponent,l=0;l<e.length;l++){var f=e[l];if("string"!==typeof f){var h,p=s[f.name];if(null==p){if(f.optional){f.partial&&(i+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(v(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(h=c(p[d]),!n[l].test(h))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===d?f.prefix:f.delimiter)+h}}else{if(h=f.asterisk?a(p):c(p),!n[l].test(h))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+h+'"');i+=f.prefix+h}}else i+=f}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}function p(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(y(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}function d(e,t,n){return m(r(e,n),t,n)}function m(e,t,n){v(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"===typeof s)o+=u(s);else{var c=u(s.prefix),h="(?:"+s.pattern+")";t.push(s),s.repeat&&(h+="(?:"+c+h+")*"),h=s.optional?s.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")",o+=h}}var p=u(n.delimiter||"/"),d=o.slice(-p.length)===p;return r||(o=(d?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function y(e,t,n){return v(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):v(e)?p(e,t,n):d(e,t,n)}var v=n(305);e.exports=y,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t,n){"use strict";var r=n(162),i=n.n(r),o={},a=0,s=function(e){var t=e,n=o[t]||(o[t]={});if(n[e])return n[e];var r=i.a.compile(e);return a<1e4&&(n[e]=r,a++),r},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:s(e)(t,{pretty:!0})};t.a=u},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(1),i=n.n(r),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),a=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired})},function(e,t,n){"use strict";function r(){}function i(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function o(e,t){var n,o;void 0===t&&(t={});var l=t,h=l.getDisplayName,m=void 0===h?function(e){return"ConnectAdvanced("+e+")"}:h,E=l.methodName,T=void 0===E?"connectAdvanced":E,S=l.renderCountProp,O=void 0===S?void 0:S,C=l.shouldHandleStateChanges,N=void 0===C||C,I=l.storeKey,k=void 0===I?"store":I,A=l.withRef,x=void 0!==A&&A,P=Object(c.a)(l,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=k+"Subscription",D=_++,j=(n={},n[k]=g.a,n[R]=g.b,n),M=(o={},o[R]=g.b,o);return function(t){p()(Object(y.isValidElementType)(t),"You must pass a component to the function returned by "+T+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",o=m(n),c=Object(u.a)({},P,{getDisplayName:m,methodName:T,renderCountProp:O,shouldHandleStateChanges:N,storeKey:k,withRef:x,displayName:o,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){var r;return r=n.call(this,e,t)||this,r.version=D,r.state={},r.renderCount=0,r.store=e[k]||t[k],r.propsMode=Boolean(e[k]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(s.a)(Object(s.a)(r))),p()(r.store,'Could not find "'+k+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+k+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}Object(a.a)(l,n);var f=l.prototype;return f.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[R]=t||this.context[R],e},f.componentDidMount=function(){N&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},f.componentWillReceiveProps=function(e){this.selector.run(e)},f.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},f.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=r,this.store=null,this.selector.run=r,this.selector.shouldComponentUpdate=!1},f.getWrappedInstance=function(){return p()(x,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+T+"() call."),this.wrappedInstance},f.setWrappedInstance=function(e){this.wrappedInstance=e},f.initSelector=function(){var t=e(this.store.dispatch,c);this.selector=i(t,this.store),this.selector.run(this.props)},f.initSubscription=function(){if(N){var e=(this.propsMode?this.props:this.context)[R];this.subscription=new v.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},f.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},f.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},f.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},f.addExtraProps=function(e){if(!x&&!O&&(!this.propsMode||!this.subscription))return e;var t=Object(u.a)({},e);return x&&(t.ref=this.setWrappedInstance),O&&(t[O]=this.renderCount++),this.propsMode&&this.subscription&&(t[R]=this.subscription),t},f.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(d.createElement)(t,this.addExtraProps(e.props))},l}(d.Component);b&&(l.prototype.UNSAFE_componentWillReceiveProps=l.prototype.componentWillReceiveProps,delete l.prototype.componentWillReceiveProps),l.WrappedComponent=t,l.displayName=o,l.childContextTypes=M,l.contextTypes=j,l.propTypes=j;return f()(l,t)}}t.a=o;var a=n(7),s=n(9),u=n(2),c=n(4),l=n(48),f=n.n(l),h=n(28),p=n.n(h),d=n(0),m=n.n(d),y=n(166),v=(n.n(y),n(324)),g=n(164),b="undefined"!==typeof m.a.forwardRef,_=0,w={}},function(e,t,n){"use strict";e.exports=n(323)},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function i(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function o(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=i(e);var o=r(t,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(t,n)),o},r}}t.a=r,t.b=o;n(168)},function(e,t,n){"use strict";n(329),n(96)},function(e,t,n){"use strict";var r,i=n(0),o=n.n(i),a=n(18),s=(n.n(a),n(14)),u=n(11),c=n(29),l=(n.n(c),n(86)),f=(n.n(l),function(e){var t=e.course;console.log("userProfile",r);var n="",i="",a="",s="",u="";return t&&t.courseTime?(t.courseTime.forEach(function(e){"M"==e.Day&&(n="active"),"T"==e.Day&&(i="active"),"W"==e.Day&&(a="active"),"TH"==e.Day&&(s="active"),"F"==e.Day&&(u="active")}),console.log("Teacher"!=r.role),t&&t.isAttnBeingTaken&&"Teacher"!=r.role?o.a.createElement("a",{href:"./attendance/"+t.id,className:"attnBeingTaken"},o.a.createElement("div",{className:"card z-depth-0 project-summary border-radius-20 "+t.isAttnBeingTaken},o.a.createElement("div",{className:"cardBackground border-radius-20-top-only "+t.imageId},o.a.createElement("p",null)),o.a.createElement("div",{className:"card-content grey-text text-darken-3"},o.a.createElement("span",{className:"card-title "}),o.a.createElement("p",{className:"courseName"},t.courseName),o.a.createElement("p",{className:"courseAbbr"},t.abbr)),o.a.createElement("div",null,o.a.createElement("div",{className:"day-of-week"},o.a.createElement("div",{className:n},"Mo"),o.a.createElement("div",{className:i},"Tu"),o.a.createElement("div",{className:a},"We"),o.a.createElement("div",{className:s},"Th"),o.a.createElement("div",{className:u},"Fr"))))):t&&!t.isAttnBeingTaken&&"Teacher"!=r.role?o.a.createElement("div",{className:"card z-depth-0 project-summary border-radius-20 "},o.a.createElement("div",{className:"cardBackground border-radius-20-top-only "+t.imageId},o.a.createElement("p",null)),o.a.createElement("div",{className:"card-content grey-text text-darken-3"},o.a.createElement("span",{className:"card-title "}),o.a.createElement("p",{className:"courseName"},t.courseName),o.a.createElement("p",{className:"courseAbbr"},t.abbr)),o.a.createElement("div",null,o.a.createElement("div",{className:"day-of-week"},o.a.createElement("div",{className:n},"Mo"),o.a.createElement("div",{className:i},"Tu"),o.a.createElement("div",{className:a},"We"),o.a.createElement("div",{className:s},"Th"),o.a.createElement("div",{className:u},"Fr")))):o.a.createElement("a",{href:"./teacherAttendance/"+t.id,className:"attnBeingTaken"},o.a.createElement("div",{className:"card z-depth-0 project-summary border-radius-20 "},o.a.createElement("div",{className:"cardBackground border-radius-20-top-only "+t.imageId},o.a.createElement("p",null)),o.a.createElement("div",{className:"card-content grey-text text-darken-3"},o.a.createElement("span",{className:"card-title "}),o.a.createElement("p",{className:"courseName"},t.courseName),o.a.createElement("p",{className:"courseAbbr"},t.abbr)),o.a.createElement("div",null,o.a.createElement("div",{className:"day-of-week"},o.a.createElement("div",{className:n},"Mo"),o.a.createElement("div",{className:i},"Tu"),o.a.createElement("div",{className:a},"We"),o.a.createElement("div",{className:s},"Th"),o.a.createElement("div",{className:u},"Fr")))))):o.a.createElement("div",null)}),h=function(e){return r=e.firebase.profile};t.a=Object(s.d)(Object(u.b)(h),Object(a.firestoreConnect)([{collection:"attendance"}]))(f)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseInstance=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(49),u=n(198),c=n(199);t.createFirebaseInstance=function(e,t,n){t.enableLogging&&e.database&&"function"===typeof e.database.enableLogging&&e.database.enableLogging(t.enableLogging);var i={watchers:{},listeners:{},callbacks:{},queries:{},config:t,authUid:null};Object.defineProperty(e,"_",{value:i,writable:!0,enumerable:!0,configurable:!0});var l=function(t,n,i,s){if((0,o.default)(i)){var u="update"===t?"updated":"created",c=a({},i,r({},u+"At",e.database.ServerValue.TIMESTAMP));return e.auth().currentUser&&(c[u+"By"]=e.auth().currentUser.uid),e.database().ref(n)[t](c,s)}return e.database().ref(n)[t](i,s)},f=function(t,n,r){return e.database().ref(t).set(n,r)},h=function(e,t,n){return l("set",e,t,n)},p=function(t,n,r){return e.database().ref(t).push(n,r)},d=function(e,t,n){return l("push",e,t,n)},m=function(t,n,r){return e.database().ref(t).update(n,r)},y=function(e,t,n){return l("update",e,t,n)},v=function(t,r,i){return c.queryActions.remove(e,n,t,i).then(function(){return"function"===typeof r&&r(),t})},g=function(t,n,r){return e.database().ref(t).transaction(function(e){return null===e?n:void 0}).then(function(e){var t=e.committed,n=e.snapshot;if(!t){var i=new Error("Path already exists.");return r&&r(i),Promise.reject(i)}return r&&r(n),n})},b=function(t,r,i,o){return c.storageActions.uploadFile(n,e,{path:t,file:r,dbPath:i,options:o})},_=function(t,r,i,o){return c.storageActions.uploadFiles(n,e,{path:t,files:r,dbPath:i,options:o})},w=function(t,r){return c.storageActions.deleteFile(n,e,{path:t,dbPath:r})},E=function(t,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.watchEvent(e,n,a({type:t,path:r,storeAs:i},o))},T=function(t,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.unWatchEvent(e,n,a({type:t,path:r,queryId:i},o))},S=function(t,r){var i=(0,s.createCallable)(t),o=i(r,e),a=(0,s.getEventsFromInput)(o);return Promise.all(a.map(function(t){return c.queryActions.watchEvent(e,n,t)}))},O=function(t){return c.authActions.login(n,e,t)},C=function(){return c.authActions.logout(n,e)},N=function(t,r){return c.authActions.createUser(n,e,t,r)},I=function(t){return c.authActions.resetPassword(n,e,t)},k=function(t,r){return c.authActions.confirmPasswordReset(n,e,t,r)},A=function(t){return c.authActions.verifyPasswordResetCode(n,e,t)},x=function(t,r){return c.authActions.updateProfile(n,e,t,r)},P=function(t,r){return c.authActions.updateAuth(n,e,t,r)},R=function(t,r){return c.authActions.updateEmail(n,e,t,r)},D=function(){return c.authActions.reloadAuth(n,e)},j=function(t){return c.authActions.linkWithCredential(n,e,t)},M=(0,u.mapWithFirebaseAndDispatch)(e,n,{signInWithPhoneNumber:c.authActions.signInWithPhoneNumber}),L=a({ref:function(t){return e.database().ref(t)},set:f,setWithMeta:h,uniqueSet:g,push:p,pushWithMeta:d,remove:v,update:m,updateWithMeta:y,login:O,logout:C,updateAuth:P,updateEmail:R,updateProfile:x,uploadFile:b,uploadFiles:_,deleteFile:w,createUser:N,resetPassword:I,confirmPasswordReset:k,verifyPasswordResetCode:A,watchEvent:E,unWatchEvent:T,reloadAuth:D,linkWithCredential:j,promiseEvents:S},M);return a(e,L,{helpers:L})}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(33))},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n,r,c,l){var f=n&s,h=e.length,p=t.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(e),m=l.get(t);if(d&&m)return d==t&&m==e;var y=-1,v=!0,g=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++y<h;){var b=e[y],_=t[y];if(r)var w=f?r(_,b,y,t,e,l):r(b,_,y,e,t,l);if(void 0!==w){if(w)continue;v=!1;break}if(g){if(!o(t,function(e,t){if(!a(g,t)&&(b===e||c(b,e,n,r,l)))return g.push(t)})){v=!1;break}}else if(b!==_&&!c(b,_,n,r,l)){v=!1;break}}return l.delete(e),l.delete(t),v}var i=n(102),o=n(174),a=n(103),s=1,u=2;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){var r=n(16),i=r.Uint8Array;e.exports=i},function(e,t,n){function r(e){return i(e,a,o)}var i=n(177),o=n(106),a=n(42);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(105),o=n(6);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=!n&&o(e),l=!n&&!r&&s(e),h=!n&&!r&&!l&&c(e),p=n||r||l||h,d=p?i(e.length,String):[],m=d.length;for(var y in e)!t&&!f.call(e,y)||p&&("length"==y||l&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||d.push(y);return d}var i=n(378),o=n(71),a=n(6),s=n(72),u=n(43),c=n(108),l=Object.prototype,f=l.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(34),i=n(16),o=r(i,"Set");e.exports=o},function(e,t,n){var r=n(34),i=n(16),o=r(i,"WeakMap");e.exports=o},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(10);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){var r=n(387),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(389),o=n(187);e.exports=r},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,l=t.length,f=!1;++r<l;){var h=c(t[r]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++r!=l?f:!!(l=null==e?0:e.length)&&u(l)&&s(h,l)&&(a(e)||o(e))}var i=n(36),o=n(71),a=n(6),s=n(43),u=n(109),c=n(31);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e,t){return t.length<2?e:i(e,o(t,0,-1))}var i=n(75),o=n(190);e.exports=r},function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=n},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(192),o=n(42);e.exports=r},function(e,t,n){var r=n(396),i=r();e.exports=i},function(e,t,n){function r(e,t,n){return null==e?e:i(e,t,n)}var i=n(118);e.exports=r},function(e,t,n){var r=n(34),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t,3))}var i=n(107),o=n(196),a=n(19),s=n(6);e.exports=r},function(e,t,n){function r(e,t){var n=[];return i(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}var i=n(38);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.populateAndDispatch=t.orderedFromSnapshot=t.applyParamsToQuery=t.unsetWatcher=t.getWatcherCount=t.setWatcher=t.getQueryIdFromPath=t.getWatchPath=void 0;var i=n(32),o=r(i),a=n(56),s=r(a),u=n(79),c=r(u),l=n(404),f=r(l),h=n(17),p=n(77),d=function(e){var t=Number(e);return(0,f.default)(t)?e:t},m=t.getWatchPath=function(e,t){if(!e||""===e||!t)throw new Error("Event and path are required");return e+":"+("/"===t.substring(0,1)?"":"/")+t},y=t.getQueryIdFromPath=function(e,t){if(!(0,o.default)(e))throw new Error("Query path must be a string");var n=e,r=e.split("#");e=r[0];var i=r.length>1,a=i?r[1].split("&"):[],s=i?a.map(function(e){var t=e.split("=");if("queryId"===t[0])return t[1]}).filter(function(e){return e}):void 0;return s&&s.length>0?t?t+":/"+s:s[0]:i?n:void 0},v=(t.setWatcher=function(e,t,n,r,i){var o=i||y(r,n)||m(n,r);return e._.watchers[o]?e._.watchers[o]++:e._.watchers[o]=1,t({type:h.actionTypes.SET_LISTENER,path:r,payload:{id:o}}),e._.watchers[o]},t.getWatcherCount=function(e,t,n,r){var i=r||y(n,t)||m(t,n);return e._.watchers[i]},t.unsetWatcher=function(e,t,n,r,i){var o=i||y(r,n)||m(n,r);r=r.split("#")[0];var a=e._.watchers;a[o]<=1?(delete a[o],"first_child"!==n&&"once"!==n&&e.database().ref().child(r).off(n)):a[o]&&a[o]--,t({type:h.actionTypes.UNSET_LISTENER,path:r,payload:{id:o}})},t.applyParamsToQuery=function(e,t){var n=!1;return e&&e.forEach(function(e){switch(e=e.split("="),e[0]){case"orderByValue":t=t.orderByValue(),n=!0;break;case"orderByPriority":t=t.orderByPriority(),n=!0;break;case"orderByKey":t=t.orderByKey(),n=!0;break;case"orderByChild":t=t.orderByChild(e[1]);break;case"limitToFirst":t=t.limitToFirst(parseInt(e[1],10));break;case"limitToLast":t=t.limitToLast(parseInt(e[1],10));break;case"notParsed":n=!0;break;case"parsed":n=!1;break;case"equalTo":var r=n?e[1]:d(e[1]);r="null"===r?null:r,r="false"!==r&&r,r="true"===r||r,t=3===e.length?t.equalTo(r,e[2]):t.equalTo(r);break;case"startAt":var i=n?e[1]:d(e[1]);i="null"===i?null:i,t=3===e.length?t.startAt(i,e[2]):t.startAt(i);break;case"endAt":var o=n?e[1]:d(e[1]);o="null"===o?null:o,t=3===e.length?t.endAt(o,e[2]):t.endAt(o)}}),t},t.orderedFromSnapshot=function(e){if(e.hasChildren&&!e.hasChildren())return null;var t=[];return e.forEach&&e.forEach(function(e){t.push({key:e.key,value:e.val()})}),(0,s.default)(t)?t:null});t.populateAndDispatch=function(e,t,n){var r=n.data,i=n.populates,o=n.snapshot,a=n.path,s=n.storeAs;return(0,p.promisesForPopulate)(e,o.key,r,i).then(function(e){return(0,c.default)(e,function(e,n){t({type:h.actionTypes.MERGE,path:n,data:e})}),t({type:h.actionTypes.SET,path:s||a,data:r,ordered:v(o)}),e}).catch(function(e){return t({type:h.actionTypes.ERROR,payload:e}),Promise.reject(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithFirebaseAndDispatch=t.wrapInDispatch=void 0;var a=n(120),s=r(a),u=n(10),c=r(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=(t.wrapInDispatch=function(e,t){var n=(t.ref,t.meta),r=t.method,i=t.args,a=void 0===i?[]:i,s=t.types,u=f(s,3),l=u[0],h=u[1],p=u[2];return e({type:(0,c.default)(l)?l.type:l,meta:n,payload:(0,c.default)(l)?l.payload:{args:a}}),r.apply(void 0,o(a)).then(function(t){return e({type:(0,c.default)(h)?h.type:h,meta:n,payload:(0,c.default)(h)?h.payload:t}),t}).catch(function(t){return e({type:p,meta:n,payload:t}),Promise.reject(t)})},function(e,t,n){return function(r){return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.apply(e,n?[t,e].concat(o):[e,t].concat(o))}}});t.mapWithFirebaseAndDispatch=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=h(e,t);return l({},(0,s.default)(n,o),r.reduce(function(e,t){var n=t.action,r=t.name;return l({},e,i({},r,o(n)))},{}))}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.storageActions=t.queryActions=t.authActions=void 0;var i=n(406),o=r(i),a=n(229),s=r(a),u=n(474),c=r(u);t.authActions=o,t.queryActions=s,t.storageActions=c,t.default={authActions:o,queryActions:s,storageActions:c}},function(e,t,n){function r(e,t,n){for(var r=-1,s=t.length,u={};++r<s;){var c=t[r],l=i(e,c);n(l,c)&&o(u,a(c,e),l)}return u}var i=n(75),o=n(118),a=n(36);e.exports=r},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),u=Array(s);++a<s;)u[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(u),i(e,this,c)}}var i=n(57),o=Math.max;e.exports=r},function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;e.exports=n},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(39),o=n(42);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}var i=n(16),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(65)(e))},function(e,t,n){var r=n(105),i=n(124),o=n(106),a=n(178),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=u},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(126);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:i(o(e))}var i=n(83),o=n(124),a=n(74);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.populate=t.fixPath=t.isEmpty=t.isLoaded=t.getVal=void 0;var a=n(12),s=r(a),u=n(6),c=r(u),l=n(115),f=r(l),h=n(426),p=r(h),d=n(32),m=r(d),y=n(427),v=r(y),g=n(211),b=r(g),_=n(212),w=r(_),E=n(120),T=r(E),S=n(54),O=r(S),C=n(53),N=r(C),I=n(117),k=r(I),A=n(35),x=r(A),P=n(193),R=r(P),D=n(56),j=r(D),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L=n(17),F=n(77),U=n(131),q=(t.getVal=function(e,t,n){if(!e)return n;var r=(0,U.getDotStrPath)(t);return(0,x.default)(e,r,n)},t.isLoaded=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t||!t.length||(0,w.default)(t,function(e){return void 0!==e&&!1!==(0,x.default)(e,"isLoaded")})},t.isEmpty=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,f.default)(t,function(e){return!(e&&(0,j.default)(e))||!0===e.isEmpty})},t.fixPath=function(e){return("/"===e.substring(0,1)?"":"/")+e},function(e,t,n){return(0,T.default)(t,function(t,r){var i=t;(!0===t||n.populateByKey)&&(i=r);var a=(0,p.default)(n.root.split("/")).join("."),s=[a,i];n.childParam&&s.push(n.childParam);var u=s.join(".");return(0,x.default)(e.data,u)?n.keyProp?M(o({},n.keyProp,i),(0,x.default)(e.data,u)):(0,x.default)(e.data,u):!0===t||n.populateByKey?t:i})}),V=function(e,t,n){var r=(0,x.default)(t,n.child);if(!t||!r)return null;if((0,m.default)(r)){var i=(0,p.default)(n.root.split("/")).join("."),a=[i,r];n.childParam&&a.push(n.childParam);var s=a.join("."),u=(0,x.default)(e.data,s);return u?(0,R.default)({},n.childAlias||n.child,n.keyProp?M(o({},n.keyProp,r),u):u):t}return(0,R.default)({},n.childAlias||n.child,q(e,r,n))};t.populate=function(e,t,n,r){var o=(0,p.default)(t.split("/")),a=-1===L.topLevelPaths.indexOf(o[0])?["data"].concat(i(o)):o,u=a.join("."),l=(0,x.default)(e,u,r);if(!e||l===r)return r;if(null===l)return null;var h=(0,F.getPopulateObjs)((0,s.default)(n)?n((0,N.default)(a),l):n);if((0,c.default)(l)){var d=function(e){return function(t){return(0,f.default)(e,function(e){return(0,k.default)(e,t)})}};return(0,f.default)(h,function(e){return d(l)(["value",e.child])})?l.map(function(t){var n=t.key,r=t.value;return{key:n,value:h.map(function(t){return V(e,r,t)}).reduce(function(e,t){return(0,v.default)(t,e)},r)}}):l}return(0,f.default)(h,function(e){return(0,k.default)(l,e.child)})?h.map(function(t){return V(e,l,t)}).reduce(function(e,t){return(0,v.default)(t,e)},l):-1!==a.indexOf("profile")?l:(0,T.default)(l,function(t,r){var i="ordered"===a[0]?t.key:r,o=(0,F.getPopulateObjs)((0,s.default)(n)?n(i,t):n);return(0,f.default)(o,function(e){return(0,k.default)(t,e.child)})?(0,b.default)((0,O.default)(o,function(n){return V(e,t,n)}),function(e,t){return(0,v.default)(t,e)},t):t})}},function(e,t,n){function r(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||i(e,t,n)}var i=n(55),o=n(50);e.exports=r},function(e,t){function n(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},function(e,t,n){function r(e,t,n){var r=u(e)?i:s,c=arguments.length<3;return r(e,a(t,4),n,c,o)}var i=n(432),o=n(38),a=n(19),s=n(433),u=n(6);e.exports=r},function(e,t,n){function r(e,t,n){var r=s(e)?i:o;return n&&u(e,t,n)&&(t=void 0),r(e,a(t,3))}var i=n(434),o=n(435),a=n(19),s=n(6),u=n(116);e.exports=r},function(e,t,n){var r=n(52),i=n(214),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(182),i=r&&new r;e.exports=i},function(e,t,n){function r(e,t,n,b,_,w,E,T,S,O){function C(){for(var p=arguments.length,d=Array(p),m=p;m--;)d[m]=arguments[m];if(A)var y=c(C),v=a(d,y);if(b&&(d=i(d,b,_,A)),w&&(d=o(d,w,E,A)),p-=v,A&&p<O){var g=f(d,y);return u(e,t,r,C.placeholder,n,d,g,T,S,O-p)}var R=I?n:this,D=k?R[e]:e;return p=d.length,T?d=l(d,T):x&&p>1&&d.reverse(),N&&S<p&&(d.length=S),this&&this!==h&&this instanceof C&&(D=P||s(D)),D.apply(R,d)}var N=t&v,I=t&p,k=t&d,A=t&(m|y),x=t&g,P=k?void 0:s(e);return C}var i=n(216),o=n(217),a=n(443),s=n(85),u=n(218),c=n(224),l=n(455),f=n(137),h=n(16),p=1,d=2,m=8,y=16,v=128,g=512;e.exports=r},function(e,t){function n(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=r(a-s,0),f=Array(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}var r=Math.max;e.exports=n},function(e,t){function n(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=r(a-u,0),h=Array(f+l),p=!i;++o<f;)h[o]=e[o];for(var d=o;++c<l;)h[d+c]=t[c];for(;++s<u;)(p||o<a)&&(h[d+n[s]]=e[o++]);return h}var r=Math.max;e.exports=n},function(e,t,n){function r(e,t,n,r,p,d,m,y,v,g){var b=t&l,_=b?m:void 0,w=b?void 0:m,E=b?d:void 0,T=b?void 0:d;t|=b?f:h,(t&=~(b?h:f))&c||(t&=~(s|u));var S=[e,t,p,E,_,T,w,y,v,g],O=n.apply(void 0,S);return i(e)&&o(O,S),O.placeholder=r,a(O,e,t)}var i=n(444),o=n(222),a=n(223),s=1,u=2,c=4,l=8,f=32,h=64;e.exports=r},function(e,t,n){var r=n(214),i=n(220),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var i=n(83),o=n(134);r.prototype=i(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){var r=n(213),i=n(202),o=i(r);e.exports=o},function(e,t,n){function r(e,t,n){var r=t+"";return a(e,o(r,s(i(r),n)))}var i=n(449),o=n(450),a=n(122),s=n(451);e.exports=r},function(e,t){function n(e){return e.placeholder}e.exports=n},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(458);e.exports=r},function(e,t,n){function r(e){return e?e.slice(0,i(e)+1).replace(o,""):e}var i=n(460),o=/^\s+/;e.exports=r},function(e,t,n){function r(e){return!0===e||!1===e||o(e)&&i(e)==a}var i=n(23),o=n(13),a="[object Boolean]";e.exports=r},function(e,t,n){function r(){var e=arguments,t=i(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var i=n(37);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.unWatchEvents=t.watchEvents=t.unWatchEvent=t.watchEvent=void 0;var r=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(17),a=n(197),s=t.watchEvent=function(e,t,n){if(!e.database||"function"!==typeof e.database)throw new Error("Firebase database is required to create watchers");var r=n.type,i=n.path,s=n.populates,u=n.queryParams,c=n.queryId,l=n.isQuery,f=n.storeAs,h=e._.config.logErrors,p=f?i+"@"+f:i,d=c||(0,a.getQueryIdFromPath)(i);if((0,a.getWatcherCount)(e,r,p,d)>0&&d&&(0,a.unsetWatcher)(e,t,r,i,d),(0,a.setWatcher)(e,t,r,p,d),"first_child"===r)return e.database().ref().child(i).orderByKey().limitToFirst(1).once("value").then(function(e){return null===e.val()&&t({type:o.actionTypes.NO_VALUE,path:f||i}),e}).catch(function(e){return t({type:o.actionTypes.ERROR,path:f||i,payload:e}),Promise.reject(e)});var m=e.database().ref().child(i);if(l&&(m=(0,a.applyParamsToQuery)(u,m)),t({type:o.actionTypes.START,path:f||i}),"once"===r)return m.once("value").then(function(n){return null===n.val()?t({type:o.actionTypes.NO_VALUE,path:f||i}):s?(0,a.populateAndDispatch)(e,t,{path:i,storeAs:f,snapshot:n,data:n.val(),populates:s}):t({type:o.actionTypes.SET,path:f||i,data:n.val(),ordered:(0,a.orderedFromSnapshot)(n)})}).catch(function(e){return t({type:o.actionTypes.UNAUTHORIZED_ERROR,payload:e}),Promise.reject(e)});m.on(r,function(n){var u="child_removed"===r?void 0:n.val(),c=f||"value"===r?i:i+"/"+n.key;if(!s){var l="child_added"===r?[{key:n.key,value:n.val()}]:(0,a.orderedFromSnapshot)(n);return t({type:o.actionTypes.SET,path:f||c,data:u,ordered:l})}return(0,a.populateAndDispatch)(e,t,{path:i,storeAs:f,snapshot:n,data:n.val(),populates:s})},function(e){h&&console.log("RRF: Error retrieving data for path: "+i+", storeAs: "+f+". Firebase:",e),t({type:o.actionTypes.ERROR,storeAs:f,path:i,payload:e})})},u=t.unWatchEvent=function(e,t,n){var r=n.type,i=n.path,o=n.storeAs,s=n.queryId,u=o?i+"@"+o:i;(0,a.unsetWatcher)(e,t,r,u,s)},c=t.watchEvents=function(e,t,n){if(!(0,i.default)(n))throw new Error("Events config must be an Array");return n.map(function(n){return s(e,t,n)})},l=t.unWatchEvents=function(e,t,n){return n.forEach(function(n){return u(e,t,n)})},f=t.remove=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.dispatchAction,a=void 0===i||i,s=e._.config.dispatchRemoveAction;return e.database().ref(n).remove().then(function(){return s&&a&&t({type:o.actionTypes.REMOVE,path:n}),n}).catch(function(e){return t({type:o.actionTypes.ERROR,payload:e}),Promise.reject(e)})};t.default={watchEvents:c,unWatchEvents:l,remove:f}},function(e,t){function n(e){if("function"!=typeof e)throw new TypeError(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var r="Expected a function";e.exports=n},function(e,t){function n(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){var r=n(84),i=r("assign",n(488));i.placeholder=n(61),e.exports=i},function(e,t,n){var r=n(84),i=r("setWith",n(489));i.placeholder=n(61),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(24),r=n.n(t);(function(){function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function n(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function i(e){return"string"==typeof e}function o(e){return"boolean"==typeof e}function a(){}function s(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function u(e){return null===e}function c(e){return"array"==s(e)}function l(e){var t=s(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){return"function"==s(e)}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function p(e,t,n){return e.call.apply(e.bind,arguments)}function d(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function m(e,t,n){return m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:d,m.apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function v(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.fd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function g(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function b(e){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function _(e,t){e=e.split("%s");for(var n="",r=e.length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");b.call(this,n+e[r])}function w(e,t){throw new _("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function E(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function T(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function S(){this.b=this.a=null}function O(){var e=Wc,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function C(){this.next=this.b=this.a=null}function N(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||sc,r.Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(h(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;w("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function I(e,t){for(var n=i(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}function k(e){e:{for(var t=fi,n=e.length,r=i(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:i(e)?e.charAt(t):e[t]}function A(e,t){return 0<=dc(e,t)}function x(e,t){t=dc(e,t);var n;return(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function P(e,t){var n=0;I(e,function(r,i){t.call(void 0,r,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&n++})}function R(e){return Array.prototype.concat.apply([],arguments)}function D(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function j(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function M(e){for(var t in e)return!1;return!0}function L(e){var t,n={};for(t in e)n[t]=e[t];return n}function F(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<gc.length;o++)n=gc[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e,t){this.a=e===_c&&t||"",this.b=bc}function q(e){return e instanceof U&&e.constructor===U&&e.b===bc?e.a:(w("expected object of type Const, got '"+e+"'"),"type_error:Const")}function V(){this.a="",this.b=Sc}function B(e){return e instanceof V&&e.constructor===V&&e.b===Sc?e.a:(w("expected object of type TrustedResourceUrl, got '"+e+"' of type "+s(e)),"type_error:TrustedResourceUrl")}function W(e,t){var n=q(e);if(!Tc.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ec,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[r],e instanceof U?q(e):encodeURIComponent(String(e))}),z(e)}function z(e){var t=new V;return t.a=e,t}function H(e,t){return-1!=e.indexOf(t)}function Q(e,t){return e<t?-1:e>t?1:0}function K(){this.a="",this.b=Dc}function G(e){return e instanceof K&&e.constructor===K&&e.b===Dc?e.a:(w("expected object of type SafeUrl, got '"+e+"' of type "+s(e)),"type_error:SafeUrl")}function Y(e){return e instanceof K?e:(e="object"==typeof e&&e.qa?e.pa():String(e),Rc.test(e)||(e="about:invalid#zClosurez"),$(e))}function $(e){var t=new K;return t.a=e,t}function X(e){return H(jc,e)}function J(){this.a="",this.b=Fc}function Z(e){return e instanceof J&&e.constructor===J&&e.b===Fc?e.a:(w("expected object of type SafeHtml, got '"+e+"' of type "+s(e)),"type_error:SafeHtml")}function ee(e){var t=new J;return t.a=e,t}function te(e){var t=z(q(wc));N(e,"HTMLIFrameElement"),e.src=B(t).toString()}function ne(e,t){N(e,"HTMLScriptElement"),e.src=B(t),null===cc&&(t=sc.document,cc=(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&uc.test(t)?t:""),(t=cc)&&e.setAttribute("nonce",t)}function re(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ie(e){return Pc.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Cc,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Nc,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Ic,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(kc,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Ac,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(xc,"&#0;"))),e}function oe(e){sc.setTimeout(function(){throw e},0)}function ae(){var e=sc.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!X("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",te(e),document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(Z(Uc)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=m(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!X("Trident")&&!X("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){sc.setTimeout(e,0)}}function se(e,t){Vc||ue(),Bc||(Vc(),Bc=!0),Wc.add(e,t)}function ue(){if(sc.Promise&&sc.Promise.resolve){var e=sc.Promise.resolve(void 0);Vc=function(){e.then(ce)}}else Vc=function(){var e=ce;!f(sc.setImmediate)||sc.Window&&sc.Window.prototype&&!X("Edge")&&sc.Window.prototype.setImmediate==sc.setImmediate?(qc||(qc=ae()),qc(e)):sc.setImmediate(e)}}function ce(){for(var e;e=O();){try{e.a.call(e.b)}catch(e){oe(e)}T(pc,e)}Bc=!1}function le(e,t){if(this.a=zc,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=a)try{var n=this;e.call(t,function(e){we(n,Hc,e)},function(e){if(!(e instanceof ke))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}we(n,Qc,e)})}catch(e){we(this,Qc,e)}}function fe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function he(e,t,n){var r=Kc.get();return r.g=e,r.b=t,r.f=n,r}function pe(e){if(e instanceof le)return e;var t=new le(a);return we(t,Hc,e),t}function de(e){return new le(function(t,n){n(e)})}function me(e,t,n){Ee(e,t,n,null)||se(y(t,e))}function ye(e){return new le(function(t,n){var r=e.length,i=[];if(r)for(var o,a=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],me(o,y(a,u),s);else t(i)})}function ve(e){return new le(function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],me(i,y(o,a,!0),y(o,a,!1));else t(r)})}function ge(e,t){if(e.a==zc)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==zc&&1==r?ge(n,t):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Oe(n),Ce(n,i,Qc,t)))}e.c=null}else we(e,Qc,t)}function be(e,t){e.b||e.a!=Hc&&e.a!=Qc||Se(e),e.f?e.f.next=t:e.b=t,e.f=t}function _e(e,t,n,r){var i=he(null,null,null);return i.a=new le(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof ke?o(t):e(i)}catch(e){o(e)}}:o}),i.a.c=e,be(e,i),i.a}function we(e,t,n){e.a==zc&&(e===n&&(t=Qc,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ee(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,Se(e),t!=Qc||n instanceof ke||Ie(e,n)))}function Ee(e,t,n,r){if(e instanceof le)return be(e,he(t||a,n||null,r)),!0;if(g(e))return e.then(t,n,r),!0;if(h(e))try{var i=e.then;if(f(i))return Te(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Te(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}function Se(e){e.h||(e.h=!0,se(e.Zb,e))}function Oe(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ce(e,t,n,r){if(n==Qc&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ne(t,n,r);else try{t.c?t.g.call(t.f):Ne(t,n,r)}catch(e){Gc.call(null,e)}T(Kc,t)}function Ne(e,t,n){t==Hc?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function Ie(e,t){e.g=!0,se(function(){e.g&&Gc.call(null,t)})}function ke(e){b.call(this,e)}function Ae(){0!=Yc&&($c[this[lc]||(this[lc]=++fc)]=this),this.ta=this.ta,this.la=this.la}function xe(e){if(!e.ta&&(e.ta=!0,e.xa(),0!=Yc)){var t=e[lc]||(e[lc]=++fc);if(0!=Yc&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete $c[t]}}function Pe(e){return Pe[" "](e),e}function Re(e,t){var n=ul;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function De(){var e=sc.document;return e?e.documentMode:void 0}function je(e){return Re(e,function(){for(var t=0,n=Oc(String(Xc)).split("."),r=Oc(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Q(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Q(0==a[2].length,0==s[2].length)||Q(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function Me(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Le(e,t){if(Me.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(nl){e:{try{Pe(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=i(e.pointerType)?e.pointerType:pl[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}function Fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++ml,this.ra=this.Ia=!1}function Ue(e){e.ra=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function qe(e){this.src=e,this.a={},this.b=0}function Ve(e,t){var n=t.type;n in e.a&&x(e.a[n],t)&&(Ue(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Be(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ra&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}function We(e,t,n,r,i){if(r&&r.once)Qe(e,t,n,r,i);else if(c(t))for(var o=0;o<t.length;o++)We(e,t[o],n,r,i);else n=et(n),e&&e[dl]?nt(e,t,n,h(r)?!!r.capture:!!r,i):ze(e,t,n,!1,r,i)}function ze(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i,s=Ze(e);if(s||(e[yl]=s=new qe(e)),n=s.add(t,n,r,a,o),!n.proxy){if(r=He(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)hl||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}gl++}}function He(){var e=Je,t=ll?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function Qe(e,t,n,r,i){if(c(t))for(var o=0;o<t.length;o++)Qe(e,t[o],n,r,i);else n=et(n),e&&e[dl]?rt(e,t,n,h(r)?!!r.capture:!!r,i):ze(e,t,n,!0,r,i)}function Ke(e,t,n,r,i){if(c(t))for(var o=0;o<t.length;o++)Ke(e,t[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=et(n),e&&e[dl]?(e=e.u,(t=String(t).toString())in e.a&&(o=e.a[t],-1<(n=Be(o,n,r,i))&&(Ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Ze(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Be(t,n,r,i)),(n=-1<e?t[e]:null)&&Ge(n))}function Ge(e){if("number"!=typeof e&&e&&!e.ra){var t=e.src;if(t&&t[dl])Ve(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),gl--,(n=Ze(t))?(Ve(n,e),0==n.b&&(n.src=null,t[yl]=null)):Ue(e)}}}function Ye(e){return e in vl?vl[e]:vl[e]="on"+e}function $e(e,t,n,r){var i=!0;if((e=Ze(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ra&&(o=Xe(o,r),i=i&&!1!==o)}return i}function Xe(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Ge(e),n.call(r,t)}function Je(e,t){if(e.ra)return!0;if(!ll){if(!t)e:{t=["window","event"];for(var n=sc,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(r=t,t=new Le(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=$e(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=$e(r[i],e,!1,t),n=n&&o}return n}return Xe(e,new Le(t,this))}function Ze(e){return e=e[yl],e instanceof qe?e:null}function et(e){return f(e)?e:(e[bl]||(e[bl]=function(t){return e.handleEvent(t)}),e[bl])}function tt(){Ae.call(this),this.u=new qe(this),this.Sb=this,this.Wa=null}function nt(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function rt(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function it(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&Ve(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function ot(e,t,n){if(f(e))n&&(e=m(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=m(e.handleEvent,e)}return 2147483647<Number(t)?-1:sc.setTimeout(e,t||0)}function at(e){var t=null;return new le(function(n,r){-1==(t=ot(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).s(function(e){throw sc.clearTimeout(t),e})}function st(e){if(e.U&&"function"==typeof e.U)return e.U();if(i(e))return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ut(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(l(e)||i(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(var r in e)t[n++]=r;return t}}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||i(e))mc(e,t,void 0);else for(var n=ut(e),r=st(e),o=r.length,a=0;a<o;a++)t.call(void 0,r[a],n&&n[a],e)}function lt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof lt)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ft(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];ht(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],ht(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function dt(e,t){this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1;var n;e instanceof dt?(this.h=void 0!==t?t:e.h,mt(this,e.f),this.i=e.i,this.b=e.b,yt(this,e.l),this.c=e.c,vt(this,xt(e.a)),this.g=e.g):e&&(n=String(e).match(_l))?(this.h=!!t,mt(this,n[1]||"",!0),this.i=Et(n[2]||""),this.b=Et(n[3]||"",!0),yt(this,n[4]),this.c=Et(n[5]||"",!0),vt(this,n[6]||"",!0),this.g=Et(n[7]||"")):(this.h=!!t,this.a=new Ot(null,this.h))}function mt(e,t,n){e.f=n?Et(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function vt(e,t,n){t instanceof Ot?(e.a=t,Rt(e.a,e.h)):(n||(t=Tt(t,Sl)),e.a=new Ot(t,e.h))}function gt(e,t,n){e.a.set(t,n)}function bt(e,t){return e.a.get(t)}function _t(e){return e instanceof dt?new dt(e):new dt(e,void 0)}function wt(e,t){var n=new dt(null,void 0);return mt(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tt(e,t,n){return i(e)?(e=encodeURI(e).replace(t,St),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function Ot(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ct(e){e.a||(e.a=new lt,e.b=0,e.c&&pt(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Nt(e){var t=ut(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Ot(null,void 0);e=st(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];c(o)?At(n,i,o):n.add(i,o)}return n}function It(e,t){Ct(e),t=Pt(e,t),ht(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,ht(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&ft(e)))}function kt(e,t){return Ct(e),t=Pt(e,t),ht(e.a.b,t)}function At(e,t,n){It(e,t),0<n.length&&(e.c=null,e.a.set(Pt(e,t),D(n)),e.b+=n.length)}function xt(e){var t=new Ot;return t.c=e.c,e.a&&(t.a=new lt(e.a),t.b=e.b),t}function Pt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Rt(e,t){t&&!e.f&&(Ct(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(It(this,t),At(this,n,e))},e)),e.f=t}function Dt(e){var t=document;return i(e)?t.getElementById(e):e}function jt(e,t){j(t,function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Nl.hasOwnProperty(n)?e.setAttribute(Nl[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function Mt(e,t,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!Cl&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',ie(s.name),'"'),s.type){a.push(' type="',ie(s.type),'"');var u={};F(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(i(s)?a.className=s:c(s)?a.className=s.join(" "):jt(a,s)),2<r.length&&Lt(o,a,r),a}function Lt(e,t,n){function r(n){n&&t.appendChild(i(n)?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!l(a)||h(a)&&0<a.nodeType?r(a):mc(Ft(a)?D(a):a,r)}}function Ft(e){if(e&&"number"==typeof e.length){if(h(e))return"function"==typeof e.item||"string"==typeof e.item;if(f(e))return"function"==typeof e.item}return!1}function Ut(e){var t=[];return Vt(new qt,e,t),t.join("")}function qt(){}function Vt(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(c(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),Vt(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),i="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),Bt(r,n),n.push(":"),Vt(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Bt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function Bt(e,t){t.push('"',e.replace(kl,function(e){var t=Il[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Il[e]=t),t}),'"')}function Wt(){var e=cn();return Zc&&!!sl&&11==sl||/Edge\/\d+/.test(e)}function zt(){return sc.window&&sc.window.location.href||self&&self.location&&self.location.href||""}function Ht(e,t){t=t||sc.window;var n="about:blank";e&&(n=G(Y(e)).toString()),t.location.href=n}function Qt(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<Qt(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function Kt(){var e=cn();return!((e=sn(e)!=Rl?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Zc||!sl||9<sl)}function Gt(e){return e=(e||cn()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Yt(e){e=e||sc.window;try{e.close()}catch(e){}}function $t(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=cn().toLowerCase(),r&&(t.target=r,H(n,"crios/")&&(t.target="_blank")),sn(cn())==Pl&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof K?n:Y("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,i=[];for(a in e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((X("iPhone")&&!X("iPod")&&!X("iPad")||X("iPad")||X("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),N(a,"HTMLAnchorElement"),t instanceof K||t instanceof K||(t="object"==typeof t&&t.qa?t.pa():String(t),Rc.test(t)||(t="about:invalid#zClosurez"),t=$(t)),a.href=G(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=G(t).toString(),a&&(tl&&H(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=ee('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ie(e)+'">'),a.document.write(Z(e)),a.document.close())):(a=r.open(G(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}function Xt(e){return new le(function(t){function n(){at(2e3).then(function(){if(e&&!e.closed)return n();t()})}return n()})}function Jt(){var e=null;return new le(function(t){"complete"==sc.document.readyState?t():(e=function(){t()},Qe(window,"load",e))}).s(function(t){throw Ke(window,"load",e),t})}function Zt(){return en(void 0)?Jt().then(function(){return new le(function(e,t){var n=sc.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):de(Error("Cordova must run in an Android or iOS file scheme."))}function en(e){return e=e||cn(),!("file:"!==dn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function tn(){var e=sc.window;try{return!(!e||e==e.top)}catch(e){return!1}}function nn(){return"undefined"!==typeof sc.WorkerGlobalScope&&"function"===typeof sc.importScripts}function rn(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":nn()?"Worker":"Browser"}function on(){var e=rn();return"ReactNative"===e||"Node"===e}function an(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function sn(e){var t=e.toLowerCase();return H(t,"opera/")||H(t,"opr/")||H(t,"opios/")?"Opera":H(t,"iemobile")?"IEMobile":H(t,"msie")||H(t,"trident/")?"IE":H(t,"edge/")?"Edge":H(t,"firefox/")?Pl:H(t,"silk/")?"Silk":H(t,"blackberry")?"Blackberry":H(t,"webos")?"Webos":!H(t,"safari/")||H(t,"chrome/")||H(t,"crios/")||H(t,"android")?!H(t,"chrome/")&&!H(t,"crios/")||H(t,"edge/")?H(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Rl:"Safari"}function un(e,t){t=t||[];var n,r=[],i={};for(n in Dl)i[Dl[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),t=r,t.length||(t=["FirebaseCore-web"]),r=rn(),"Browser"===r?(i=cn(),r=sn(i)):"Worker"===r&&(i=cn(),r=sn(i)+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function cn(){return sc.navigator&&sc.navigator.userAgent||""}function ln(e,t){e=e.split("."),t=t||sc;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function fn(){try{var e=sc.localStorage,t=bn();if(e)return e.setItem(t,"1"),e.removeItem(t),!Wt()||!!sc.indexedDB}catch(e){return nn()&&!!sc.indexedDB}return!1}function hn(){return(pn()||"chrome-extension:"===dn()||en())&&!on()&&fn()&&!nn()}function pn(){return"http:"===dn()||"https:"===dn()}function dn(){return sc.location&&sc.location.protocol||null}function mn(e){return e=e||cn(),!Gt(e)&&sn(e)!=Pl}function yn(e){return"undefined"===typeof e?null:Ut(e)}function vn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function gn(e){if(null!==e)return JSON.parse(e)}function bn(e){return e||Math.floor(1e9*Math.random()).toString()}function _n(e){return e=e||cn(),"Safari"!=sn(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function wn(){var e=sc.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function En(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=cn(),t=rn(),this.b=Gt(e)||"ReactNative"===t}function Tn(){var e=sc.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Sn(){var e=sc.document,t=null;return Tn()||!e?pe():new le(function(n){t=function(){Tn()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function On(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Cn(){return!(!ln("fireauth.oauthhelper",sc)&&!ln("fireauth.iframe",sc))}function Nn(){var e=sc.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}function In(){var e=sc.navigator;return e&&e.serviceWorker?pe().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):pe(null)}function kn(e){Ml[e]||(Ml[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}function An(e,t,n){jl?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function xn(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&An(e,n,t[n])}function Pn(e){var t={};return xn(t,e),t}function Rn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Dn(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}function jn(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)An(t,n,jn(e[n]))}return t}function Mn(e){var t={},n=e[Ul],r=e[ql];if(!(e=e[Vl])||e!=Fl&&!n)throw Error("Invalid provider user info!");t[Wl]=r||null,t[Bl]=n||null,An(this,Hl,e),An(this,zl,jn(t))}function Ln(e,t){this.code=Ql+e,this.message=t||Kl[e]||""}function Fn(e){var t=e&&e.code;return t?new Ln(t.substring(Ql.length),e.message):null}function Un(e){e=_t(e);var t=bt(e,Gl)||null,n=bt(e,Yl)||null,r=bt(e,Jl)||null;if(r=r?ef[r]||null:null,!t||!n||!r)throw new Ln("argument-error",Gl+", "+Yl+"and "+Jl+" are required in a valid action code URL.");xn(this,{apiKey:t,operation:r,code:n,continueUrl:bt(e,$l)||null,languageCode:bt(e,Xl)||null,tenantId:bt(e,Zl)||null})}function qn(e){try{return new Un(e)}catch(e){return null}}function Vn(e){var t=e[af];if("undefined"===typeof t)throw new Ln("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new Ln("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[tf];if(n&&"object"===typeof n){t=n[cf];var r=n[sf];if(n=n[uf],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Ln("argument-error",sf+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Ln("argument-error",uf+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new Ln("argument-error",cf+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Ln("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Ln("argument-error",tf+" property must be a non null object when specified.");if(this.f=null,(t=e[of])&&"object"===typeof t){if("string"===typeof(t=t[lf])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new Ln("argument-error",lf+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new Ln("argument-error",of+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[rf])&&"boolean"!==typeof t)throw new Ln("argument-error",rf+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[nf])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new Ln("argument-error",nf+" property must be a non empty string when specified.");this.i=e||null}function Bn(e){var t={};t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i;for(var n in t)null===t[n]&&delete t[n];return t}function Wn(e){return yc(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}function zn(e){var t="";return Hn(e,function(e){t+=String.fromCharCode(e)}),t}function Hn(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=hf[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Qn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function Qn(){if(!ff){ff={},hf={};for(var e=0;65>e;e++)ff[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),hf[ff[e]]=e,62<=e&&(hf["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}function Kn(e){this.f=e.sub,hc(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Gn(e){return(e=Yn(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Kn(e):null}function Yn(e){if(!e)return null;if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(zn(e))}catch(e){}return null}function $n(e){for(var t in df)if(df[t].id===e)return e=df[t],{firebaseEndpoint:e.bb,secureTokenEndpoint:e.ib};return null}function Xn(e){for(var t in vf)if(vf[t].Pa==e)return vf[t];return null}function Jn(e){var t={};t["facebook.com"]=tr,t["google.com"]=rr,t["github.com"]=nr,t["twitter.com"]=ir;var n=e&&e[bf];try{if(n)return t[n]?new t[n](e):new er(e);if("undefined"!==typeof e[gf])return new Zn(e)}catch(e){}return null}function Zn(e){var t=e[bf];if(!t&&e[gf]){var n=Gn(e[gf]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),An(this,"providerId",t),An(this,"isNewUser",n)}function er(e){Zn.call(this,e),e=gn(e.rawUserInfo||"{}"),An(this,"profile",jn(e||{}))}function tr(e){if(er.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function nr(e){if(er.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");An(this,"username",this.profile&&this.profile.login||null)}function rr(e){if(er.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ir(e){if(er.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");An(this,"username",e.screenName||null)}function or(e){var t=_t(e),n=bt(t,"link"),r=bt(_t(n),"link");return t=bt(t,"deep_link_id"),bt(_t(t),"link")||t||r||n||e}function ar(){}function sr(e,t){return e.then(function(e){if(e[Lf]){var n=Gn(e[Lf]);if(!n||t!=n.f)throw new Ln("user-mismatch");return e}throw new Ln("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==Ql+"user-not-found"?new Ln("user-mismatch"):e})}function ur(e,t){if(!t)throw new Ln("internal-error","failed to construct a credential");this.a=t,An(this,"providerId",e),An(this,"signInMethod",e)}function cr(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function lr(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ur(e.providerId,e.pendingToken)}catch(e){}return null}function fr(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&An(this,"idToken",t.idToken),t.accessToken&&An(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&An(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Ln("internal-error","failed to construct a credential");An(this,"accessToken",t.oauthToken),An(this,"secret",t.oauthTokenSecret)}An(this,"providerId",e),An(this,"signInMethod",n)}function hr(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Nt(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function pr(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new fr(e.providerId,t,e.signInMethod)}catch(e){}}return null}function dr(e,t){this.Fc=t||[],xn(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(Xn(e)||{}).Oa||null,this.ab=null}function mr(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new Ln("argument-error",'SAML provider IDs must be prefixed with "saml."');dr.call(this,e,[])}function yr(e){dr.call(this,e,yf),this.a=[]}function vr(){yr.call(this,"facebook.com")}function gr(e){if(!e)throw new Ln("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return h(e)&&(t=e.accessToken),(new vr).credential({accessToken:t})}function br(){yr.call(this,"github.com")}function _r(e){if(!e)throw new Ln("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return h(e)&&(t=e.accessToken),(new br).credential({accessToken:t})}function wr(){yr.call(this,"google.com"),this.wa("profile")}function Er(e,t){var n=e;return h(e)&&(n=e.idToken,t=e.accessToken),(new wr).credential({idToken:n,accessToken:t})}function Tr(){dr.call(this,"twitter.com",mf)}function Sr(e,t){var n=e;if(h(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Ln("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fr("twitter.com",n,"twitter.com")}function Or(e,t,n){this.a=e,this.c=t,An(this,"providerId","password"),An(this,"signInMethod",n===Nr.EMAIL_LINK_SIGN_IN_METHOD?Nr.EMAIL_LINK_SIGN_IN_METHOD:Nr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Cr(e){return e&&e.email&&e.password?new Or(e.email,e.password,e.signInMethod):null}function Nr(){xn(this,{providerId:"password",isOAuthProvider:!1})}function Ir(e,t){if(!(t=kr(t)))throw new Ln("argument-error","Invalid email link!");return new Or(e,t.code,Nr.EMAIL_LINK_SIGN_IN_METHOD)}function kr(e){return e=or(e),(e=qn(e))&&e.operation===Fl?e:null}function Ar(e){if(!(e.Ua&&e.Ta||e.Fa&&e.ba))throw new Ln("internal-error");this.a=e,An(this,"providerId","phone"),An(this,"signInMethod","phone")}function xr(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return mc(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Ar(t)}return null}function Pr(e){return e.a.Fa&&e.a.ba?{temporaryProof:e.a.Fa,phoneNumber:e.a.ba}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function Rr(e){try{this.a=e||r.a.auth()}catch(e){throw new Ln("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}xn(this,{providerId:"phone",isOAuthProvider:!1})}function Dr(e,t){if(!e)throw new Ln("missing-verification-id");if(!t)throw new Ln("missing-verification-code");return new Ar({Ua:e,Ta:t})}function jr(e){if(e.temporaryProof&&e.phoneNumber)return new Ar({Fa:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Er(o,n);case"facebook.com":return gr(n);case"github.com":return _r(n);case"twitter.com":return Sr(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ur(t,a):new fr(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new yr(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Mr(e){if(!e.isOAuthProvider)throw new Ln("invalid-oauth-provider")}function Lr(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Ln("invalid-auth-event");if(this.g&&this.a)throw new Ln("invalid-auth-event");if(this.g&&!this.f)throw new Ln("invalid-auth-event")}function Fr(e){return e=e||{},e.type?new Lr(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Fn(e.error),e.postBody,e.tenantId):null}function Ur(){this.b=null,this.a=[]}function qr(e){var t=_f;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=ln("universalLinks.subscribe",sc))&&e(null,t.b))}function Vr(e){var t="unauthorized-domain",n=void 0,r=_t(e);e=r.b,r=r.f,"chrome-extension"==r?n=re("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=re("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Ln.call(this,t,n)}function Br(e,t,n){Ln.call(this,e,n),e=t||{},e.Ab&&An(this,"email",e.Ab),e.ba&&An(this,"phoneNumber",e.ba),e.credential&&An(this,"credential",e.credential),e.Qb&&An(this,"tenantId",e.Qb)}function Wr(e){if(e.code){var t=e.code||"";0==t.indexOf(Ql)&&(t=t.substring(Ql.length));var n={credential:jr(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Ln(t,e.message||void 0);return new Br(t,n,e.message)}return null}function zr(){}function Hr(e){return e.c||(e.c=e.b())}function Qr(){}function Kr(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Gr(){}function Yr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.fc,this),this.a.onerror=m(this.Ib,this),this.a.onprogress=m(this.gc,this),this.a.ontimeout=m(this.kc,this)}function $r(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Xr(e,t,n){this.reset(e,t,n,void 0,void 0)}function Jr(e){this.f=e,this.b=this.c=this.a=null}function Zr(e,t){this.name=e,this.value=t}function ei(e){return e.c?e.c:e.a?ei(e.a):(w("Root logger has no level set."),null)}function ti(e){If||(If=new Jr(""),Nf[""]=If,If.c=Of);var t;if(!(t=Nf[e])){t=new Jr(e);var n=e.lastIndexOf("."),r=e.substr(n+1);n=ti(e.substr(0,n)),n.b||(n.b={}),n.b[r]=t,t.a=n,Nf[e]=t}return t}function ni(e,t){e&&e.log(Cf,t,void 0)}function ri(e){this.f=e}function ii(e){tt.call(this),this.o=e,this.readyState=kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ti("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}function oi(e){e.c.read().then(e.ec.bind(e)).catch(e.Ma.bind(e))}function ai(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,si(e)}function si(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ui(e){tt.call(this),this.headers=new lt,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Af,this.v=this.P=!1}function ci(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():wf.a(),e.w=Hr(e.B?e.B:wf),e.a.onreadystatechange=m(e.Lb,e);try{ni(e.b,_i(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(t){return ni(e.b,_i(e,"Error opening Xhr: "+t.message)),void hi(e,t)}t=r||"";var o=new lt(e.headers);i&&ct(i,function(e,t){o.set(t,e)}),i=k(o.X()),r=sc.FormData&&t instanceof sc.FormData,!A(Pf,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{yi(e),0<e.g&&(e.v=li(e.a),ni(e.b,_i(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=m(e.Ga,e)):e.o=ot(e.Ga,e.g,e)),ni(e.b,_i(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ni(e.b,_i(e,"Send error: "+t.message)),hi(e,t)}}function li(e){return Zc&&je(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function fi(e){return"content-type"==e.toLowerCase()}function hi(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,pi(e),mi(e)}function pi(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function di(e){if(e.c&&"undefined"!=typeof ac)if(e.w[1]&&4==vi(e)&&2==gi(e))ni(e.b,_i(e,"Local request error detected and ignored"));else if(e.i&&4==vi(e))ot(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==vi(e)){ni(e.b,_i(e,"Request complete")),e.c=!1;try{var t=gi(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.l).match(_l)[1]||null;if(!o&&sc.self&&sc.self.location){var a=sc.self.location.protocol;o=a.substr(0,a.length-1)}i=!xf.test(o?o.toLowerCase():"")}r=i}if(r)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<vi(e)?e.a.statusText:""}catch(t){ni(e.b,"Can not get status: "+t.message),s=""}e.h=s+" ["+gi(e)+"]",pi(e)}}finally{mi(e)}}}function mi(e,t){if(e.a){yi(e);var n=e.a,r=e.w[0]?a:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Tf,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function yi(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(sc.clearTimeout(e.o),e.o=null)}function vi(e){return e.a?e.a.readyState:0}function gi(e){try{return 2<vi(e)?e.a.status:-1}catch(e){return-1}}function bi(e){try{return e.a?e.a.responseText:""}catch(t){return ni(e.b,"Can not get responseText: "+t.message),""}}function _i(e,t){return t+" ["+e.O+" "+e.l+" "+gi(e)+"]"}function wi(e){var t=Ri;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Ei(e,t,n){e.a=!0,e.c=n,e.f=!t,Ni(e)}function Ti(e){if(e.a){if(!e.u)throw new Ii(e);e.u=!1}}function Si(e,t){Oi(e,null,t,void 0)}function Oi(e,t,n,r){e.g.push([t,n,r]),e.a&&Ni(e)}function Ci(e){return vc(e.g,function(e){return f(e[1])})}function Ni(e){if(e.h&&e.a&&Ci(e)){var t=e.h,n=Rf[t];n&&(sc.clearTimeout(n.a),delete Rf[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(g(t)||"function"===typeof sc.Promise&&t instanceof sc.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Ci(e)||(n=!0)}}e.c=t,r&&(s=m(e.m,e,!0),r=m(e.m,e,!1),t instanceof wi?(Oi(t,s,r),t.w=!0):t.then(s,r)),n&&(t=new Ai(t),Rf[t.a]=t,e.h=t.a)}function Ii(){b.call(this)}function ki(){b.call(this)}function Ai(e){this.a=sc.setTimeout(m(this.c,this),0),this.b=e}function xi(e){var t={},n=t.document||document,r=B(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new wi(o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Di(i,!0);var e=new ji(jf,"Timeout reached for loading script "+r);Ti(a),Ei(a,!1,e)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Di(i,t.gd||!1,s),Ti(a),Ei(a,!0,null))},i.onerror=function(){Di(i,!0,s);var e=new ji(Df,"Error while loading script "+r);Ti(a),Ei(a,!1,e)},o=t.attributes||{},F(o,{type:"text/javascript",charset:"UTF-8"}),jt(i,o),ne(i,e),Pi(n).appendChild(i),a}function Pi(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function Ri(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Di(e,!0,this.Ga)}}function Di(e,t,n){null!=n&&sc.clearTimeout(n),e.onload=a,e.onerror=a,e.onreadystatechange=a,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function ji(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),b.call(this,n),this.code=e}function Mi(e){this.f=e}function Li(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Ff,this.g=L(e.secureTokenHeaders||Uf),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||qf,this.a=L(e.firebaseHeaders||Vf),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==rn(),!(n=sc.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!nn())throw new Ln("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,nn()?this.f=new ri(self):on()?this.f=new Mi(n):this.f=new Gr,this.b=null}function Fi(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ui(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function qi(e,t,n,r,i,o,a){Kt()||nn()?e=m(e.o,e):(Mf||(Mf=new le(function(e,t){Vi(e,t)})),e=m(e.m,e)),e(t,n,r,i,o,a)}function Vi(e,t){if(((window.gapi||{}).client||{}).request)e();else{sc[Wf]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};Si(xi(W(Bf,{onload:Wf})),function(){t(Error("CORS_UNSUPPORTED"))})}}function Bi(e,t){return new le(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?qi(e,e.l+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(so(e)):e.access_token&&e.refresh_token?n(e):r(new Ln("internal-error")):r(new Ln("network-request-failed"))},"POST",Nt(t).toString(),e.g,e.u.get()):r(new Ln("internal-error"))})}function Wi(e,t,n,r,i,o){var a=_t(e.h+t);gt(a,"key",e.c),o&&gt(a,"cb",hc().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&gt(a,u,r[u]);return new le(function(t,o){qi(e,a.toString(),function(e){e?e.error?o(so(e,i||{})):t(e):o(new Ln("network-request-failed"))},n,s?void 0:Ut(vn(r)),e.a,e.i.get())})}function zi(e){if(e=e.email,!i(e)||!xl.test(e))throw new Ln("invalid-email")}function Hi(e){"email"in e&&zi(e)}function Qi(e,t){return oo(e,Gf,{identifier:t,continueUri:pn()?zt():"http://localhost"}).then(function(e){return e.signinMethods||[]})}function Ki(e){return oo(e,rh,{}).then(function(e){return e.authorizedDomains||[]})}function Gi(e){if(!e[Lf])throw new Ln("internal-error")}function Yi(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Ln("internal-error")}else{if(!e.sessionInfo)throw new Ln("missing-verification-id");if(!e.code)throw new Ln("missing-verification-code")}}function $i(e,t){return oo(e,ah,t)}function Xi(e,t,n){return oo(e,$f,{idToken:t,deleteProvider:n})}function Ji(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Ln("internal-error")}function Zi(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(e=new Ot(e.postBody),kt(e,"nonce")&&(t.nonce=e.get("nonce")))),t}function eo(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Wr(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Wr(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Wr(e)):e.errorMessage&&(t=ao(e.errorMessage)),t)throw t;if(!e[Lf])throw new Ln("internal-error")}function to(e,t){return t.returnIdpCredential=!0,oo(e,lh,t)}function no(e,t){return t.returnIdpCredential=!0,oo(e,hh,t)}function ro(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,oo(e,fh,t)}function io(e){if(!e.oobCode)throw new Ln("invalid-action-code")}function oo(e,t,n){if(!Dn(n,t.V))return de(new Ln("internal-error"));var r,i=t.Kb||"POST";return pe(n).then(t.D).then(function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),Wi(e,t.endpoint,i,n,t.Yb,t.wb||!1)}).then(function(e){return r=e,t.Qa?t.Qa(n,r):r}).then(t.K).then(function(){if(!t.fa)return r;if(!(t.fa in r))throw new Ln("internal-error");return r[t.fa]})}function ao(e){return so({error:{errors:[{message:e}],code:400,message:e}})}function so(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Ln(r[n]):null)return n;n=e.error&&e.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},F(r,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Ln(r[i],t);return!t&&e&&(t=yn(e)),new Ln("internal-error",t)}function uo(e){this.b=e,this.a=null,this.fb=co(this)}function co(e){return ho().then(function(){return new le(function(t,n){ln("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:ln("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},_h.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function lo(e,t){return e.fb.then(function(){return new le(function(n){e.a.send(t.type,t,n,ln("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function fo(e,t){e.fb.then(function(){e.a.register("authEvent",t,ln("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function ho(){return wh||(wh=new le(function(e,t){function n(){wn(),ln("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){wn(),t(Error("Network Error"))},timeout:bh.get()})}if(ln("gapi.iframes.Iframe"))e();else if(ln("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();sc[r]=function(){ln("gapi.load")?n():t(Error("Network Error"))},r=W(gh,{onload:r}),pe(xi(r)).s(function(){t(Error("Network Error"))})}}).s(function(e){throw wh=null,e}))}function po(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=wt(this.i,"/__/auth/iframe"),gt(this.a,"apiKey",this.g),gt(this.a,"appName",this.h),this.b=null,this.c=[]}function mo(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function yo(e){try{return r.a.app(e).auth().Aa()}catch(e){return[]}}function vo(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function go(e){var t=zt();return Ki(e).then(function(e){e:{var n=_t(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=_t(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Al.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Vr(zt())})}function bo(e){return e.l?e.l:(e.l=Jt().then(function(){if(!e.o){var t=e.c,n=e.h,r=yo(e.b),i=new po(e.u,e.f,e.b);i.f=t,i.b=n,i.c=D(r||[]),e.o=i.toString()}e.i=new uo(e.o),Eo(e)}),e.l)}function _o(e){return e.m||(e.v=e.c?un(e.c,yo(e.b)):null,e.m=new Li(e.f,$n(e.h),e.v)),e.m}function wo(e,t,n,r,i,o,a,s,u,c,l){return e=new mo(e,t,n,r,i),e.l=o,e.g=a,e.i=s,e.b=L(u||null),e.f=c,e.nb(l).toString()}function Eo(e){if(!e.i)throw Error("IfcHandler must be initialized!");fo(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Fr(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return n={},n.status=r?"ACK":"ERROR",pe(n)}return n.status="ERROR",pe(n)})}function To(e){var t={type:"webStorageSupport"};return bo(e).then(function(){return lo(e.i,t)}).then(function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function So(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Ln("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Oo(e){this.b=e,this.a={},this.f=m(this.c,this)}function Co(){var e=nn()?self:null;if(mc(Eh,function(n){n.b==e&&(t=n)}),!t){var t=new Oo(e);Eh.push(t)}return t}function No(e,t,n){M(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Io(e){this.a=e}function ko(e){this.c=e,this.b=!1,this.a=[]}function Ao(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return de(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new le(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(t){return xo(e,c),t}).s(function(t){throw xo(e,c),t})}function xo(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),P(e.a,function(e){return e==t})}}function Po(){if(!Mo())throw new Ln("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=sc.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;nn()&&self?(this.l=Co(),No(this.l,"keyChanged",function(t,n){return Vo(e).then(function(t){return 0<t.length&&mc(e.a,function(e){e(t)}),{keyProcessed:A(t,n.key)}})}),No(this.l,"ping",function(){return pe(["keyChanged"])})):In().then(function(t){(e.h=t)&&(e.g=new ko(new Io(t)),Ao(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&A(t[0].value,"keyChanged")&&(e.o=!0)}).s(function(){}))})}function Ro(e){return new le(function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}function Do(e){return new le(function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?t(r):Ro(e).then(function(){return Do(e)}).then(function(e){t(e)}).s(function(e){n(e)})}})}function jo(e){return e.m||(e.m=Do(e)),e.m}function Mo(){try{return!!sc.indexedDB}catch(e){return!1}}function Lo(e){return e.objectStore("firebaseLocalStorage")}function Fo(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Uo(e){return new le(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function qo(e,t){return e.g&&e.h&&Nn()===e.h?Ao(e.g,"keyChanged",{key:t},e.o).then(function(){}).s(function(){}):pe()}function Vo(e){return jo(e).then(function(e){var t=Lo(Fo(e,!1));return t.getAll?Uo(t.getAll()):new le(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=Qt(e.c,n),e.c=n}return r})}function Bo(e){function t(){e.f=setTimeout(function(){e.i=Vo(e).then(function(t){0<t.length&&mc(e.a,function(e){e(t)})}).then(function(){t()}).s(function(e){"STOP_EVENT"!=e.message&&t()})},800)}Wo(e),t()}function Wo(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function zo(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=pe().then(function(){if(Mo()){var e=bn(),r="__sak"+e;return Th||(Th=new Po),n=Th,n.set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.$(function(e){mc(t.a,function(t){t(e)})}),e})}function Ho(){this.a={},this.type="inMemory"}function Qo(){if(!Go()){if("Node"==rn())throw new Ln("internal-error","The LocalStorage compatibility library was not found.");throw new Ln("web-storage-unsupported")}this.a=Ko()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ko(){try{var e=sc.localStorage,t=bn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Go(){var e="Node"==rn();if(!(e=Ko()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function Yo(){this.type="nullStorage"}function $o(){if(!Jo()){if("Node"==rn())throw new Ln("internal-error","The SessionStorage compatibility library was not found.");throw new Ln("web-storage-unsupported")}this.a=Xo()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xo(){try{var e=sc.sessionStorage,t=bn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Jo(){var e="Node"==rn();if(!(e=Xo()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function Zo(){var e={};e.Browser=Ch,e.Node=Nh,e.ReactNative=Ih,e.Worker=kh,this.a=e[rn()]}function ea(e){var t=new Ln("invalid-persistence-type"),n=new Ln("unsupported-persistence-type");e:{for(r in Ah)if(Ah[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(rn()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!fn()&&"none"!==e)throw n}}function ta(){var e=!(_n(cn())||!tn()),t=mn(),n=fn();this.m=e,this.h=t,this.l=n,this.a={},Sh||(Sh=new Zo),e=Sh;try{this.g=!Wt()&&Cn()||!sc.indexedDB?new e.a.C:new zo(nn()?new Ho:new e.a.C)}catch(e){this.g=new Ho,this.h=!0}try{this.i=new e.a.Sa}catch(e){this.i=new Ho}this.u=new Ho,this.f=m(this.Pb,this),this.b={}}function na(){return Oh||(Oh=new ta),Oh}function ra(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function ia(e,t){return"firebase:"+e.name+(t?":"+t:"")}function oa(e,t,n){var r=ia(t,n),i=ra(e,t.C);return e.get(t,n).then(function(o){var a=null;try{a=gn(sc.localStorage.getItem(r))}catch(e){}if(a&&!o)return sc.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&sc.localStorage.removeItem(r)})}function aa(e,t,n){return n=ia(t,n),"local"==t.C&&(e.b[n]=null),ra(e,t.C).S(n)}function sa(e){ua(e),e.c=setInterval(function(){for(var t in e.a){var n=sc.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Le({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}},1e3)}function ua(e){e.c&&(clearInterval(e.c),e.c=null)}function ca(e){this.a=e,this.b=na()}function la(e){return e.b.get(Ph,e.a).then(function(e){return Fr(e)})}function fa(){this.a=na()}function ha(){this.b=-1}function pa(e,t){this.b=Rh,this.f=sc.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=sc.Int32Array?new Int32Array(64):Array(64),void 0!==xh||(xh=sc.Int32Array?new Int32Array(Fh):Fh),this.reset()}function da(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&f,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|xh[t])|0,a=o+(a+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function ma(e,t,n){void 0===n&&(n=t.length);var r=0,o=e.c;if(i(t))for(;r<n;)e.f[o++]=t.charCodeAt(r++),o==e.b&&(da(e),o=0);else{if(!l(t))throw Error("message must be string or array");for(;r<n;){var a=t[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(da(e),o=0)}}e.c=o,e.g+=n}function ya(){pa.call(this,8,Uh)}function va(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new fa,this.g=new ca(this.h),this.f=null,this.b=[],this.a=this.c=null}function ga(e){return new Ln("invalid-cordova-configuration",e)}function ba(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function _a(e){var t=new ya;ma(t,e),e=[];var n=8*t.g;56>t.c?ma(t,Lh,56-t.c):ma(t,Lh,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(da(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return Wn(e)}function wa(e,t,n,r,i){var o=ba(),a=new Lr(t,r,null,o,new Ln("no-auth-event"),null,i),s=ln("BuildInfo.packageName",sc);if("string"!==typeof s)throw new Ln("invalid-cordova-configuration");var u=ln("BuildInfo.displayName",sc),c={};if(cn().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!cn().toLowerCase().match(/android/))return de(new Ln("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=_a(o),c.sessionId=o;var l=wo(e.u,e.i,e.l,t,n,null,r,e.m,c,e.o,i);return e.ia().then(function(){var t=e.h;return e.v.a.set(Ph,a.A(),t)}).then(function(){var t=ln("cordova.plugins.browsertab.isAvailable",sc);if("function"!==typeof t)throw new Ln("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!==typeof(n=ln("cordova.plugins.browsertab.openUrl",sc)))throw new Ln("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=ln("cordova.InAppBrowser.open",sc)))throw new Ln("invalid-cordova-configuration");t=cn(),e.a=n(l,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Ea(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Ta(e){return e.f||(e.f=e.ia().then(function(){return new le(function(t){function n(r){return t(r),e.La(n),!1}e.ya(n),Oa(e)})})),e.f}function Sa(e){var t=null;return la(e.g).then(function(n){return t=n,n=e.g,aa(n.b,Ph,n.a)}).then(function(){return t})}function Oa(e){function t(t){r=!0,i&&i.cancel(),Sa(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;i=or(t.url),-1!=i.indexOf("/__/auth/callback")&&(o=_t(i),o=gn(bt(o,"firebaseError")||null),o=(o="object"===typeof o?Fn(o):null)?new Lr(r.c,r.b,null,null,o,null,r.R()):new Lr(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}Ea(e,i)})}var n=new Lr("unknown",null,null,null,new Ln("no-auth-event")),r=!1,i=at(500).then(function(){return Sa(e).then(function(){r||Ea(e,n)})}),o=sc.handleOpenURL;sc.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(ln("BuildInfo.packageName",sc).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(e){console.error(e)}},_f||(_f=new Ur),qr(t)}function Ca(e){this.a=e,this.b=na()}function Na(e){return e.b.set(qh,"pending",e.a)}function Ia(e){return aa(e.b,qh,e.a)}function ka(e){return e.b.get(qh,e.a).then(function(e){return"pending"==e})}function Aa(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=m(this.o,this),this.b=new Va,this.w=new Ya,this.g=new Ca(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=xa(this.B,this.u,this.m,pf)}function xa(e,t,n,i){var o=r.a.SDK_VERSION||null;return en()?new va(e,t,n,o,i):new vo(e,t,n,o,i)}function Pa(e){e.f||(e.f=!0,e.a.ya(e.l));var t=e.a;return e.a.ia().s(function(n){throw e.a==t&&e.reset(),n})}function Ra(e){e.a.Ob()&&Pa(e).s(function(t){var n=new Lr("unknown",null,null,null,new Ln("operation-not-supported-in-this-environment"));La(t)&&e.o(n)}),e.a.Jb()||Ba(e.b)}function Da(e,t){A(e.h,t)||e.h.push(t),e.f||ka(e.g).then(function(t){t?Ia(e.g).then(function(){Pa(e).s(function(t){var n=new Lr("unknown",null,null,null,new Ln("operation-not-supported-in-this-environment"));La(t)&&e.o(n)})}):Ra(e)}).s(function(){Ra(e)})}function ja(e,t){P(e.h,function(e){return e==t})}function Ma(e,t,n,r,i,o,a){return e.a.Db(t,n,r,function(){e.f||(e.f=!0,e.a.ya(e.l))},function(){e.reset()},i,o,a)}function La(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Fa(e,t,n,r,i){var o;return Na(e.g).then(function(){return e.a.Eb(t,n,r,i).s(function(t){if(La(t))throw new Ln("operation-not-supported-in-this-environment");return o=t,Ia(e.g).then(function(){throw o})}).then(function(){return e.a.Rb()?new le(function(){}):Ia(e.g).then(function(){return e.oa()}).then(function(){}).s(function(){})})})}function Ua(e,t,n,r,i){return e.a.Fb(r,function(e){t.ja(n,null,e,i)},Vh.get())}function qa(e,t,n){var r=t+":"+n;return Wh[r]||(Wh[r]=new Aa(e,t,n)),Wh[r]}function Va(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ba(e){e.g||(e.g=!0,Ka(e,!1,null,null))}function Wa(e){e.g&&!e.i&&Ka(e,!1,null,null)}function za(e,t,n){n=n.za(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){Ka(e,s,t,null)}).s(function(t){Ka(e,s,null,t)})}function Ha(e,t){if(e.b=function(){return de(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function Qa(e,t){if(e.b=function(){return pe(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Ka(e,t,n,r){t?r?Ha(e,r):Qa(e,n):Qa(e,{user:null}),e.f=[],e.c=[]}function Ga(e){var t=new Ln("timeout");e.a&&e.a.cancel(),e.a=at(Bh.get()).then(function(){e.b||(e.g=!0,Ka(e,!0,null,t))})}function Ya(){}function $a(e,t){var n=e.b,r=e.c;t.za(r,n)(e.g,e.f,e.R(),e.i).then(function(e){t.ja(r,e,null,n)}).s(function(e){t.ja(r,null,e,n)})}function Xa(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Ja(e,t){this.a=t,An(this,"verificationId",e)}function Za(e,t,n,r){return new Rr(e).Va(t,n).then(function(e){return new Ja(e,r)})}function es(e){var t=Yn(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Ln("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");xn(this,{token:e,expirationTime:On(1e3*t.exp),authTime:On(1e3*t.auth_time),issuedAtTime:On(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function ts(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ns(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function rs(e,t){e.stop(),e.b=at(ns(e,t)).then(function(){return Sn()}).then(function(){return e.h()}).then(function(){rs(e,!0)}).s(function(t){e.i(t)&&rs(e,!1)})}function is(e){this.f=e,this.b=this.a=null,this.c=0}function os(e,t){var n=t[Lf],r=t.refreshToken;t=ss(t.expiresIn),e.b=n,e.c=t,e.a=r}function as(e,t){e.b=t.b,e.a=t.a,e.c=t.c}function ss(e){return hc()+1e3*parseInt(e,10)}function us(e,t){return Bi(e.f,t).then(function(t){return e.b=t.access_token,e.c=ss(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function cs(e,t){this.a=e||null,this.b=t||null,xn(this,{lastSignInTime:On(t||null),creationTime:On(e||null)})}function ls(e){return new cs(e.a,e.b)}function fs(e,t,n,r,i,o){xn(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function hs(e,t){Me.call(this,e);for(var n in t)this[n]=t[n]}function ps(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=r.a.SDK_VERSION?un(r.a.SDK_VERSION):null,this.a=new Li(this.l,$n(pf),e),this.b=new is(this.a),ws(this,t[Lf]),os(this.b,t),An(this,"refreshToken",this.b.a),Os(this,n||{}),tt.call(this),this.J=!1,this.o&&hn()&&(this.i=qa(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=gs(this),this.W=m(this.Ha,this);var i=this;this.ga=null,this.va=function(e){i.sa(e.g)},this.Z=null,this.P=[],this.ua=function(e){ms(i,e.c)},this.Y=null}function ds(e,t){e.Z&&Ke(e.Z,"languageCodeChanged",e.va),(e.Z=t)&&We(t,"languageCodeChanged",e.va)}function ms(e,t){e.P=t,Ui(e.a,r.a.SDK_VERSION?un(r.a.SDK_VERSION,e.P):null)}function ys(e,t){e.Y&&Ke(e.Y,"frameworkChanged",e.ua),(e.Y=t)&&We(t,"frameworkChanged",e.ua)}function vs(e){try{return r.a.app(e.m).auth()}catch(t){throw new Ln("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function gs(e){return new ts(function(){return e.G(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.b.c-hc()-3e5;return 0<t?t:0})}function bs(e){e.B||e.w.b||(e.w.start(),Ke(e,"tokenChanged",e.W),We(e,"tokenChanged",e.W))}function _s(e){Ke(e,"tokenChanged",e.W),e.w.stop()}function ws(e,t){e.ma=t,An(e,"_lat",t)}function Es(e,t){P(e.O,function(e){return e==t})}function Ts(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return ve(t).then(function(){return e})}function Ss(e){e.i&&!e.J&&(e.J=!0,Da(e.i,e))}function Os(e,t){xn(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new cs(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Cs(){}function Ns(e){return pe().then(function(){if(e.B)throw new Ln("app-deleted")})}function Is(e){return yc(e.providerData,function(e){return e.providerId})}function ks(e,t){t&&(As(e,t.providerId),e.providerData.push(t))}function As(e,t){P(e.providerData,function(e){return e.providerId==t})}function xs(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&An(e,t,n)}function Ps(e,t){e!=t&&(xn(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?An(e,"metadata",ls(t.metadata)):An(e,"metadata",new cs),mc(t.providerData,function(t){ks(e,t)}),as(e.b,t.b),An(e,"refreshToken",e.b.a))}function Rs(e){return e.G().then(function(t){var n=e.isAnonymous;return js(e,t).then(function(){return n||xs(e,"isAnonymous",!1),t})})}function Ds(e,t){t[Lf]&&e.ma!=t[Lf]&&(os(e.b,t),e.dispatchEvent(new hs("tokenChanged")),ws(e,t[Lf]),xs(e,"refreshToken",e.b.a))}function js(e,t){return oo(e.a,Zf,{idToken:t}).then(m(e.zc,e))}function Ms(e){return(e=e.providerUserInfo)&&e.length?yc(e,function(e){return new fs(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function Ls(e,t){return Rs(e).then(function(){if(A(Is(e),t))return Ts(e).then(function(){throw new Ln("provider-already-linked")})})}function Fs(e,t,n){var r=jr(t);return t=Jn(t),Pn({user:e,credential:r,additionalUserInfo:t,operationType:n})}function Us(e,t){return Ds(e,t),e.reload().then(function(){return e})}function qs(e,t,n,i,o){if(!hn())return de(new Ln("operation-not-supported-in-this-environment"));if(e.h&&!o)return de(e.h);var a=Xn(n.providerId),s=bn(e.uid+":::"),u=null;(!mn()||tn())&&e.o&&n.isOAuthProvider&&(u=wo(e.o,e.l,e.m,t,n,null,s,r.a.SDK_VERSION||null,null,null,e.tenantId));var c=$t(u,a&&a.Da,a&&a.Ca);return i=i().then(function(){if(Bs(e),!o)return e.G().then(function(){})}).then(function(){return Ma(e.i,c,t,n,s,!!u,e.tenantId)}).then(function(){return new le(function(n,r){e.ja(t,null,new Ln("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=Ua(e.i,e,t,c,s)})}).then(function(e){return c&&Yt(c),e?Pn(e):null}).s(function(e){throw c&&Yt(c),e}),Ws(e,i,o)}function Vs(e,t,n,r,i){if(!hn())return de(new Ln("operation-not-supported-in-this-environment"));if(e.h&&!i)return de(e.h);var o=null,a=bn(e.uid+":::");return r=r().then(function(){if(Bs(e),!i)return e.G().then(function(){})}).then(function(){return e.ca=a,Ts(e)}).then(function(t){return e.da&&(t=e.da,t=t.b.set(zh,e.A(),t.a)),t}).then(function(){return Fa(e.i,t,n,a,e.tenantId)}).s(function(t){if(o=t,e.da)return Ys(e.da);throw o}).then(function(){if(o)throw o}),Ws(e,r,i)}function Bs(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Ln("internal-error");throw new Ln("auth-domain-config-required")}}function Ws(e,t,n){var r=zs(e,t,n);return e.I.push(r),r.ka(function(){x(e.I,r)}),r}function zs(e,t,n){return e.h&&!n?(t.cancel(),de(e.h)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new hs("userInvalidated")),e.h=t),t})}function Hs(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Lf]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-hc())/1e3;var r=new ps(t,n,e);return e.providerData&&mc(e.providerData,function(e){e&&ks(r,Pn(e))}),e.redirectEventId&&(r.ca=e.redirectEventId),r}function Qs(e,t,n,r){var i=new ps(e,t);return n&&(i.da=n),r&&ms(i,r),i.reload().then(function(){return i})}function Ks(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[Lf]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-hc())/1e3,t=new ps(t,o),n&&(t.da=n),r&&ms(t,r),Ps(t,e),t}function Gs(e){this.a=e,this.b=na()}function Ys(e){return aa(e.b,zh,e.a)}function $s(e,t){return e.b.get(zh,e.a).then(function(e){return e&&t&&(e.authDomain=t),Hs(e||{})})}function Xs(e){this.a=e,this.b=na(),this.c=null,this.f=Zs(this),this.b.addListener(eu("local"),this.a,m(this.g,this))}function Js(e,t){var n,r=[];for(n in Ah)Ah[n]!==t&&r.push(aa(e.b,eu(Ah[n]),e.a));return r.push(aa(e.b,Hh,e.a)),ye(r)}function Zs(e){var t=eu("local"),n=eu("session"),r=eu("none");return oa(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(Hh,e.a).then(function(e){return e?eu(e):t})})})}).then(function(t){return e.c=t,Js(e,t.C)}).s(function(){e.c||(e.c=t)})}function eu(e){return{name:"authUser",C:e}}function tu(e){return ou(e,function(){return e.b.set(Hh,e.c.C,e.a)})}function nu(e,t){return ou(e,function(){return e.b.set(e.c,t.A(),e.a)})}function ru(e){return ou(e,function(){return aa(e.b,e.c,e.a)})}function iu(e,t){return ou(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Hs(e||{})})})}function ou(e,t){return e.f=e.f.then(t,t),e.f}function au(e){if(this.l=!1,An(this,"settings",new Xa),An(this,"app",e),!bu(this).options||!bu(this).options.apiKey)throw new Ln("invalid-api-key");e=r.a.SDK_VERSION?un(r.a.SDK_VERSION):null,this.b=new Li(bu(this).options&&bu(this).options.apiKey,$n(pf),e),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(m(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(m(this.pc,this)),du(this,null),this.h=new Xs(bu(this).options.apiKey+":"+bu(this).name),this.w=new Gs(bu(this).options.apiKey+":"+bu(this).name),this.Y=Su(this,yu(this)),this.i=Su(this,vu(this)),this.ga=!1,this.ma=m(this.Nc,this),this.ub=m(this.aa,this),this.ua=m(this.bc,this),this.va=m(this.mc,this),this.Ha=m(this.nc,this),this.a=null,fu(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.vc,this),this.o=0,tt.call(this),cu(this),this.I=[]}function su(e){Me.call(this,"languageCodeChanged"),this.g=e}function uu(e){Me.call(this,"frameworkChanged"),this.c=e}function cu(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.sa(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}function lu(e){return e.Tb||de(new Ln("auth-domain-config-required"))}function fu(e){var t=bu(e).options.authDomain,n=bu(e).options.apiKey;t&&hn()&&(e.Tb=e.Y.then(function(){if(!e.l){if(e.a=qa(t,n,bu(e).name),Da(e.a,e),_u(e)&&Ss(_u(e)),e.B){Ss(e.B);var r=e.B;r.sa(e.ha()),ds(r,e),r=e.B,ms(r,e.I),ys(r,e),e.B=null}return e.a}}))}function hu(e){if(!hn())return de(new Ln("operation-not-supported-in-this-environment"));var t=lu(e).then(function(){return e.a.oa()}).then(function(e){return e?Pn(e):null});return Su(e,t)}function pu(e,t){var n={};return n.apiKey=bu(e).options.apiKey,n.authDomain=bu(e).options.authDomain,n.appName=bu(e).name,e.Y.then(function(){return Qs(n,t,e.w,e.Aa())}).then(function(t){return _u(e)&&t.uid==_u(e).uid?(Ps(_u(e),t),e.aa(t)):(du(e,t),Ss(t),e.aa(t))}).then(function(){Eu(e)})}function du(e,t){_u(e)&&(Es(_u(e),e.ub),Ke(_u(e),"tokenChanged",e.ua),Ke(_u(e),"userDeleted",e.va),Ke(_u(e),"userInvalidated",e.Ha),_s(_u(e))),t&&(t.O.push(e.ub),We(t,"tokenChanged",e.ua),We(t,"userDeleted",e.va),We(t,"userInvalidated",e.Ha),0<e.o&&bs(t)),An(e,"currentUser",t),t&&(t.sa(e.ha()),ds(t,e),ms(t,e.I),ys(t,e))}function mu(e){var t=$s(e.w,bu(e).options.authDomain).then(function(t){return(e.B=t)&&(t.da=e.w),Ys(e.w)});return Su(e,t)}function yu(e){var t=bu(e).options.authDomain,n=mu(e).then(function(){return iu(e.h,t)}).then(function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then(function(){return nu(e.h,t).then(function(){return t})}).s(function(n){return"auth/network-request-failed"==n.code?t:ru(e.h)})):null}).then(function(t){du(e,t||null)});return Su(e,n)}function vu(e){return e.Y.then(function(){return hu(e)}).s(function(){}).then(function(){if(!e.l)return e.ma()}).s(function(){}).then(function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(eu("local"),t.a,e.ma)}})}function gu(e,t){var n=null,r=null;return Su(e,t.then(function(t){return n=jr(t),r=Jn(t),pu(e,t)}).then(function(){return Pn({user:_u(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function bu(e){return e.app}function _u(e){return e.currentUser}function wu(e){return _u(e)&&_u(e)._lat||null}function Eu(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](wu(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](wu(e))}}function Tu(e,t){e.J.push(t),Su(e,e.i.then(function(){!e.l&&A(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(wu(e)))}))}function Su(e,t){return e.O.push(t),t.ka(function(){x(e.O,t)}),t}function Ou(){}function Cu(){this.a={},this.b=1e12}function Nu(e,t){return(t=Iu(t))?e.a[t]||null:null}function Iu(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function ku(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Dt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():We(this.f,"click",this.i)}function Au(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function xu(){}function Pu(){this.b=sc.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Ru(e,t,n,r,i,o,a){if(An(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(Kh||(Kh=new xu),a=Kh):($h||($h=new Pu),a=$h),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Zh])throw new Ln("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[ep],!sc.document)throw new Ln("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Dt(t)||!this.i&&Dt(t).hasChildNodes())throw new Ln("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Li(e,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var u=this.a[Xh];this.a[Xh]=function(e){if(Du(s,e),"function"===typeof u)u(e);else if("string"===typeof u){var t=ln(u,sc);"function"===typeof t&&t(e)}};var c=this.a[Jh];this.a[Jh]=function(){if(Du(s,null),"function"===typeof c)c();else if("string"===typeof c){var e=ln(c,sc);"function"===typeof e&&e()}}}function Du(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function ju(e,t){P(e.l,function(e){return e==t})}function Mu(e,t){return e.h.push(t),t.ka(function(){x(e.h,t)}),t}function Lu(e){if(e.B)throw new Ln("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fu(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(e){throw new Ln("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Ln("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.a.SDK_VERSION?un(r.a.SDK_VERSION,a):null,Ru.call(this,n,e,t,function(){try{var e=o.b.auth().ha()}catch(t){e=null}return e},a,$n(pf),i)}function Uu(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Ln("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],0>i||i>=tp.length)throw new Ln("internal-error","Argument validator received an unsupported number of arguments.");n=tp[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Ln("argument-error",e+" failed: "+r)}function qu(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:i}}function Vu(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:o}}function Bu(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:h}}function Wu(e,t){return{name:e||"",M:"a function",optional:!!t,N:f}}function zu(e,t){return{name:e||"",M:"null",optional:!!t,N:u}}function Hu(){return{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}}}function Qu(){return{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof au)}}}function Ku(){return{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof r.a.app.App)}}}function Gu(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function Yu(){return{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function $u(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&i(e.type)&&f(e.verify))}}}function Xu(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function Ju(e,t){for(var n in t){var r=t[n].name;e[r]=tc(r,e[n],t[n].j)}}function Zu(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:y(function(e){return this[e]},n),set:y(function(e,t,n,r){Uu(e,[n],[r],!0),this[t]=r},r,n,t[n].Ya),enumerable:!0})}}function ec(e,t,n,r){e[t]=tc(t,n,r)}function tc(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Uu(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=nc(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}function nc(e){return e=e.split("."),e[e.length-1]}var rc,ic="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},oc="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;!function(e,t){if(t){var n=oc;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}e=e[e.length-1],r=n[e],(t=t(r))!=r&&null!=t&&ic(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var o=oc.setTimeout;r.prototype.c=function(e){o(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},r.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.o=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ja(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,r){for(var o=n(e),a=o.next();!a.done;a=o.next())i(a.value).Ja(t,r)})},t.all=function(e){var r=n(e),o=r.next();return o.done?i([]):new t(function(e,t){var n=[],a=0;do{n.push(void 0),a++,i(o.value).Ja(function(t){return function(r){n[t]=r,0==--a&&e(n)}}(n.length-1),t),o=r.next()}while(!o.done)})},t});var ac=ac||{},sc=this||self,uc=/^[\w+/_-]+[=]{0,2}$/,cc=null,lc="closure_uid_"+(1e9*Math.random()>>>0),fc=0,hc=Date.now||function(){return+new Date};v(b,Error),b.prototype.name="CustomError",v(_,b),_.prototype.name="AssertionError",E.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var pc=new E(function(){return new C},function(e){e.reset()});S.prototype.add=function(e,t){var n=pc.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},C.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},C.prototype.reset=function(){this.next=this.b=this.a=null};var dc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(i(e))return i(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},mc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=i(e)?e.split(""):e,a=0;a<r;a++)a in o&&t.call(n,o[a],a,e)},yc=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o=i(e)?e.split(""):e,a=0;a<n;a++)a in o&&(r[a]=t.call(void 0,o[a],a,e));return r},vc=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=i(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e))return!0;return!1},gc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");U.prototype.qa=!0,U.prototype.pa=function(){return this.a},U.prototype.toString=function(){return"Const{"+this.a+"}"};var bc={},_c={},wc=new U(_c,"");V.prototype.qa=!0,V.prototype.pa=function(){return this.a.toString()},V.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ec=/%{(\w+)}/g,Tc=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Sc={},Oc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Cc=/&/g,Nc=/</g,Ic=/>/g,kc=/"/g,Ac=/'/g,xc=/\x00/g,Pc=/[\x00&<>"']/;K.prototype.qa=!0,K.prototype.pa=function(){return this.a.toString()},K.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rc=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Dc={};$("about:blank");var jc;e:{var Mc=sc.navigator;if(Mc){var Lc=Mc.userAgent;if(Lc){jc=Lc;break e}}jc=""}J.prototype.qa=!0,J.prototype.pa=function(){return this.a.toString()},J.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Fc={};ee("<!DOCTYPE html>");var Uc=ee("");ee("<br>");var qc,Vc,Bc=!1,Wc=new S,zc=0,Hc=2,Qc=3;fe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Kc=new E(function(){return new fe},function(e){e.reset()});le.prototype.then=function(e,t,n){return _e(this,f(e)?e:null,f(t)?t:null,n)},le.prototype.$goog_Thenable=!0,rc=le.prototype,rc.ka=function(e,t){return e=he(e,e,t),e.c=!0,be(this,e),this},rc.s=function(e,t){return _e(this,null,e,t)},rc.cancel=function(e){this.a==zc&&se(function(){ge(this,new ke(e))},this)},rc.Oc=function(e){this.a=zc,we(this,Hc,e)},rc.Pc=function(e){this.a=zc,we(this,Qc,e)},rc.Zb=function(){for(var e;e=Oe(this);)Ce(this,e,this.a,this.i);this.h=!1};var Gc=oe;v(ke,b),ke.prototype.name="cancel";var Yc=0,$c={};Ae.prototype.ta=!1,Ae.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},Pe[" "]=a;var Xc,Jc=X("Opera"),Zc=X("Trident")||X("MSIE"),el=X("Edge"),tl=el||Zc,nl=X("Gecko")&&!(H(jc.toLowerCase(),"webkit")&&!X("Edge"))&&!(X("Trident")||X("MSIE"))&&!X("Edge"),rl=H(jc.toLowerCase(),"webkit")&&!X("Edge");e:{var il="",ol=function(){var e=jc;return nl?/rv:([^\);]+)(\)|;)/.exec(e):el?/Edge\/([\d\.]+)/.exec(e):Zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):rl?/WebKit\/(\S+)/.exec(e):Jc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ol&&(il=ol?ol[1]:""),Zc){var al=De();if(null!=al&&al>parseFloat(il)){Xc=String(al);break e}}Xc=il}var sl,ul={};sl=sc.document&&Zc?De():void 0;var cl=Object.freeze||function(e){return e},ll=!Zc||9<=Number(sl),fl=Zc&&!je("9"),hl=function(){if(!sc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sc.addEventListener("test",a,t),sc.removeEventListener("test",a,t)}catch(e){}return e}();Me.prototype.preventDefault=function(){this.Mb=!1},v(Le,Me);var pl=cl({2:"touch",3:"pen",4:"mouse"});Le.prototype.preventDefault=function(){Le.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,fl)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Le.prototype.f=function(){return this.a};var dl="closure_listenable_"+(1e6*Math.random()|0),ml=0;qe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Be(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):(t=new Fe(t,this.src,o,!!r,i),t.Ia=n,e.push(t)),t};var yl="closure_lm_"+(1e6*Math.random()|0),vl={},gl=0,bl="__closure_events_fn_"+(1e9*Math.random()>>>0);v(tt,Ae),tt.prototype[dl]=!0,tt.prototype.addEventListener=function(e,t,n,r){We(this,e,t,n,r)},tt.prototype.removeEventListener=function(e,t,n,r){Ke(this,e,t,n,r)},tt.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Sb;var r=e.type||e;if(i(e))e=new Me(e,n);else if(e instanceof Me)e.target=e.target||n;else{var o=e;e=new Me(r,n),F(e,o)}if(o=!0,t)for(var a=t.length-1;0<=a;a--){var s=e.b=t[a];o=it(s,r,!0,e)&&o}if(s=e.b=n,o=it(s,r,!0,e)&&o,o=it(s,r,!1,e)&&o,t)for(a=0;a<t.length;a++)s=e.b=t[a],o=it(s,r,!1,e)&&o;return o},tt.prototype.xa=function(){if(tt.qb.xa.call(this),this.u){var e,t=this.u,n=0;for(e in t.a){for(var r=t.a[e],i=0;i<r.length;i++)++n,Ue(r[i]);delete t.a[e],t.b--}}this.Wa=null},rc=lt.prototype,rc.U=function(){ft(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},rc.X=function(){return ft(this),this.a.concat()},rc.clear=function(){this.b={},this.c=this.a.length=0},rc.get=function(e,t){return ht(this.b,e)?this.b[e]:t},rc.set=function(e,t){ht(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},rc.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var _l=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;dt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Tt(t,wl,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(Tt(t,wl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tt(n,"/"==n.charAt(0)?Tl:El,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Tt(n,Ol)),e.join("")},dt.prototype.resolve=function(e){var t=new dt(this),n=!!e.f;n?mt(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)yt(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(H(i,"./")||H(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?vt(t,xt(e.a)):n=!!e.g,n&&(t.g=e.g),t};var wl=/[#\/\?@]/g,El=/[#\?:]/g,Tl=/[#\?]/g,Sl=/[#\?@]/g,Ol=/#/g;rc=Ot.prototype,rc.add=function(e,t){Ct(this),this.c=null,e=Pt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},rc.clear=function(){this.a=this.c=null,this.b=0},rc.forEach=function(e,t){Ct(this),this.a.forEach(function(n,r){mc(n,function(n){e.call(t,n,r,this)},this)},this)},rc.X=function(){Ct(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},rc.U=function(e){Ct(this);var t=[];if(i(e))kt(this,e)&&(t=R(t,this.a.get(Pt(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=R(t,e[n])}return t},rc.set=function(e,t){return Ct(this),this.c=null,e=Pt(this,e),kt(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},rc.get=function(e,t){return e?(e=this.U(e),0<e.length?String(e[0]):t):t},rc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Cl=!Zc||9<=Number(sl),Nl={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Il={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},kl=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xl=/^[^@]+@[^@]+$/,Pl="Firefox",Rl="Chrome",Dl={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};En.prototype.get=function(){var e=sc.navigator;return(e&&"boolean"===typeof e.onLine&&(pn()||"chrome-extension:"===dn()||"undefined"!==typeof e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var jl,Ml={};try{var Ll={};Object.defineProperty(Ll,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ll,"abcd",{configurable:!0,enumerable:!0,value:2}),jl=2==Ll.abcd}catch(e){jl=!1}var Fl="EMAIL_SIGNIN",Ul="email",ql="newEmail",Vl="requestType",Bl="email",Wl="fromEmail",zl="data",Hl="operation";v(Ln,Error),Ln.prototype.A=function(){return{code:this.code,message:this.message}},Ln.prototype.toJSON=function(){return this.A()};var Ql="auth/",Kl={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Gl="apiKey",Yl="oobCode",$l="continueUrl",Xl="languageCode",Jl="mode",Zl="tenantId",ef={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Fl,verifyEmail:"VERIFY_EMAIL"},tf="android",nf="dynamicLinkDomain",rf="handleCodeInApp",of="iOS",af="url",sf="installApp",uf="minimumVersion",cf="packageName",lf="bundleId",ff=null,hf=null;Kn.prototype.R=function(){return this.c},Kn.prototype.g=function(){return this.b};var pf,df={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};pf=$n("__EID__")?"__EID__":void 0;var mf="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),yf=["client_id","response_type","scope","redirect_uri","state"],vf={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:yf},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:yf},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:yf},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:mf}},gf="idToken",bf="providerId";v(er,Zn),v(tr,er),v(nr,er),v(rr,er),v(ir,er),ur.prototype.na=function(e){return to(e,cr(this))},ur.prototype.b=function(e,t){var n=cr(this);return n.idToken=t,no(e,n)},ur.prototype.f=function(e,t){return sr(ro(e,cr(this)),t)},ur.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fr.prototype.na=function(e){return to(e,hr(this))},fr.prototype.b=function(e,t){var n=hr(this);return n.idToken=t,no(e,n)},fr.prototype.f=function(e,t){return sr(ro(e,hr(this)),t)},fr.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},dr.prototype.Ea=function(e){return this.zb=L(e),this},v(mr,dr),v(yr,dr),yr.prototype.wa=function(e){return A(this.a,e)||this.a.push(e),this},yr.prototype.Hb=function(){return D(this.a)},yr.prototype.credential=function(e,t){var n;if(n=h(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null},!n.idToken&&!n.accessToken)throw new Ln("argument-error","credential failed: must provide the ID token and/or the access token.");return new fr(this.providerId,n,this.providerId)},v(vr,yr),An(vr,"PROVIDER_ID","facebook.com"),An(vr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),v(br,yr),An(br,"PROVIDER_ID","github.com"),An(br,"GITHUB_SIGN_IN_METHOD","github.com"),v(wr,yr),An(wr,"PROVIDER_ID","google.com"),An(wr,"GOOGLE_SIGN_IN_METHOD","google.com"),v(Tr,dr),An(Tr,"PROVIDER_ID","twitter.com"),An(Tr,"TWITTER_SIGN_IN_METHOD","twitter.com"),Or.prototype.na=function(e){return this.signInMethod==Nr.EMAIL_LINK_SIGN_IN_METHOD?oo(e,Xf,{email:this.a,oobCode:this.c}):oo(e,dh,{email:this.a,password:this.c})},Or.prototype.b=function(e,t){return this.signInMethod==Nr.EMAIL_LINK_SIGN_IN_METHOD?oo(e,Jf,{idToken:t,email:this.a,oobCode:this.c}):oo(e,uh,{idToken:t,email:this.a,password:this.c})},Or.prototype.f=function(e,t){return sr(this.na(e),t)},Or.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},xn(Nr,{PROVIDER_ID:"password"}),xn(Nr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),xn(Nr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ar.prototype.na=function(e){return e.Va(Pr(this))},Ar.prototype.b=function(e,t){var n=Pr(this);return n.idToken=t,oo(e,yh,n)},Ar.prototype.f=function(e,t){var n=Pr(this);return n.operation="REAUTH",e=oo(e,vh,n),sr(e,t)},Ar.prototype.A=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.ba&&(e.phoneNumber=this.a.ba),e},Rr.prototype.Va=function(e,t){var n=this.a.b;return pe(t.verify()).then(function(r){if(!i(r))throw new Ln("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return $i(n,{phoneNumber:e,recaptchaToken:r}).then(function(e){return"function"===typeof t.reset&&t.reset(),e},function(e){throw"function"===typeof t.reset&&t.reset(),e});default:throw new Ln("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},xn(Rr,{PROVIDER_ID:"phone"}),xn(Rr,{PHONE_SIGN_IN_METHOD:"phone"}),Lr.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Lr.prototype.R=function(){return this.h},Lr.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var _f=null;v(Vr,Ln),v(Br,Ln),Br.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&F(e,t),e},Br.prototype.toJSON=function(){return this.A()},zr.prototype.c=null;var wf;v(Qr,zr),Qr.prototype.a=function(){var e=Kr(this);return e?new ActiveXObject(e):new XMLHttpRequest},Qr.prototype.b=function(){var e={};return Kr(this)&&(e[0]=!0,e[1]=!0),e},wf=new Qr,v(Gr,zr),Gr.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Yr;throw Error("Unsupported browser")},Gr.prototype.b=function(){return{}},rc=Yr.prototype,rc.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},rc.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},rc.abort=function(){this.a.abort()},rc.setRequestHeader=function(){},rc.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},rc.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$r(this,4)},rc.Ib=function(){this.status=500,this.response=this.responseText="",$r(this,4)},rc.kc=function(){this.Ib()},rc.gc=function(){this.status=200,$r(this,1)},rc.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xr.prototype.a=null;var Ef=0;Xr.prototype.reset=function(e,t,n,r,i){"number"==typeof i||Ef++,r||hc(),delete this.a},Zr.prototype.toString=function(){return this.name};var Tf=new Zr("SEVERE",1e3),Sf=new Zr("WARNING",900),Of=new Zr("CONFIG",700),Cf=new Zr("FINE",500);Jr.prototype.log=function(e,t,n){if(e.value>=ei(this).value)for(f(t)&&(t=t()),e=new Xr(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Nf={},If=null;v(ri,zr),ri.prototype.a=function(){return new ii(this.f)},ri.prototype.b=function(e){return function(){return e}}({}),v(ii,tt);var kf=0;rc=ii.prototype,rc.open=function(e,t){if(this.readyState!=kf)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,si(this)},rc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Ma.bind(this))},rc.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ai(this,!1)),this.readyState=kf},rc.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,si(this)),this.a&&(this.readyState=3,si(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):"undefined"!==typeof sc.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,oi(this)):e.text().then(this.ic.bind(this),this.Ma.bind(this)))))},rc.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ai(this,!0):si(this),3==this.readyState&&oi(this)}},rc.ic=function(e){this.a&&(this.response=this.responseText=e,ai(this,!0))},rc.hc=function(e){this.a&&(this.response=e,ai(this,!0))},rc.Ma=function(e){var t=this.h;t&&t.log(Sf,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ai(this,!0)},rc.setRequestHeader=function(e,t){this.i.append(e,t)},rc.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Sf,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},rc.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Sf,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},v(ui,tt);var Af="";ui.prototype.b=ti("goog.net.XhrIo");var xf=/^https?$/i,Pf=["POST","PUT"];rc=ui.prototype,rc.Ga=function(){"undefined"!=typeof ac&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ni(this.b,_i(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},rc.abort=function(){this.a&&this.c&&(ni(this.b,_i(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mi(this))},rc.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mi(this,!0)),ui.qb.xa.call(this)},rc.Lb=function(){this.ta||(this.J||this.i||this.f?di(this):this.yc())},rc.yc=function(){di(this)},rc.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Af:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Tf,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ni(this.b,"Can not get response: "+e.message),null}},wi.prototype.cancel=function(e){if(this.a)this.c instanceof wi&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):0>=--t.l&&t.cancel()}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new ki(this),Ti(this),Ei(this,!1,e))}},wi.prototype.m=function(e,t){this.i=!1,Ei(this,e,t)},wi.prototype.then=function(e,t,n){var r,i,o=new le(function(e,t){r=e,i=t});return Oi(this,r,function(e){e instanceof ki?o.cancel():i(e)}),o.then(e,t,n)},wi.prototype.$goog_Thenable=!0,v(Ii,b),Ii.prototype.message="Deferred has already fired",Ii.prototype.name="AlreadyCalledError",v(ki,b),ki.prototype.message="Deferred was canceled",ki.prototype.name="CanceledError",Ai.prototype.c=function(){throw delete Rf[this.a],this.b};var Rf={},Df=0,jf=1;v(ji,b),v(Mi,zr),Mi.prototype.a=function(){return new this.f},Mi.prototype.b=function(){return{}};var Mf,Lf="idToken",Ff=new En(3e4,6e4),Uf={"Content-Type":"application/x-www-form-urlencoded"},qf=new En(3e4,6e4),Vf={"Content-Type":"application/json"};Li.prototype.R=function(){return this.b},Li.prototype.o=function(e,t,n,r,i,o){if(nn()&&("undefined"===typeof sc.fetch||"undefined"===typeof sc.Headers||"undefined"===typeof sc.Request))throw new Ln("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ui(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}nt(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(bi(this))||null}catch(t){e=null}t&&t(e)}),rt(a,"ready",function(){s&&clearTimeout(s),xe(this)}),rt(a,"timeout",function(){s&&clearTimeout(s),xe(this),t&&t(null)}),ci(a,e,n,r,i)};var Bf=new U(_c,"https://apis.google.com/js/client.js?onload=%{onload}"),Wf="__fcb"+Math.floor(1e6*Math.random()).toString();Li.prototype.m=function(e,t,n,r,i){var o=this;Mf.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Li.prototype.ob=function(){return oo(this,ch,{})},Li.prototype.rb=function(e,t){return oo(this,sh,{idToken:e,email:t})},Li.prototype.sb=function(e,t){return oo(this,uh,{idToken:e,password:t})};var zf={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};rc=Li.prototype,rc.tb=function(e,t){var n={idToken:e},r=[];return j(zf,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),oo(this,sh,n)},rc.kb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},F(e,t),oo(this,nh,e)},rc.lb=function(e,t){return e={requestType:"EMAIL_SIGNIN",email:e},F(e,t),oo(this,eh,e)},rc.jb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},F(e,t),oo(this,th,e)},rc.Va=function(e){return oo(this,mh,e)},rc.$a=function(e,t){return oo(this,oh,{oobCode:e,newPassword:t})},rc.Ka=function(e){return oo(this,Qf,{oobCode:e})},rc.Xa=function(e){return oo(this,Hf,{oobCode:e})};var Hf={endpoint:"setAccountInfo",D:io,fa:"email",F:!0},Qf={endpoint:"resetPassword",D:io,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Ln("internal-error")},F:!0},Kf={endpoint:"signupNewUser",D:function(e){if(zi(e),!e.password)throw new Ln("weak-password")},K:Gi,T:!0,F:!0},Gf={endpoint:"createAuthUri",F:!0},Yf={endpoint:"deleteAccount",V:["idToken"]},$f={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!c(e.deleteProvider))throw new Ln("internal-error")}},Xf={endpoint:"emailLinkSignin",V:["email","oobCode"],D:zi,K:Gi,T:!0,F:!0},Jf={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:zi,K:Gi,T:!0},Zf={endpoint:"getAccountInfo"},eh={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Ln("internal-error");zi(e)},fa:"email",F:!0},th={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Ln("internal-error")},fa:"email",F:!0},nh={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Ln("internal-error");zi(e)},fa:"email",F:!0},rh={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ih={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Ln("internal-error")}},oh={endpoint:"resetPassword",D:io,fa:"email",F:!0},ah={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},sh={endpoint:"setAccountInfo",V:["idToken"],D:Hi,T:!0},uh={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Hi(e),!e.password)throw new Ln("weak-password")},K:Gi,T:!0},ch={endpoint:"signupNewUser",K:Gi,T:!0,F:!0},lh={endpoint:"verifyAssertion",D:Ji,Qa:Zi,K:eo,T:!0,F:!0},fh={endpoint:"verifyAssertion",D:Ji,Qa:Zi,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Ln("user-not-found");if(e.errorMessage)throw ao(e.errorMessage);if(!e[Lf])throw new Ln("internal-error")},T:!0,F:!0},hh={endpoint:"verifyAssertion",D:function(e){if(Ji(e),!e.idToken)throw new Ln("internal-error")},Qa:Zi,K:eo,T:!0},ph={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Ln("invalid-custom-token")},K:Gi,T:!0,F:!0},dh={endpoint:"verifyPassword",D:function(e){if(zi(e),!e.password)throw new Ln("wrong-password")},K:Gi,T:!0,F:!0},mh={endpoint:"verifyPhoneNumber",D:Yi,K:Gi,F:!0},yh={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Ln("internal-error");Yi(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Wr(e);Gi(e)}},vh={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Yi,K:Gi,F:!0},gh=new U(_c,"https://apis.google.com/js/api.js?onload=%{onload}"),bh=new En(3e4,6e4),_h=new En(5e3,15e3),wh=null;po.prototype.toString=function(){return this.f?gt(this.a,"v",this.f):It(this.a.a,"v"),this.b?gt(this.a,"eid",this.b):It(this.a.a,"eid"),this.c.length?gt(this.a,"fw",this.c.join(",")):It(this.a.a,"fw"),this.a.toString()},mo.prototype.nb=function(e){return this.h=e,this},mo.prototype.toString=function(){var e=wt(this.o,"/__/auth/handler");if(gt(e,"apiKey",this.m),gt(e,"appName",this.c),gt(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(e){n=null}t.ab=n,gt(e,"providerId",this.a.providerId),t=this.a,n=vn(t.zb);for(var i in n)n[i]=n[i].toString();i=t.Fc,n=L(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}t.cb&&t.ab&&!n[t.cb]&&(n[t.cb]=t.ab),M(n)||gt(e,"customParameters",yn(n))}if("function"===typeof this.a.Hb&&(t=this.a.Hb(),t.length&&gt(e,"scopes",t.join(","))),this.l?gt(e,"redirectUrl",this.l):It(e.a,"redirectUrl"),this.g?gt(e,"eventId",this.g):It(e.a,"eventId"),this.i?gt(e,"v",this.i):It(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!bt(e,s)&&gt(e,s,this.b[s]);return this.h?gt(e,"tid",this.h):It(e.a,"tid"),this.f?gt(e,"eid",this.f):It(e.a,"eid"),s=yo(this.c),s.length&&gt(e,"fw",s.join(",")),e.toString()},rc=vo.prototype,rc.Fb=function(e,t,n){var r=new Ln("popup-closed-by-user"),i=new Ln("web-storage-unsupported"),o=this,a=!1;return this.ia().then(function(){To(o).then(function(n){n||(e&&Yt(e),t(i),a=!0)})}).s(function(){}).then(function(){if(!a)return Xt(e)}).then(function(){if(!a)return at(n).then(function(){t(r)})})},rc.Ob=function(){var e=cn();return!mn(e)&&!_n(e)},rc.Jb=function(){return!1},rc.Db=function(e,t,n,r,i,o,a,s){if(!e)return de(new Ln("popup-blocked"));if(a&&!mn())return this.ia().s(function(t){Yt(e),i(t)}),r(),pe();this.a||(this.a=go(_o(this)));var u=this;return this.a.then(function(){var t=u.ia().s(function(t){throw Yt(e),i(t),t});return r(),t}).then(function(){if(Mr(n),!a){Ht(wo(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)}}).s(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},rc.Eb=function(e,t,n,r){this.a||(this.a=go(_o(this)));var i=this;return this.a.then(function(){Mr(t),Ht(wo(i.u,i.f,i.b,e,t,zt(),n,i.c,void 0,i.h,r))}).s(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},rc.ia=function(){var e=this;return bo(this).then(function(){return e.i.fb}).s(function(){throw e.a=null,new Ln("network-request-failed")})},rc.Rb=function(){return!0},rc.ya=function(e){this.g.push(e)},rc.La=function(e){P(this.g,function(t){return t==e})},rc=So.prototype,rc.get=function(e){return pe(this.a.getItem(e)).then(function(e){return e&&gn(e)})},rc.set=function(e,t){return pe(this.a.setItem(e,yn(t)))},rc.S=function(e){return pe(this.a.removeItem(e))},rc.$=function(){},rc.ea=function(){};var Eh=[];Oo.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];mc(r,function(t){i.push(pe().then(function(){return t(e.origin,e.data.data)}))}),ve(i).then(function(r){var i=[];mc(r,function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})}),mc(i,function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},Io.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ko.prototype.close=function(){for(;0<this.a.length;)xo(this,this.a[0]);this.b=!0};var Th;rc=Po.prototype,rc.set=function(e,t){var n,r=!1,i=this;return jo(this).then(function(t){return n=t,t=Lo(Fo(n,!0)),Uo(t.get(e))}).then(function(o){var a=Lo(Fo(n,!0));return o?(o.value=t,Uo(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=e,o.value=t,Uo(a.add(o)))}).then(function(){return i.c[e]=t,qo(i,e)}).ka(function(){r&&i.b--})},rc.get=function(e){return jo(this).then(function(t){return Uo(Lo(Fo(t,!1)).get(e))}).then(function(e){return e&&e.value})},rc.S=function(e){var t=!1,n=this;return jo(this).then(function(r){return t=!0,n.b++,Uo(Lo(Fo(r,!0)).delete(e))}).then(function(){return delete n.c[e],qo(n,e)}).ka(function(){t&&n.b--})},rc.$=function(e){0==this.a.length&&Bo(this),this.a.push(e)},rc.ea=function(e){P(this.a,function(t){return t==e}),0==this.a.length&&Wo(this)},rc=zo.prototype,rc.get=function(e){return this.b.then(function(t){return t.get(e)})},rc.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},rc.S=function(e){return this.b.then(function(t){return t.S(e)})},rc.$=function(e){this.a.push(e)},rc.ea=function(e){P(this.a,function(t){return t==e})},rc=Ho.prototype,rc.get=function(e){return pe(this.a[e])},rc.set=function(e,t){return this.a[e]=t,pe()},rc.S=function(e){return delete this.a[e],pe()},rc.$=function(){},rc.ea=function(){},rc=Qo.prototype,rc.get=function(e){var t=this;return pe().then(function(){return gn(t.a.getItem(e))})},rc.set=function(e,t){var n=this;return pe().then(function(){var r=yn(t);null===r?n.S(e):n.a.setItem(e,r)})},rc.S=function(e){var t=this;return pe().then(function(){t.a.removeItem(e)})},rc.$=function(e){sc.window&&We(sc.window,"storage",e)},rc.ea=function(e){sc.window&&Ke(sc.window,"storage",e)},rc=Yo.prototype,rc.get=function(){return pe(null)},rc.set=function(){return pe()},rc.S=function(){return pe()},rc.$=function(){},rc.ea=function(){},rc=$o.prototype,rc.get=function(e){var t=this;return pe().then(function(){return gn(t.a.getItem(e))})},rc.set=function(e,t){var n=this;return pe().then(function(){var r=yn(t);null===r?n.S(e):n.a.setItem(e,r)})},rc.S=function(e){var t=this;return pe().then(function(){t.a.removeItem(e)})},rc.$=function(){},rc.ea=function(){};var Sh,Oh,Ch={C:Qo,Sa:$o},Nh={C:Qo,Sa:$o},Ih={C:So,Sa:Yo},kh={C:Qo,Sa:Yo},Ah={$c:"local",NONE:"none",bd:"session"};rc=ta.prototype,rc.get=function(e,t){return ra(this,e.C).get(ia(e,t))},rc.set=function(e,t,n){var r=ia(e,n),i=this,o=ra(this,e.C);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.C&&(i.b[r]=t)})},rc.addListener=function(e,t,n){e=ia(e,t),this.l&&(this.b[e]=sc.localStorage.getItem(e)),M(this.a)&&(ra(this,"local").$(this.f),this.h||(Wt()||!Cn())&&sc.indexedDB||!this.l||sa(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},rc.removeListener=function(e,t,n){e=ia(e,t),this.a[e]&&(P(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),M(this.a)&&(ra(this,"local").ea(this.f),ua(this))},rc.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=sc.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?ra(this,"local").ea(this.f):ua(this),this.m)if(n=sc.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?sc.localStorage.setItem(t,r):sc.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===sc.localStorage.getItem(t)||(o.b[t]=sc.localStorage.getItem(t),o.Za(t))},Zc&&sl&&10==sl&&sc.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else mc(e,m(this.Za,this))},rc.Za=function(e){this.a[e]&&mc(this.a[e],function(e){e()})};var xh,Ph={name:"authEvent",C:"local"};v(pa,ha);for(var Rh=64,Dh=Rh-1,jh=[],Mh=0;Mh<Dh;Mh++)jh[Mh]=0;var Lh=R(128,jh);pa.prototype.reset=function(){this.g=this.c=0,this.a=sc.Int32Array?new Int32Array(this.h):D(this.h)};var Fh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];v(ya,pa);var Uh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];rc=va.prototype,rc.ia=function(){return this.Ba?this.Ba:this.Ba=Zt().then(function(){if("function"!==typeof ln("universalLinks.subscribe",sc))throw ga("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof ln("BuildInfo.packageName",sc))throw ga("cordova-plugin-buildinfo is not installed");if("function"!==typeof ln("cordova.plugins.browsertab.openUrl",sc))throw ga("cordova-plugin-browsertab is not installed");if("function"!==typeof ln("cordova.InAppBrowser.open",sc))throw ga("cordova-plugin-inappbrowser is not installed")},function(){throw new Ln("cordova-not-ready")})},rc.Fb=function(e,t){return t(new Ln("operation-not-supported-in-this-environment")),pe()},rc.Db=function(){return de(new Ln("operation-not-supported-in-this-environment"))},rc.Rb=function(){return!1},rc.Ob=function(){return!0},rc.Jb=function(){return!0},rc.Eb=function(e,t,n,r){if(this.c)return de(new Ln("redirect-operation-pending"));var i=this,o=sc.document,a=null,s=null,u=null,c=null;return this.c=pe().then(function(){return Mr(t),Ta(i)}).then(function(){return wa(i,e,t,n,r)}).then(function(){return new le(function(e,t){s=function(){var t=ln("cordova.plugins.browsertab.close",sc);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(s),u=function(){a||(a=at(2e3).then(function(){t(new Ln("redirect-cancelled-by-user"))}))},c=function(){Tn()&&u()},o.addEventListener("resume",u,!1),cn().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(e){return Sa(i).then(function(){throw e})})}).ka(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.La(s),i.c=null})},rc.ya=function(e){this.b.push(e),Ta(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Lr("unknown",null,null,null,new Ln("no-auth-event")),e(t))})},rc.La=function(e){P(this.b,function(t){return t==e})};var qh={name:"pendingRedirect",C:"session"};Aa.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=xa(this.B,this.u,this.m),this.i={}},Aa.prototype.o=function(e){if(!e)throw new Ln("invalid-auth-event");if(6e5<=hc()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=hc())),t=!0;break}}return Ba(this.b),t};var Vh=new En(2e3,1e4),Bh=new En(3e4,6e4);Aa.prototype.oa=function(){return this.b.oa()};var Wh={};Va.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Va.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Ka(this,!0,null,e.a),pe()):t.za(n,r)?za(this,e,t):de(new Ln("invalid-auth-event")):(Ka(this,!1,null,null),pe())}else de(new Ln("invalid-auth-event"))},Va.prototype.oa=function(){var e=this;return new le(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),Ga(e))})},Ya.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),pe()):t.za(n,r)?$a(e,t):de(new Ln("invalid-auth-event"))}else de(new Ln("invalid-auth-event"))},Ja.prototype.confirm=function(e){return e=Dr(this.verificationId,e),this.a(e)},ts.prototype.start=function(){this.a=this.c,rs(this,!0)},ts.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},is.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},is.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?de(new Ln("user-token-expired")):e||!this.b||hc()>this.c-3e4?this.a?us(this,{grant_type:"refresh_token",refresh_token:this.a}):pe(null):pe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},cs.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},v(hs,Me),v(ps,tt),ps.prototype.sa=function(e){this.ga=e,Fi(this.a,e)},ps.prototype.ha=function(){return this.ga},ps.prototype.Aa=function(){return D(this.P)},ps.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},An(ps.prototype,"providerId","firebase"),rc=ps.prototype,rc.reload=function(){var e=this;return Ws(this,Ns(this).then(function(){return Rs(e).then(function(){return Ts(e)}).then(Cs)}))},rc.dc=function(e){return this.G(e).then(function(e){return new es(e)})},rc.G=function(e){var t=this;return Ws(this,Ns(this).then(function(){return t.b.getToken(e)}).then(function(e){if(!e)throw new Ln("internal-error");return e.accessToken!=t.ma&&(ws(t,e.accessToken),t.dispatchEvent(new hs("tokenChanged"))),xs(t,"refreshToken",e.refreshToken),e.accessToken}))},rc.zc=function(e){if(!(e=e.users)||!e.length)throw new Ln("internal-error");e=e[0],Os(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=Ms(e),n=0;n<t.length;n++)ks(this,t[n]);xs(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},rc.Ac=function(e){return kn("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},rc.gb=function(e){var t=this,n=null;return Ws(this,e.f(this.a,this.uid).then(function(e){return Ds(t,e),n=Fs(t,e,"reauthenticate"),t.h=null,t.reload()}).then(function(){return n}),!0)},rc.rc=function(e){return kn("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},rc.eb=function(e){var t=this,n=null;return Ws(this,Ls(this,e.providerId).then(function(){return t.G()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=Fs(t,e,"link"),Us(t,e)}).then(function(){return n}))},rc.sc=function(e,t){var n=this;return Ws(this,Ls(this,"phone").then(function(){return Za(vs(n),e,t,m(n.eb,n))}))},rc.Bc=function(e,t){var n=this;return Ws(this,pe().then(function(){return Za(vs(n),e,t,m(n.gb,n))}),!0)},rc.rb=function(e){var t=this;return Ws(this,this.G().then(function(n){return t.a.rb(n,e)}).then(function(e){return Ds(t,e),t.reload()}))},rc.Sc=function(e){var t=this;return Ws(this,this.G().then(function(n){return e.b(t.a,n)}).then(function(e){return Ds(t,e),t.reload()}))},rc.sb=function(e){var t=this;return Ws(this,this.G().then(function(n){return t.a.sb(n,e)}).then(function(e){return Ds(t,e),t.reload()}))},rc.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ns(this);var t=this;return Ws(this,this.G().then(function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Ds(t,e),xs(t,"displayName",e.displayName||null),xs(t,"photoURL",e.photoUrl||null),mc(t.providerData,function(e){"password"===e.providerId&&(An(e,"displayName",t.displayName),An(e,"photoURL",t.photoURL))}),Ts(t)}).then(Cs))},rc.Qc=function(e){var t=this;return Ws(this,Rs(this).then(function(n){return A(Is(t),e)?Xi(t.a,n,[e]).then(function(e){var n={};return mc(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),mc(Is(t),function(e){n[e]||As(t,e)}),n[Rr.PROVIDER_ID]||An(t,"phoneNumber",null),Ts(t)}):Ts(t).then(function(){throw new Ln("no-such-provider")})}))},rc.delete=function(){var e=this;return Ws(this,this.G().then(function(t){return oo(e.a,Yf,{idToken:t})}).then(function(){e.dispatchEvent(new hs("userDeleted"))})).then(function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");ds(e,null),ys(e,null),e.I=[],e.B=!0,_s(e),An(e,"refreshToken",null),e.i&&ja(e.i,e)})},rc.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},rc.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},rc.za=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?m(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?m(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?m(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?m(this.Cb,this):null},rc.tc=function(e){var t=this;return qs(this,"linkViaPopup",e,function(){return Ls(t,e.providerId).then(function(){return Ts(t)})},!1)},rc.Cc=function(e){return qs(this,"reauthViaPopup",e,function(){return pe()},!0)},rc.uc=function(e){var t=this;return Vs(this,"linkViaRedirect",e,function(){return Ls(t,e.providerId)},!1)},rc.Dc=function(e){return Vs(this,"reauthViaRedirect",e,function(){return pe()},!0)},rc.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.G().then(function(n){return no(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=Fs(i,e,"link"),Us(i,e)}).then(function(){return o}),Ws(this,n)},rc.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ws(this,pe().then(function(){return sr(ro(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=Fs(i,e,"reauthenticate"),Ds(i,e),i.h=null,i.reload()}).then(function(){return o}),!0)},rc.jb=function(e){var t=this,n=null;return Ws(this,this.G().then(function(t){return n=t,"undefined"===typeof e||M(e)?{}:Bn(new Vn(e))}).then(function(e){return t.a.jb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},rc.toJSON=function(){return this.A()},rc.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&F(e,this.metadata.A()),mc(this.providerData,function(t){e.providerData.push(Rn(t))}),e};var zh={name:"redirectUser",C:"session"};Xs.prototype.g=function(){var e=this,t=eu("local");ou(this,function(){return pe().then(function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null}).then(function(n){if(n)return Js(e,"local").then(function(){e.c=t})})})};var Hh={name:"persistence",C:"session"};Xs.prototype.mb=function(e){var t=null,n=this;return ea(e),ou(this,function(){return e!=n.c.C?n.b.get(n.c,n.a).then(function(r){return t=r,Js(n,e)}).then(function(){if(n.c=eu(e),t)return n.b.set(n.c,t,n.a)}):pe()})},v(au,tt),v(su,Me),v(uu,Me),rc=au.prototype,rc.mb=function(e){return e=this.h.mb(e),Su(this,e)},rc.sa=function(e){this.Z===e||this.l||(this.Z=e,Fi(this.b,this.Z),this.dispatchEvent(new su(this.ha())))},rc.ha=function(){return this.Z},rc.Tc=function(){var e=sc.navigator;this.sa(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},rc.vc=function(e){this.I.push(e),Ui(this.b,r.a.SDK_VERSION?un(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new uu(this.I))},rc.Aa=function(){return D(this.I)},rc.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},rc.R=function(){return this.P},rc.toJSON=function(){return{apiKey:bu(this).options.apiKey,authDomain:bu(this).options.authDomain,appName:bu(this).name,currentUser:_u(this)&&_u(this).A()}},rc.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},rc.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},rc.za=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?m(this.ac,this):null},rc.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=to(i.b,e).then(function(e){return o=jr(e),a=Jn(e),e});return e=i.Y.then(function(){return s}).then(function(e){return pu(i,e)}).then(function(){return Pn({user:_u(i),credential:o,additionalUserInfo:a,operationType:"signIn"})}),Su(this,e)},rc.Lc=function(e){if(!hn())return de(new Ln("operation-not-supported-in-this-environment"));var t=this,n=Xn(e.providerId),i=bn(),o=null;(!mn()||tn())&&bu(this).options.authDomain&&e.isOAuthProvider&&(o=wo(bu(this).options.authDomain,bu(this).options.apiKey,bu(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null,null,null,this.R()));var a=$t(o,n&&n.Da,n&&n.Ca);return n=lu(this).then(function(n){return Ma(n,a,"signInViaPopup",e,i,!!o,t.R())}).then(function(){return new le(function(e,n){t.ja("signInViaPopup",null,new Ln("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=Ua(t.a,t,"signInViaPopup",a,i)})}).then(function(e){return a&&Yt(a),e?Pn(e):null}).s(function(e){throw a&&Yt(a),e}),Su(this,n)},rc.Mc=function(e){if(!hn())return de(new Ln("operation-not-supported-in-this-environment"));var t=this;return Su(this,lu(this).then(function(){return tu(t.h)}).then(function(){return Fa(t.a,"signInViaRedirect",e,void 0,t.R())}))},rc.oa=function(){var e=this;return hu(this).then(function(t){return e.a&&Wa(e.a.b),t}).s(function(t){throw e.a&&Wa(e.a.b),t})},rc.Rc=function(e){if(!e)return de(new Ln("null-user"));if(this.P!=e.tenantId)return de(new Ln("tenant-id-mismatch"));var t=this,n={};n.apiKey=bu(this).options.apiKey,n.authDomain=bu(this).options.authDomain,n.appName=bu(this).name;var r=Ks(e,n,t.w,t.Aa());return Su(this,this.i.then(function(){if(bu(t).options.apiKey!=e.l)return r.reload()}).then(function(){return _u(t)&&e.uid==_u(t).uid?(Ps(_u(t),e),t.aa(e)):(du(t,r),Ss(r),t.aa(r))}).then(function(){Eu(t)}))},rc.pb=function(){var e=this;return Su(this,this.i.then(function(){return e.a&&Wa(e.a.b),_u(e)?(du(e,null),ru(e.h).then(function(){Eu(e)})):pe()}))},rc.Nc=function(){var e=this;return iu(this.h,bu(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=_u(e)&&t){n=_u(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ps(_u(e),t),_u(e).G();(_u(e)||t)&&(du(e,t),t&&(Ss(t),t.da=e.w),e.a&&Da(e.a,e),Eu(e))}})},rc.aa=function(e){return nu(this.h,e)},rc.bc=function(){Eu(this),this.aa(_u(this))},rc.mc=function(){this.pb()},rc.nc=function(){this.pb()},rc.oc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(_u(t))})},rc.pc=function(e){var t=this;Tu(this,function(){e.next(_u(t))})},rc.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then(function(){f(e)?e(_u(r)):f(e.next)&&e.next(_u(r))}),this.Ub(e,t,n)},rc.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then(function(){r.W=r.getUid(),f(e)?e(_u(r)):f(e.next)&&e.next(_u(r))}),this.Vb(e,t,n)},rc.cc=function(e){var t=this;return Su(this,this.i.then(function(){return _u(t)?_u(t).G(e).then(function(e){return{accessToken:e}}):null}))},rc.Hc=function(e){var t=this;return this.i.then(function(){return gu(t,oo(t.b,ph,{token:e}))}).then(function(e){var n=e.user;return xs(n,"isAnonymous",!1),t.aa(n),e})},rc.Ic=function(e,t){var n=this;return this.i.then(function(){return gu(n,oo(n.b,dh,{email:e,password:t}))})},rc.Xb=function(e,t){var n=this;return this.i.then(function(){return gu(n,oo(n.b,Kf,{email:e,password:t}))})},rc.Ra=function(e){var t=this;return this.i.then(function(){return gu(t,e.na(t.b))})},rc.Gc=function(e){return kn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},rc.ob=function(){var e=this;return this.i.then(function(){var t=_u(e);if(t&&t.isAnonymous){return Pn({user:t,credential:null,additionalUserInfo:Pn({providerId:null,isNewUser:!1}),operationType:"signIn"})}return gu(e,e.b.ob()).then(function(t){var n=t.user;return xs(n,"isAnonymous",!0),e.aa(n),t})})},rc.getUid=function(){return _u(this)&&_u(this).uid||null},rc.Wb=function(e){this.addAuthTokenListener(e),0<++this.o&&_u(this)&&bs(_u(this))},rc.Ec=function(e){var t=this;mc(this.m,function(n){n==e&&t.o--}),0>this.o&&(this.o=0),0==this.o&&_u(this)&&_s(_u(this)),this.removeAuthTokenListener(e)},rc.addAuthTokenListener=function(e){var t=this;this.m.push(e),Su(this,this.i.then(function(){t.l||A(t.m,e)&&e(wu(t))}))},rc.removeAuthTokenListener=function(e){P(this.m,function(t){return t==e})},rc.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h,e.b.removeListener(eu("local"),e.a,this.ma)),this.a&&(ja(this.a,this),Wa(this.a.b)),Promise.resolve()},rc.$b=function(e){return Su(this,Qi(this.b,e))},rc.qc=function(e){return!!kr(e)},rc.lb=function(e,t){var n=this;return Su(this,pe().then(function(){var e=new Vn(t);if(!e.c)throw new Ln("argument-error",rf+" must be true when sending sign in link to email");return Bn(e)}).then(function(t){return n.b.lb(e,t)}).then(function(){}))},rc.Uc=function(e){return this.Ka(e).then(function(e){return e.data.email})},rc.$a=function(e,t){return Su(this,this.b.$a(e,t).then(function(){}))},rc.Ka=function(e){return Su(this,this.b.Ka(e).then(function(e){return new Mn(e)}))},rc.Xa=function(e){return Su(this,this.b.Xa(e).then(function(){}))},rc.kb=function(e,t){var n=this;return Su(this,pe().then(function(){return"undefined"===typeof t||M(t)?{}:Bn(new Vn(t))}).then(function(t){return n.b.kb(e,t)}).then(function(){}))},rc.Kc=function(e,t){return Su(this,Za(this,e,t,m(this.Ra,this)))},rc.Jc=function(e,t){var n=this;return Su(this,pe().then(function(){var r=t||zt(),i=Ir(e,r);if(!(r=kr(r)))throw new Ln("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Ln("tenant-id-mismatch");return n.Ra(i)}))},Ou.prototype.render=function(){},Ou.prototype.reset=function(){},Ou.prototype.getResponse=function(){},Ou.prototype.execute=function(){};var Qh=null;Cu.prototype.render=function(e,t){return this.a[this.b.toString()]=new ku(e,t),this.b++},Cu.prototype.reset=function(e){var t=Nu(this,e);e=Iu(e),t&&e&&(t.delete(),delete this.a[e])},Cu.prototype.getResponse=function(e){return(e=Nu(this,e))?e.getResponse():null},Cu.prototype.execute=function(e){(e=Nu(this,e))&&e.execute()},ku.prototype.getResponse=function(){return Au(this),this.b},ku.prototype.execute=function(){Au(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=an();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},ku.prototype.delete=function(){Au(this),this.g=!0,clearTimeout(this.a),this.a=null,Ke(this.f,"click",this.i)},xu.prototype.g=function(){return Qh||(Qh=new Cu),pe(Qh)},xu.prototype.c=function(){};var Kh=null,Gh=new U(_c,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Yh=new En(3e4,6e4);Pu.prototype.g=function(e){var t=this;return new le(function(n,r){var i=setTimeout(function(){r(new Ln("network-request-failed"))},Yh.get());if(!sc.grecaptcha||e!==t.f&&!t.b){sc[t.a]=function(){if(sc.grecaptcha){t.f=e;var o=sc.grecaptcha.render;sc.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(sc.grecaptcha)}else clearTimeout(i),r(new Ln("internal-error"));delete sc[t.a]};pe(xi(W(Gh,{onload:t.a,hl:e||""}))).s(function(){clearTimeout(i),r(new Ln("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n(sc.grecaptcha)})},Pu.prototype.c=function(){this.b--};var $h=null,Xh="callback",Jh="expired-callback",Zh="sitekey",ep="size";rc=Ru.prototype,rc.Ba=function(){var e=this;return this.f?this.f:this.f=Mu(this,pe().then(function(){if(pn()&&!nn())return Jt();throw new Ln("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.v())}).then(function(t){return e.g=t,oo(e.o,ih,{})}).then(function(t){e.a[Zh]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},rc.render=function(){Lu(this);var e=this;return Mu(this,this.Ba().then(function(){if(null===e.c){var t=e.u;if(!e.i){var n=Dt(t);t=Mt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},rc.verify=function(){Lu(this);var e=this;return Mu(this,this.render().then(function(t){return new le(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(ju(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}})}))},rc.reset=function(){Lu(this),null!==this.c&&this.g.reset(this.c)},rc.clear=function(){Lu(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Dt(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},v(Fu,Ru);var tp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");Ju(au.prototype,{Xa:{name:"applyActionCode",j:[qu("code")]},Ka:{name:"checkActionCode",j:[qu("code")]},$a:{name:"confirmPasswordReset",j:[qu("code"),qu("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[qu("email"),qu("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[qu("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[qu("emailLink")]},wc:{name:"onAuthStateChanged",j:[Xu(Bu(),Wu(),"nextOrObserver"),Wu("opt_error",!0),Wu("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Xu(Bu(),Wu(),"nextOrObserver"),Wu("opt_error",!0),Wu("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[qu("email"),Xu(Bu("opt_actionCodeSettings",!0),zu(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[qu("email"),Bu("actionCodeSettings")]},mb:{name:"setPersistence",j:[qu("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Gu()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Gu()]},Hc:{name:"signInWithCustomToken",j:[qu("token")]},Ic:{name:"signInWithEmailAndPassword",j:[qu("email"),qu("password")]},Jc:{name:"signInWithEmailLink",j:[qu("email"),qu("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[qu("phoneNumber"),$u()]},Lc:{name:"signInWithPopup",j:[Yu()]},Mc:{name:"signInWithRedirect",j:[Yu()]},Rc:{name:"updateCurrentUser",j:[Xu(function(e){return{name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof ps)}}}(),zu(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qu(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[qu("code")]}}),Zu(au.prototype,{lc:{name:"languageCode",Ya:Xu(qu(),zu(),"languageCode")},ti:{name:"tenantId",Ya:Xu(qu(),zu(),"tenantId")}}),au.Persistence=Ah,au.Persistence.LOCAL="local",au.Persistence.SESSION="session",au.Persistence.NONE="none",Ju(ps.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Vu("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Vu("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Gu()]},eb:{name:"linkWithCredential",j:[Gu()]},sc:{name:"linkWithPhoneNumber",j:[qu("phoneNumber"),$u()]},tc:{name:"linkWithPopup",j:[Yu()]},uc:{name:"linkWithRedirect",j:[Yu()]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gu()]},gb:{name:"reauthenticateWithCredential",j:[Gu()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[qu("phoneNumber"),$u()]},Cc:{name:"reauthenticateWithPopup",j:[Yu()]},Dc:{name:"reauthenticateWithRedirect",j:[Yu()]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[Xu(Bu("opt_actionCodeSettings",!0),zu(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qu(null,!0)]},Qc:{name:"unlink",j:[qu("provider")]},rb:{name:"updateEmail",j:[qu("email")]},sb:{name:"updatePassword",j:[qu("password")]},Sc:{name:"updatePhoneNumber",j:[Gu("phone")]},tb:{name:"updateProfile",j:[Bu("profile")]}}),Ju(Cu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ju(Ou.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ju(le.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Zu(Xa.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Vu("appVerificationDisabledForTesting")}}),Ju(Ja.prototype,{confirm:{name:"confirm",j:[qu("verificationCode")]}}),ec(ar,"fromJSON",function(e){e=i(e)?JSON.parse(e):e;for(var t,n=[pr,Cr,xr,lr],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[Xu(qu(),Bu(),"json")]),ec(Nr,"credential",function(e,t){return new Or(e,t)},[qu("email"),qu("password")]),Ju(Or.prototype,{A:{name:"toJSON",j:[qu(null,!0)]}}),Ju(vr.prototype,{wa:{name:"addScope",j:[qu("scope")]},Ea:{name:"setCustomParameters",j:[Bu("customOAuthParameters")]}}),ec(vr,"credential",gr,[Xu(qu(),Bu(),"token")]),ec(Nr,"credentialWithLink",Ir,[qu("email"),qu("emailLink")]),Ju(br.prototype,{wa:{name:"addScope",j:[qu("scope")]},Ea:{name:"setCustomParameters",j:[Bu("customOAuthParameters")]}}),ec(br,"credential",_r,[Xu(qu(),Bu(),"token")]),Ju(wr.prototype,{wa:{name:"addScope",j:[qu("scope")]},Ea:{name:"setCustomParameters",j:[Bu("customOAuthParameters")]}}),ec(wr,"credential",Er,[Xu(qu(),Xu(Bu(),zu()),"idToken"),Xu(qu(),zu(),"accessToken",!0)]),Ju(Tr.prototype,{Ea:{name:"setCustomParameters",j:[Bu("customOAuthParameters")]}}),ec(Tr,"credential",Sr,[Xu(qu(),Bu(),"token"),qu("secret",!0)]),Ju(yr.prototype,{wa:{name:"addScope",j:[qu("scope")]},credential:{name:"credential",j:[Xu(qu(),Xu(Bu(),zu()),"optionsOrIdToken"),Xu(qu(),zu(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[Bu("customOAuthParameters")]}}),Ju(fr.prototype,{A:{name:"toJSON",j:[qu(null,!0)]}}),Ju(ur.prototype,{A:{name:"toJSON",j:[qu(null,!0)]}}),ec(Rr,"credential",Dr,[qu("verificationId"),qu("verificationCode")]),Ju(Rr.prototype,{Va:{name:"verifyPhoneNumber",j:[qu("phoneNumber"),$u()]}}),Ju(Ar.prototype,{A:{name:"toJSON",j:[qu(null,!0)]}}),Ju(Ln.prototype,{toJSON:{name:"toJSON",j:[qu(null,!0)]}}),Ju(Br.prototype,{toJSON:{name:"toJSON",j:[qu(null,!0)]}}),Ju(Vr.prototype,{toJSON:{name:"toJSON",j:[qu(null,!0)]}}),Ju(Fu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ec(Un,"parseLink",qn,[qu("link")]),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:au,AuthCredential:ar,Error:Ln};ec(e,"EmailAuthProvider",Nr,[]),ec(e,"FacebookAuthProvider",vr,[]),ec(e,"GithubAuthProvider",br,[]),ec(e,"GoogleAuthProvider",wr,[]),ec(e,"TwitterAuthProvider",Tr,[]),ec(e,"OAuthProvider",yr,[qu("providerId")]),ec(e,"SAMLAuthProvider",mr,[qu("providerId")]),ec(e,"PhoneAuthProvider",Rr,[Qu()]),ec(e,"RecaptchaVerifier",Fu,[Xu(qu(),Hu(),"recaptchaContainer"),Bu("recaptchaParameters",!0),Ku()]),ec(e,"ActionCodeURL",Un,[]),r.a.INTERNAL.registerService("auth",function(e,t){return e=new au(e),t({INTERNAL:{getUid:m(e.getUid,e),getToken:m(e.cc,e),addAuthTokenListener:m(e.Wb,e),removeAuthTokenListener:m(e.Ec,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),r.a.INTERNAL.extendNamespace({User:ps})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}.call(t,n(33))},function(e,t,n){"use strict";function r(){return jt.logLevel===At.LogLevel.DEBUG?It.DEBUG:jt.logLevel===At.LogLevel.SILENT?It.SILENT:It.ERROR}function i(e){switch(e){case It.DEBUG:jt.logLevel=At.LogLevel.DEBUG;break;case It.ERROR:jt.logLevel=At.LogLevel.ERROR;break;case It.SILENT:jt.logLevel=At.LogLevel.SILENT;break;default:jt.error("Firestore ("+Dt+"): Invalid value passed to `setLogLevel`")}}function o(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(jt.logLevel<=At.LogLevel.DEBUG){var i=n.map(s);jt.debug.apply(jt,["Firestore ("+Dt+") ["+e+"]: "+t].concat(i))}}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(jt.logLevel<=At.LogLevel.ERROR){var r=t.map(s);jt.error.apply(jt,["Firestore ("+Dt+"): "+e].concat(r))}}function s(e){if("string"===typeof e)return e;var t=Lt.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function u(e){var t="FIRESTORE ("+Dt+") INTERNAL ASSERTION FAILED: "+e;throw a(t),new Error(t)}function c(e,t){e||u(t)}function l(){return Lt.getPlatform().emptyByteString}function f(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Ut(Ft.INVALID_ARGUMENT,e)}n.prototype=e.prototype;for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){return void 0!==e?e:t}function d(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function m(e){var t=[];return y(e,function(e,n){return t.push(n)}),t}function y(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function v(e){c(null!=e&&"object"===typeof e,"isEmpty() expects object parameter.");for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function g(e){c(e&&"object"===typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function b(e,t){if(0!==t.length)throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+V(t.length,"argument")+".")}function _(e,t,n){if(t.length!==n)throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires "+V(n,"argument")+", but was called with "+V(t.length,"argument")+".")}function w(e,t,n){if(t.length<n)throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires at least "+V(n,"argument")+", but was called with "+V(t.length,"argument")+".")}function E(e,t,n,r){if(t.length<n||t.length>r)throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+V(t.length,"argument")+".")}function T(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+V(r,"element")+".")}function S(e,t,n,r){R(e,t,q(n)+" argument",r)}function O(e,t,n,r){void 0!==r&&S(e,t,n,r)}function C(e,t,n,r){R(e,t,n+" option",r)}function N(e,t,n,r){void 0!==r&&C(e,t,n,r)}function I(e,t,n,r,i){if(!(r instanceof Array))throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+j(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+j(r[o]))}function k(e,t,n,r,i){void 0!==r&&I(e,t,n,r,i)}function A(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(j(u))}var c=j(r);throw new Ut(Ft.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}function x(e,t,n,r,i){void 0!==r&&A(e,t,n,r,i)}function P(e,t,n,r){if(!t.some(function(e){return e===r}))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid value "+j(r)+" provided to function "+e+"() for its "+q(n)+" argument. Acceptable values: "+t.join(", "))}function R(e,t,n,r){if(!("object"===t?D(r):"non-empty string"===t?"string"===typeof r&&""!==r:typeof r===t)){var i=j(r);throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function D(e){return"object"===typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function j(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"===typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"===typeof e||"boolean"===typeof e)return""+e;if("object"===typeof e){if(e instanceof Array)return"an array";var t=M(e);return t?"a custom "+t+" object":"an object"}return"function"===typeof e?"a function":u("Unknown wrong type: "+typeof e)}function M(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/,n=t.exec(e.constructor.toString());if(n&&n.length>1)return n[1]}return null}function L(e,t,n){if(void 0===n)throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+q(t)+" argument, but it was undefined.")}function F(e,t,n){y(t,function(t,r){if(n.indexOf(t)<0)throw new Ut(Ft.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function U(e,t,n,r){var i=j(r);return new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+q(n)+" argument to be a "+t+", but it was: "+i)}function q(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function V(e,t){return e+" "+t+(1===e?"":"s")}function B(e,t){return e<t?-1:e>t?1:0}function W(e,t){return null!==e&&void 0!==e?!(!t||!e.isEqual(t)):e===t}function z(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function H(e){return e+"\0"}function Q(){if("undefined"===typeof Uint8Array)throw new Ut(Ft.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function K(){if(!Lt.getPlatform().base64Available)throw new Ut(Ft.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function G(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$(t)),t=Y(e.get(n),t);return $(t)}function Y(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=tn+rn;break;case tn:n+=tn+on;break;default:n+=o}}return n}function $(e){return e+tn+nn}function X(e){var t=e.length;if(c(t>=2,"Invalid path "+e),2===t)return c(e.charAt(0)===tn&&e.charAt(1)===nn,"Non-empty path "+e+" had length 2"),Gt.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(tn,o);(a<0||a>n)&&u('Invalid encoded resource path: "'+e+'"');switch(e.charAt(a+1)){case nn:var s=e.substring(o,a),l=void 0;0===i.length?l=s:(i+=s,l=i,i=""),r.push(l);break;case rn:i+=e.substring(o,a),i+="\0";break;case on:i+=e.substring(o,a+1);break;default:u('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Gt(r)}function J(){return mn}function Z(){return J()}function ee(){return yn}function te(){return vn}function ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=gn,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}function re(){return bn}function ie(e,t,n){var r=Tr.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ce(e).iterate({range:o,keysOnly:!0},function(e,n,r){var o=e[0],s=e[1];e[2];o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function oe(e,t){var n=!1;return le(e).iterateSerial(function(r){return ie(e,r,t).next(function(e){return e&&(n=!0),En.resolve(!e)})}).next(function(){return n})}function ae(e,t,n){var r=e.store(Er.store),i=e.store(Tr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){c(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var l=[],f=0,h=n.mutations;f<h.length;f++){var p=h[f],d=Tr.key(t,p.key.path,n.batchId);o.push(i.delete(d)),l.push(p.key)}return En.waitFor(o).next(function(){return l})}function se(e){return e instanceof Uint8Array?(c("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function ue(e){return ei.getStore(e,Er.store)}function ce(e){return ei.getStore(e,Tr.store)}function le(e){return ei.getStore(e,wr.store)}function fe(e){return new En(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=he(e.target.error);n(t)}})}function he(e){var t=In.getIOSVersion(Pt.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ut("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pn||(Pn=!0,setTimeout(function(){throw r},0)),r}}return e}function pe(e){return ei.getStore(e,Ir.store)}function de(e){return ei.getStore(e,Ar.store)}function me(e){return In.getStore(e,Ar.store).get(Ar.key).next(function(e){return c(null!==e,"Missing metadata row."),e})}function ye(e){return me(e).next(function(e){return e.highestListenSequenceNumber})}function ve(e){return ei.getStore(e,kr.store)}function ge(e,t){return e<t?-1:e>t?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}function be(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function _e(e){return ei.getStore(e,Nr.store)}function we(e){return e.code===Ft.DATA_LOSS&&e.message===pr}function Ee(e){return ei.getStore(e,Cr.store)}function Te(e){return ei.getStore(e,Pr.store)}function Se(e){return e.path.toArray()}function Oe(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw u("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}function Ce(e){return[0,G(e)]}function Ne(e){e.createObjectStore(_r.store)}function Ie(e){e.createObjectStore(wr.store,{keyPath:wr.keyPath}),e.createObjectStore(Er.store,{keyPath:Er.keyPath,autoIncrement:!0}).createIndex(Er.userMutationsIndex,Er.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Tr.store)}function ke(e,t){return t.store(Er.store).loadAll().next(function(n){e.deleteObjectStore(Er.store),e.createObjectStore(Er.store,{keyPath:Er.keyPath,autoIncrement:!0}).createIndex(Er.userMutationsIndex,Er.userMutationsKeyPath,{unique:!0});var r=t.store(Er.store),i=n.map(function(e){return r.put(e)});return En.waitFor(i)})}function Ae(e){e.createObjectStore(Cr.store)}function xe(e){e.createObjectStore(Nr.store)}function Pe(e){e.createObjectStore(kr.store,{keyPath:kr.keyPath}).createIndex(kr.documentTargetsIndex,kr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ir.store,{keyPath:Ir.keyPath}).createIndex(Ir.queryTargetsIndexName,Ir.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ar.store)}function Re(e){e.deleteObjectStore(kr.store),e.deleteObjectStore(Ir.store),e.deleteObjectStore(Ar.store)}function De(e){var t=e.store(Ar.store),n=new Ar(0,0,sn.MIN.toTimestamp(),0);return t.put(Ar.key,n)}function je(e){e.createObjectStore(Pr.store,{keyPath:"id",autoIncrement:!0})}function Me(e){e.createObjectStore(Rr.store,{keyPath:Rr.keyPath})}function Le(e){return ei.getStore(e,xr.store)}function Fe(e){return void 0!==e.documents}function Ue(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=B(n,i);return 0===a?B(r,o):a}function qe(e){return e.code===Ft.FAILED_PRECONDITION&&e.message===Xr}function Ve(e){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(t){if(!qe(e))throw e;return o($r,"Unexpectedly lost primary lease"),[2]})})}function Be(e){return e.store(_r.store)}function We(e){return e.store(Rr.store)}function ze(e){return[0,G(e.path)]}function He(e,t){return new kr(0,G(e.path),t)}function Qe(e,t){return ve(e).put(He(t,e.currentSequenceNumber))}function Ke(){return new un(Xt.comparator)}function Ge(e){return null===e||void 0===e}function Ye(e){return yi(e)&&e<=mi&&e>=di}function $e(e){switch(e){case Ft.OK:return u("Treated status OK as error");case Ft.CANCELLED:case Ft.UNKNOWN:case Ft.DEADLINE_EXCEEDED:case Ft.RESOURCE_EXHAUSTED:case Ft.INTERNAL:case Ft.UNAVAILABLE:case Ft.UNAUTHENTICATED:return!1;case Ft.INVALID_ARGUMENT:case Ft.NOT_FOUND:case Ft.ALREADY_EXISTS:case Ft.PERMISSION_DENIED:case Ft.FAILED_PRECONDITION:case Ft.ABORTED:case Ft.OUT_OF_RANGE:case Ft.UNIMPLEMENTED:case Ft.DATA_LOSS:return!0;default:return u("Unknown status code: "+e)}}function Xe(e){return $e(e)&&e!==Ft.ABORTED}function Je(e){var t=Ii[e];if(void 0!==t)return Ze(t)}function Ze(e){if(void 0===e)return a("GRPC error has no .code"),Ft.UNKNOWN;switch(e){case Ii.OK:return Ft.OK;case Ii.CANCELLED:return Ft.CANCELLED;case Ii.UNKNOWN:return Ft.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return Ft.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return Ft.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return Ft.INTERNAL;case Ii.UNAVAILABLE:return Ft.UNAVAILABLE;case Ii.UNAUTHENTICATED:return Ft.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return Ft.INVALID_ARGUMENT;case Ii.NOT_FOUND:return Ft.NOT_FOUND;case Ii.ALREADY_EXISTS:return Ft.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return Ft.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return Ft.FAILED_PRECONDITION;case Ii.ABORTED:return Ft.ABORTED;case Ii.OUT_OF_RANGE:return Ft.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return Ft.UNIMPLEMENTED;case Ii.DATA_LOSS:return Ft.DATA_LOSS;default:return u("Unknown status code: "+e)}}function et(e){if(void 0===e)return Ii.OK;switch(e){case Ft.OK:return Ii.OK;case Ft.CANCELLED:return Ii.CANCELLED;case Ft.UNKNOWN:return Ii.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return Ii.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return Ii.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return Ii.INTERNAL;case Ft.UNAVAILABLE:return Ii.UNAVAILABLE;case Ft.UNAUTHENTICATED:return Ii.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return Ii.INVALID_ARGUMENT;case Ft.NOT_FOUND:return Ii.NOT_FOUND;case Ft.ALREADY_EXISTS:return Ii.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return Ii.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return Ii.FAILED_PRECONDITION;case Ft.ABORTED:return Ii.ABORTED;case Ft.OUT_OF_RANGE:return Ii.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return Ii.UNIMPLEMENTED;case Ft.DATA_LOSS:return Ii.DATA_LOSS;default:return u("Unknown status code: "+e)}}function tt(e){var t=e.toLowerCase().replace("_","-");return Object.values(Ft).indexOf(t)>=0?t:Ft.UNKNOWN}function nt(){return new un(Xt.comparator)}function rt(){return new un(Xt.comparator)}function it(e){return e instanceof ar?e.internalValue.slice():[]}function ot(e,t){c(!Ge(e),t+" is missing")}function at(e){return"number"===typeof e?e:"string"===typeof e?Number(e):u("can't parse "+e)}function st(e,t){var n=function(e){switch(e){case Ai.Added:return 1;case Ai.Modified:case Ai.Metadata:return 2;case Ai.Removed:return 0;default:return u("Unknown ChangeType: "+e)}};return n(e)-n(t)}function ut(e){var t=Qt.INVALID;if(null!=e)try{var n=JSON.parse(e);c("number"===typeof n,"Found non-numeric sequence number"),t=n}catch(e){a(Ao,"Failed to read sequence number from WebStorage",e)}return t}function ct(e){if(e.search(Go)>=0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ko.bind.apply(Ko,[void 0].concat(e.split("."))))}catch(t){throw new Ut(Ft.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}function lt(e){if(!e)return new $o;switch(e.type){case"gapi":var t=e.client;return c(!("object"!==typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Zo(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Ut(Ft.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function ft(e){return ht(e,["next","error","complete"])}function ht(e,t){if("object"!==typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}function pt(e){switch(e){case qi.Set:case qi.MergeSet:case qi.Update:return!0;case qi.Argument:return!1;default:throw u("Unexpected case for UserDataSource: "+e)}}function dt(e){return"object"===typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof an)&&!(e instanceof Qi)&&!(e instanceof Vt)&&!(e instanceof fa)&&!(e instanceof ea)}function mt(e,t,n){if(!dt(n)||!D(n)){var r=j(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function yt(e,t){if(t instanceof Ko)return t._internalPath;if("string"===typeof t)return vt(e,t);throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function vt(e,t){try{return ct(t)._internalPath}catch(t){var n=gt(t);throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function gt(e){return e instanceof Error?e.message:e.toString()}function bt(){throw new Ut(Ft.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}function _t(e,t){if(void 0===t)return{merge:!1};if(F(e,t,["merge","mergeFields"]),N(e,"boolean","merge",t.merge),k(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"===typeof e||e instanceof Ko}),void 0!==t.mergeFields&&void 0!==t.merge)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function wt(e,t){return void 0===t?{}:(F(e,t,["serverTimestamps"]),x(e,"options","serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Et(e,t){O(e,"object",1,t),t&&(F(e,t,["source"]),x(e,"options","source",t.source,["default","server","cache"]))}function Tt(e,t,n){if(t instanceof Ea){if(t.firestore!==n)throw new Ut(Ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw U(e,"DocumentReference",1,t)}function St(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(t){var o=new Oa(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return c(t.type===Ai.Added,"Invalid event type for first snapshot"),c(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==Ai.Metadata}).map(function(t){var r=new Oa(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==Ai.Added&&(i=o.indexOf(t.doc.key),c(i>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Ai.Removed&&(o=o.add(t.doc),a=o.indexOf(t.doc.key)),{type:Ot(t.type),doc:r,oldIndex:i,newIndex:a}})}function Ot(e){switch(e){case Ai.Added:return"added";case Ai.Modified:case Ai.Metadata:return"modified";case Ai.Removed:return"removed";default:return u("Unknown change type: "+e)}}function Ct(e){e.INTERNAL.registerService("firestore",function(e){return new ba(e)},g(Fa))}function Nt(e){Ct(e)}Object.defineProperty(t,"__esModule",{value:!0});var It,kt=function(e){return e&&"object"===typeof e&&"default"in e?e.default:e}(n(24)),At=n(87),xt=n(26),Pt=n(46),Rt=n(492),Dt=kt.SDK_VERSION,jt=new At.Logger("@firebase/firestore");!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(It||(It={}));var Mt,Lt=function(){function e(){}return e.setPlatform=function(t){e.platform&&u("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||u("Platform not set"),e.platform},e}(),Ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ut=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return xt.__extends(t,e),t}(Error),qt=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return c(20===t.length,"Invalid auto ID: "+t),t},e}(),Vt=function(){function e(e){K(),this._binaryString=e}return e.fromBase64String=function(t){_("Blob.fromBase64String",arguments,1),S("Blob.fromBase64String","string",1,t),K();try{return new e(Lt.getPlatform().atob(t))}catch(e){throw new Ut(Ft.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},e.fromUint8Array=function(t){if(_("Blob.fromUint8Array",arguments,1),Q(),!(t instanceof Uint8Array))throw U("Blob.fromUint8Array","Uint8Array",1,t);return new e(Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join(""))},e.prototype.toBase64=function(){return _("Blob.toBase64",arguments,0),K(),Lt.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){_("Blob.toUint8Array",arguments,0),Q();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return B(this._binaryString,e._binaryString)},e}(),Bt=f(Vt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Wt=function(){function e(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i}return e}(),zt="(default)",Ht=function(){function e(e,t){this.projectId=e,this.database=t||zt}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===zt},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return B(this.projectId,e.projectId)||B(this.database,e.database)},e}(),Qt=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),Kt=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&u("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&u("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,c(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return c(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return c(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return c(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return e.length>0}))},t.EMPTY_PATH=new t([]),t}(Kt),Yt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Yt.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ut(Ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ut(Ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ut(Ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(Kt),Xt=function(){function e(t){this.path=t,c(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Gt.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Gt.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2===0},e.fromSegments=function(t){return new e(new Gt(t.slice()))},e.fromPathString=function(t){return new e(Gt.fromString(t))},e.EMPTY=new e(new Gt([])),e}(),Jt=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e}();!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction"}(Mt||(Mt={}));var Zt=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=Date.now()+r,s=new e(t,n,a,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(Ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),en=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(e){}):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw a("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),c(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var i=Zt.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&u("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){c(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){c(e===Mt.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==Mt.All&&i.timerId===e)break}return t.drain()})},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);c(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),tn="\x01",nn="\x01",rn="\x10",on="\x11",an=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?B(this.nanoseconds,e.nanoseconds):B(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),sn=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new an(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new an(0,0)),e}(),un=function(){function e(e,t){this.comparator=e,this.root=t||ln.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ln.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new cn(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new cn(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cn(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new cn(this.root,e,this.comparator,!0)},e}(),cn=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){c(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ln=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw u("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw u("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),fn=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw u("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw u("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw u("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw u("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw u("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ln(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();ln.EMPTY=new fn;var hn,pn=function(){function e(e){this.comparator=e,this.data=new un(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new dn(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new dn(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),dn=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),mn=new un(Xt.comparator),yn=new un(Xt.comparator),vn=new un(Xt.comparator),gn=new pn(Xt.comparator),bn=new pn(B),_n=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,c(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&c(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;c(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&c(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=i.applyToLocalView(t,t,this.localWriteTime))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var i=s[a];i.key.isEqual(e)&&(t=i.applyToLocalView(t,o,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach(function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))}),n},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},ne())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&z(this.mutations,e.mutations)&&z(this.baseMutations,e.baseMutations)},e}(),wn=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){c(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=te(),a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new e(t,n,r,i,o)},e}(),En=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&u("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=0,i=t;r<i.length;r++){var o=i[r];!function(t){n=n.next(function(n){return n?e.resolve(n):t()})}(o)}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),Tn=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return c(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ue(e).iterate({index:Er.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=se(n),le(e).put(t)})},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=se(t),le(e).put(n)})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=ce(e),a=ue(e);return a.add({}).next(function(s){c("number"===typeof s,"Auto-generated key is not a number");var u=new _n(s,t,n,r),l=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var f=[],h=0,p=r;h<p.length;h++){var d=p[h],m=Tr.key(i.userId,d.key.path,s);f.push(a.put(l)),f.push(o.put(m,Tr.PLACEHOLDER)),f.push(i.indexManager.addToCollectionParentIndex(e,d.key.path.popLast()))}return En.waitFor(f).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return ue(e).get(t).next(function(e){return e?(c(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?En.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ue(e).iterate({index:Er.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(c(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ue(e).iterate({index:Er.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ue(e).loadAll(Er.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Tr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ce(e).iterate({range:i},function(r,i,a){var s=r[0],l=r[1],f=r[2],h=X(l);return s===n.userId&&t.path.isEqual(h)?ue(e).get(f).next(function(e){if(!e)throw u("Dangling document-mutation reference found: "+r+" which points to "+f);c(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+f),o.push(n.serializer.fromDbMutationBatch(e))}):void a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new pn(B),i=[];return t.forEach(function(t){var o=Tr.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ce(e).iterate({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=X(s);if(a!==n.userId||!t.path.isEqual(c))return void o.done();r=r.add(u)});i.push(s)}),En.waitFor(i).next(function(){return n.lookupMutationBatches(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;c(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),c(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=Tr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new pn(B);return ce(e).iterate({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=X(u);if(a!==n.userId||!r.isPrefixOf(l))return void o.done();l.length===i&&(s=s.add(c))}).next(function(){return n.lookupMutationBatches(e,s)})},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(ue(e).get(t).next(function(e){if(null===e)throw u("Dangling document-mutation reference found, which points to "+t);c(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),En.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return ae(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),En.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return En.resolve();var r=IDBKeyRange.lowerBound(Tr.prefixForUser(t.userId)),i=[];return ce(e).iterate({range:r},function(e,n,r){if(e[0]!==t.userId)return void r.done();var o=X(e[1]);i.push(o)}).next(function(){c(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},e.prototype.containsKey=function(e,t){return ie(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return le(e).get(this.userId).next(function(e){return e||new wr(t.userId,-1,"")})},e}(),Sn=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(hn||(hn={}));var On,Cn=function(){function e(e,t){this.generatorId=e,c((e&Sn)===e,"Generator ID "+e+" contains more than "+Sn+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<Sn,e},e.prototype.after=function(e){return this.seek(e+(1<<Sn)),this.next()},e.prototype.seek=function(e){c((e&Sn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(hn.QueryCache,2)},e.forSyncEngine=function(){return new e(hn.SyncEngine)},e}(),Nn="SimpleDb",In=function(){function e(t){this.db=t,12.2===e.getIOSVersion(Pt.getUA())&&a("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return c(e.isAvailable(),"IndexedDB not supported in current environment."),o(Nn,"Opening database:",t),new En(function(i,a){var s=window.indexedDB.open(t,n);s.onsuccess=function(t){var n=t.target.result;i(new e(n))},s.onblocked=function(){a(new Ut(Ft.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(e){var t=e.target.error;a("VersionError"===t.name?new Ut(Ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},s.onupgradeneeded=function(e){o(Nn,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,i=new An(s.transaction);r.createOrUpgrade(n,i,e.oldVersion,vr).next(function(){o(Nn,"Database upgrade to version "+vr+" complete")})}}).toPromise()},e.delete=function(e){return o(Nn,"Removing database:",e),fe(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE;var t=Pt.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){var r=An.open(this.db,e,t),i=n(r).catch(function(e){return r.abort(e),En.reject(e)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},e.prototype.close=function(){this.db.close()},e}(),kn=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return fe(this.dbCursor.delete())},e}(),An=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Jt,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=he(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(o(Nn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return c(!!t,"Object store not part of transaction: "+e),new xn(t)},e}(),xn=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(o(Nn,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(o(Nn,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fe(n)},e.prototype.add=function(e){return o(Nn,"ADD",this.store.name,e,e),fe(this.store.add(e))},e.prototype.get=function(e){var t=this;return fe(this.store.get(e)).next(function(n){return void 0===n&&(n=null),o(Nn,"GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return o(Nn,"DELETE",this.store.name,e),fe(this.store.delete(e))},e.prototype.count=function(){return o(Nn,"COUNT",this.store.name),fe(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){o(Nn,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new En(function(n,r){t.onerror=function(e){var t=he(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;if(!r)return void n();e(r.primaryKey,r.value).next(function(e){e?r.continue():n()})}})},e.prototype.iterateCursor=function(e,t){var n=[];return new En(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(!i)return void r();var o=new kn(i),a=t(i.primaryKey,i.value,o);if(a instanceof En){var s=a.catch(function(e){return o.done(),En.reject(e)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}}).next(function(){return En.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"===typeof e?n=e:(c(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}(),Pn=!1,Rn=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Cn.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return sn.fromTimestamp(new an(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return ye(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)})},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return pe(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return c(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return pe(e).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))}).next(function(){return En.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){var n=this;return pe(e).iterate(function(e,r){var i=n.serializer.fromDbTarget(r);t(i)})},e.prototype.retrieveMetadata=function(e){return me(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return de(e).put(Ar.key,t)},e.prototype.saveQueryData=function(e,t){return pe(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return pe(e).iterate({range:i,index:Ir.queryTargetsIndexName},function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ve(e);return t.forEach(function(t){var a=G(t.path);i.push(o.put(new kr(n,a))),i.push(r.referenceDelegate.addReference(e,t))}),En.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ve(e);return En.forEach(t,function(t){var o=G(t.path);return En.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ve(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ve(e),i=ne();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=X(e[1]),o=new Xt(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=G(t.path),r=IDBKeyRange.bound([n],[H(n)],!1,!0),i=0;return ve(e).iterate({index:kr.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return pe(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},e}(),Dn=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new pn($t.comparator);return t.forEach(function(e){return n=n.add(e)}),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach(function(n){n.isPrefixOf(e)&&(t=!0)}),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),jn=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),Mn=function(){function e(e,t){this.version=e,this.transformResults=t}return e}();!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(On||(On={}));var Ln,Fn=function(){function e(e,t){this.updateTime=e,this.exists=t,c(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof ur&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof ur:(c(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return W(this.updateTime,e.updateTime)&&this.exists===e.exists},e.NONE=new e,e}(),Un=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&c(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof ur?e.version:sn.MIN},e}(),qn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=On.Set,i}return xt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new ur(this.key,n,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Un.getPostMutationVersion(e);return new ur(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(Un),Vn=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=On.Patch,o}return xt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new lr(this.key,t.version);var n=this.patchDocument(e);return new ur(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Un.getPostMutationVersion(e),i=this.patchDocument(e);return new ur(this.key,r,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof ur?e.data():or.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}}),e},t}(Un),Bn=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=On.Transform,r.precondition=Fn.exists(!0),r}return xt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),c(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new lr(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new ur(this.key,i,{hasCommittedMutations:!0},o)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new ur(this.key,r.version,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof ur?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?or.EMPTY.set(i.field,a):t.set(i.field,a))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&z(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){c(e instanceof ur,"Unknown MaybeDocument type "+e);var t=e;return c(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];c(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof ur&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof ur&&(u=t.field(a.field)),null===u&&n instanceof ur&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){c(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.field;e=e.set(i,t[n])}return e},t}(Un),Wn=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=On.Delete,r}return xt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by DeleteMutation."),new cr(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&c(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new cr(this.key,sn.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(Un);!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(Ln||(Ln={}));var zn;!function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(zn||(zn={}));var Hn,Qn=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(zn.Estimate,n);case"previous":return new e(zn.Previous,n);case"none":case void 0:return new e(zn.Default,n);default:return u("fromSnapshotOptions() called with invalid options.")}},e}(),Kn=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return c(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),B(this.typeOrder,e.typeOrder)},e}(),Gn=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=Ln.NullValue,t.internalValue=null,t}return xt.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Kn),Yn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.BooleanValue,n}return xt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?B(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Kn),$n=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.NumberValue,n}return xt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?ge(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Kn),Xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&be(this.internalValue,e.internalValue)},t}($n),Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&be(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}($n),Zn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.StringValue,n}return xt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?B(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Kn),er=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.TimestampValue,n}return xt.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof tr?-1:this.defaultCompareTo(e)},t}(Kn),tr=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=Ln.TimestampValue,r}return xt.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===zn.Estimate?new er(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===zn.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof er?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Kn),nr=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.BlobValue,n}return xt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Kn),rr=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=Ln.RefValue,r}return xt.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:Xt.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Kn),ir=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.GeoPointValue,n}return xt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Kn),or=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.ObjectValue,n}return xt.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=B(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return B(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(c(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(c(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){c(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t?n.internalValue.get(e):null}),n},t.prototype.fieldMask=function(){var e=new pn($t.comparator);return this.internalValue.forEach(function(n,r){var i=new $t([n]);if(r instanceof t){var o=r.fieldMask(),a=o.fields;a.isEmpty()?e=e.add(i):a.forEach(function(t){e=e.add(i.child(t))})}else e=e.add(i)}),Dn.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new un(B)),t}(Kn),ar=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ln.ArrayValue,n}return xt.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return B(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map(function(e){return e.toString()}).join(",")+"]"},t}(Kn),sr=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return Xt.comparator(e.key,t.key)},e}(),ur=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n)||this;return s.objectValue=i,s.proto=o,s.converter=a,c(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!r.hasLocalMutations,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return xt.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=or.EMPTY;y(this.proto.fields,function(n,r){t=t.set(new $t([n]),e.converter(r))}),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){c(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields[e.firstSegment()],n=1;n<e.length;++n){if(!t||!t.mapValue)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):u("Trying to compare documents on fields that don't exist")},t}(sr),cr=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return xt.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(sr),lr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(sr),fr=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return void(this.inner[n]=[[e,t]]);for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){y(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return v(this.inner)},e}(),hr=function(){function e(){this.changes=new fr(function(e){return e.toString()}),this.changesApplied=!1}return e.prototype.addEntry=function(e){this.assertNotApplied(),this.changes.set(e.key,e)},e.prototype.removeEntry=function(e){this.assertNotApplied(),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?En.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){c(!this.changesApplied,"Changes have already been applied.")},e}(),pr="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",dr=function(){function e(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=In.getStore(e,Pr.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntry=function(e,t,n){var r=this;return Ee(e).put(Se(t),n).next(function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())})},e.prototype.removeEntry=function(e,t){var n=Ee(e),r=Se(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.setMetadata(e,i).next(function(){if(r.keepDocumentChangeLog)return Te(e).put({changes:r.serializer.toDbResourcePaths(t)})})})},e.prototype.getEntry=function(e,t){var n=this;return Ee(e).get(Se(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getSizedEntry=function(e,t){var n=this;return Ee(e).get(Se(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:Oe(e)}:null})},e.prototype.getEntries=function(e,t){var n=this,r=Z();return this.forEachDbEntry(e,t,function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)}).next(function(){return r})},e.prototype.getSizedEntries=function(e,t){var n=this,r=Z(),i=new un(Xt.comparator);return this.forEachDbEntry(e,t,function(e,t){t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i=i.insert(e,Oe(t))):(r=r.insert(e,null),i=i.insert(e,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return En.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ee(e).iterate({range:r},function(e,t,r){for(var a=Xt.fromSegments(e);o&&Xt.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;c(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=ee(),i=t.path.length+1,o=t.path.toArray(),a=IDBKeyRange.lowerBound(o);return Ee(e).iterate({range:a},function(e,o,a){if(e.length===i){var s=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(s.key.path)?s instanceof ur&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},e.prototype.getNewDocumentChanges=function(e){var t=this;c(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=ne(),r=J(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Te(e);return a.iterate({range:i},function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next(function(){return En.reject(new Ut(Ft.DATA_LOSS,pr))});n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(t.getEntry(e,n).next(function(e){var t=e||new cr(n,sn.forDeletedDoc());r=r.insert(n,t)}))}),En.waitFor(i)}).next(function(){return r})},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Te(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},e.prototype.newChangeBuffer=function(){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return _e(e).get(Nr.key).next(function(e){return c(!!e,"Missing document cache metadata"),e})},e.prototype.setMetadata=function(e,t){return _e(e).put(Nr.key,t)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n.documentSizes=new fr(function(e){return e.toString()}),n}return xt.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=ne();return this.changes.forEach(function(o,a){var s=t.documentSizes.get(o);if(c(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){var u=t.documentCache.serializer.toDbRemoteDocument(a),l=Oe(u);r+=l-s,n.push(t.documentCache.addEntry(e,o,u))}else r-=s,n.push(t.documentCache.removeEntry(e,o));i=i.add(o)}),n.push(this.documentCache.updateMetadata(e,i,r)),En.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next(function(e){var t=e.maybeDocuments;return e.sizeMap.forEach(function(e,t){n.documentSizes.set(e,t)}),t})},t}(hr),e}(),mr=function(){function e(){this.collectionParentIndex=new yr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),En.resolve()},e.prototype.getCollectionParents=function(e,t){return En.resolve(this.collectionParentIndex.getEntries(t))},e}(),yr=function(){function e(){this.index={}}return e.prototype.add=function(e){c(e.length%2===1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pn(Gt.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.getEntries=function(e){return(this.index[e]||new pn(Gt.comparator)).toArray()},e}(),vr=8,gr=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;c(n<r&&n>=0&&r<=vr,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(Ne(e),Ie(e),Pe(e),Ae(e));var o=En.resolve();return n<3&&r>=3&&(0!==n&&(Re(e),Pe(e)),o=o.next(function(){return De(t)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return ke(e,t)})),o=o.next(function(){Me(e),je(e)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(t)})),n<6&&r>=6&&(o=o.next(function(){return xe(e),i.addDocumentGlobal(t)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(t)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(e,t)})),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Cr.store).iterate(function(e,n){t+=Oe(n)}).next(function(){var n=new Nr(t);return e.store(Nr.store).put(Nr.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(wr.store),r=e.store(Er.store);return n.loadAll().next(function(n){return En.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Er.userMutationsIndex,i).next(function(r){return En.forEach(r,function(r){c(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return ae(e,n.userId,i).next(function(){})})})})})},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(kr.store),n=e.store(Cr.store);return ye(e).next(function(e){var r=function(n){return t.put(new kr(0,G(n),e))},i=[];return n.iterate(function(e,n){var o=new Gt(e),a=Ce(o);i.push(t.get(a).next(function(e){return e?En.resolve():r(o)}))}).next(function(){return En.waitFor(i)})})},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(xr.store,{keyPath:xr.keyPath});var n=t.store(xr.store),r=new yr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:G(i)})}};return t.store(Cr.store).iterate({keysOnly:!0},function(e,t){var n=new Gt(e);return i(n.popLast())}).next(function(){return t.store(Tr.store).iterate({keysOnly:!0},function(e,t){var n=(e[0],e[1]),r=(e[2],X(n));return i(r.popLast())})})},e}(),br=function(){function e(e,t){this.seconds=e,this.nanoseconds=t}return e}(),_r=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}(),wr=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),Er=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}(),Tr=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,G(t)]},e.key=function(e,t,n){return[e,G(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),Sr=function(){function e(e,t){this.path=e,this.readTime=t}return e}(),Or=function(){function e(e,t){this.path=e,this.version=t}return e}(),Cr=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),Nr=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}(),Ir=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),kr=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,c(0===e===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),Ar=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),xr=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}(),Pr=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}(),Rr=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}(),Dr=[wr.store,Er.store,Tr.store,Cr.store,Ir.store,_r.store,Ar.store,kr.store],jr=Dr,Mr=jr.concat([Rr.store,Pr.store]),Lr=Mr.concat([Nr.store]),Fr=Lr.concat([xr.store]),Ur=Fr,qr=function(){function e(){this.collectionParentsCache=new yr}return e.prototype.addToCollectionParentIndex=function(e,t){if(c(t.length%2===1,"Expected a collection path."),this.collectionParentsCache.add(t)){c(t.length>=1,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Le(e).put({collectionId:n,parent:G(r)})}return En.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[H(t),""],!1,!0);return Le(e).loadAll(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(X(o.parent))}return n})},e}();!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(Hn||(Hn={}));var Vr,Br=function(){function e(e,t,n,r,i,o){void 0===i&&(i=sn.MIN),void 0===o&&(o=l()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return e.prototype.withSequenceNumber=function(t){return new e(this.query,this.targetId,this.purpose,t,this.snapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.query,this.targetId,this.purpose,this.sequenceNumber,n,t)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),Wr=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Xt.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new cr(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var t=Xt.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new lr(t,n)}return u("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof ur){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new Cr(null,null,t,n)}if(e instanceof cr){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version),n=e.hasCommittedMutations;return new Cr(null,new Sr(r,i),null,n)}if(e instanceof lr){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return new Cr(new Or(r,i),null,null,!0)}return u("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new br(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new an(e.seconds,e.nanoseconds);return sn.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map(function(e){return n.remoteSerializer.toMutation(e)}),i=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new Er(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map(function(e){return t.remoteSerializer.fromMutation(e)}),r=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),i=an.fromMillis(e.localWriteTimeMs);return new _n(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(G(e.path))}),t},e.prototype.fromDbResourcePaths=function(e){for(var t=ne(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new Xt(X(i)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=Fe(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Br(t,e.targetId,Hn.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},e.prototype.toDbTarget=function(e){c(Hn.Listen===e.purpose,"Only queries with purpose "+Hn.Listen+" may be stored, got "+e.purpose);var t,n=this.toDbTimestamp(e.snapshotVersion);t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query);var r;return e.resumeToken instanceof Uint8Array?(c("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),r=e.resumeToken.toString()):r=e.resumeToken,new Ir(e.targetId,e.query.canonicalId(),n,r,e.sequenceNumber,t)},e}(),zr=function(){function e(e){this.maxElements=e,this.buffer=new pn(Ue),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ue(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Hr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),Kr=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){c(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Qr.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;c(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;o("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Mt.LruGarbageCollection,t,function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then(function(){return e.scheduleGC()}).catch(Ve)})},e}(),Gr=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return En.resolve(Qt.INVALID);var r=new zr(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Qr.COLLECTION_DISABLED?(o("LruGarbageCollector","Garbage collection skipped; disabled"),En.resolve(Hr)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(o("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Hr):n.runGarbageCollection(e,t)})},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,i,a,s,u,c,l,f=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>f.params.maximumSequenceNumbersToCollect?(o("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+t),i=f.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),f.nthSequenceNumber(e,i)}).next(function(r){return n=r,u=Date.now(),f.removeTargets(e,n,t)}).next(function(t){return a=t,c=Date.now(),f.removeOrphanedDocuments(e,n)}).next(function(e){if(l=Date.now(),r()<=It.DEBUG){o("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+i+" in "+(u-s)+"ms\n\tRemoved "+a+" targets in "+(c-u)+"ms\n\tRemoved "+e+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-h)+"ms")}return En.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:e})})},e}(),Yr=function(){function e(){}return e}(),$r="IndexedDbPersistence",Xr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Zr=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return xt.__extends(t,e),t}(Yr),ei=function(){function e(t,n,r,i,o,a,s,u){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new ti(this,o),this.dbName=n+e.MAIN_DATABASE,this.serializer=new Wr(s),this.document=i.document,this.queryCache=new Rn(this.referenceDelegate,this.serializer),this.indexManager=new qr,this.remoteDocumentCache=new dr(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new Ut(Ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Zr)return In.getStore(e.simpleDbTransaction,t);throw u("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return xt.__awaiter(this,void 0,void 0,function(){var n;return xt.__generator(this,function(r){switch(r.label){case 0:if(!e.isAvailable())throw new Ut(Ft.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer),[4,n.start()];case 1:return r.sent(),[2,n]}})})},e.prototype.start=function(){var e=this;return c(!this.started,"IndexedDbPersistence double-started!"),c(null!==this.window,"Expected 'window' to be defined"),In.openOrCreate(this.dbName,vr,new gr(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()}).then(function(){return e.simpleDb.runTransaction("readonly",[Ar.store],function(t){return ye(t).next(function(t){e.listenSequence=new Qt(t,e.sequenceNumberSyncer)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Ur,function(t){return e.remoteDocumentCache.start(t)})},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return xt.__awaiter(t,void 0,void 0,function(){return xt.__generator(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener(function(n){return xt.__awaiter(t,void 0,void 0,function(){return xt.__generator(this,function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return xt.__awaiter(t,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Ur,function(t){return We(t).put(new Rr(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t)}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},e.prototype.verifyPrimaryLease=function(e){var t=this;return Be(e).get(_r.key).next(function(e){return En.resolve(t.isLocalClient(e))})},e.prototype.removeClientMetadata=function(e){return We(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return xt.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=e.getStore(i,Rr.store);return o.loadAll().next(function(e){t=r.filterActiveClients(e,18e5),n=e.filter(function(e){return-1===t.indexOf(e)})}).next(function(){return En.forEach(n,function(e){return o.delete(e.clientId)})}).next(function(){if(t=t.filter(function(e){return e.clientId!==r.clientId}),t.length>0){var e=t.map(function(e){return e.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))}),i.label=2;case 2:return[2]}})})},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Mt.ClientMetadataRefresh,4e3,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Be(e).get(_r.key).next(function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Ut(Ft.FAILED_PRECONDITION,Jr);return!1}}return!(!t.networkEnabled||!t.inForeground)||We(e).loadAll().next(function(e){return void 0===t.filterActiveClients(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&o($r,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return xt.__awaiter(this,void 0,void 0,function(){var e=this;return xt.__generator(this,function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[_r.store,Rr.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Rr.store],function(t){return We(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(e){return e.clientId})})})},e.clearPersistence=function(t){return xt.__awaiter(this,void 0,void 0,function(){var n;return xt.__generator(this,function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,In.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return c(this.started,"Cannot initialize MutationQueue before persistence is started."),Tn.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return c(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return c(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return c(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return o($r,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Ur,function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next(function(t){if(!t)throw a("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new Ut(Ft.FAILED_PRECONDITION,Xr);return n(new Zr(i,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(i).next(function(){return e})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Zr(i,r.listenSequence.next()))})})},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Be(e).get(_r.key).next(function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new Ut(Ft.FAILED_PRECONDITION,Jr)})},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new _r(this.clientId,this.allowTabSynchronization,Date.now());return Be(e).put(_r.key,t)},e.isAvailable=function(){return In.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Be(e);return n.get(_r.key).next(function(e){return t.isLocalClient(e)?(o($r,"Releasing primary lease."),n.delete(_r.key)):En.resolve()})},e.prototype.isWithinAge=function(e,t){var n=Date.now(),r=n-t,i=n;return!(e<r)&&(!(e>i)||(a("Detected an update time that is in the future: "+e+" > "+i),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(c(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(c("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return o($r,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return a($r,"Failed to get zombied client id.",e),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){a("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}(),ti=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Gr(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Qe(e,t)},e.prototype.removeReference=function(e,t){return Qe(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Qe(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?En.resolve(!0):oe(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache(),i=r.newChangeBuffer(),o=[],a=0;return this.forEachOrphanedDocument(e,function(r,s){if(s<=t){var u=n.isPinned(e,r).next(function(t){if(!t)return a++,i.getEntry(e,r).next(function(){return i.removeEntry(r),ve(e).delete(ze(r))})});o.push(u)}}).next(function(){return En.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Qe(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=ve(e),i=Qt.INVALID;return r.iterate({index:kr.documentTargetsIndex},function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Qt.INVALID&&t(new Xt(X(n)),i),i=s,n=a):i=Qt.INVALID}).next(function(){i!==Qt.INVALID&&t(new Xt(X(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}(),ni=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++){e=i[r].applyToLocalView(t,e)}return e})},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Z();return t.forEach(function(e,t){for(var i=0,o=n;i<o.length;i++){t=o[i].applyToLocalView(e,t)}r=r.insert(e,t)}),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=J();return i.forEach(function(e,t){t||(t=new cr(e,sn.forDeletedDoc())),o=o.insert(e,t)}),o})},e.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new Xt(t)).next(function(e){var t=ee();return e instanceof ur&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;c(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=ee();return this.indexManager.getCollectionParents(e,r).next(function(o){return En.forEach(o,function(o){var a=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next(function(e){e.forEach(function(e,t){i=i.insert(e,t)})})}).next(function(){return i})})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return r=t,i.addMissingBaseDocuments(e,r,n).next(function(e){n=e;for(var t=0,i=r;t<i.length;t++)for(var o=i[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof ur?n.insert(c,f):n.remove(c)}})}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=ne(),i=0,o=t;i<o.length;i++)for(var a=o[i],s=0,u=a.mutations;s<u.length;s++){var c=u[s];c instanceof Vn&&null===n.get(c.key)&&(r=r.add(c.key))}var l=n;return this.remoteDocumentCache.getEntries(e,r).next(function(e){return e.forEach(function(e,t){null!==t&&t instanceof ur&&(l=l.insert(e,t))}),l})},e}(),ri=function(){function e(){this.refsByKey=new pn(ii.compareByKey),this.refsByTarget=new pn(ii.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new ii(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new ii(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=Xt.EMPTY,r=new ii(n,e),i=new ii(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e),o.push(e.key)}),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=Xt.EMPTY,n=new ii(t,e),r=new ii(t,e+1),i=ne();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new ii(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ii=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return Xt.comparator(e.key,t.key)||B(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return B(e.targetOrBatchId,t.targetOrBatchId)||Xt.comparator(e.key,t.key)},e}(),oi=function(){function e(e,t){this.persistence=e,this.localViewReferences=new ri,this.queryDataByTarget={},c(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new ni(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new ni(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=[],o=[],a=ne(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){var c=d[p];o.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++){var h=y[m];a=a.add(h.key)}}return t.localDocuments.getDocuments(n,a).next(function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}})})})},e.prototype.localWrite=function(e){var t=this,n=an.now(),r=e.reduce(function(e,t){return e.add(t.key)},ne());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return t.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new Vn(u.key,c,c.fieldMask(),Fn.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next(function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}})})})},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):En.resolve(null)})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,i)}).next(function(){return i.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return c(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer(),i=t.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=[];d(t.targetChanges,function(t,r){var o=n.queryDataByTarget[t];if(o){u.push(n.queryCache.removeMatchingKeys(s,r.removedDocuments,t).next(function(){return n.queryCache.addMatchingKeys(s,r.addedDocuments,t)}));var a=r.resumeToken;if(a.length>0){var c=o.withResumeToken(a,i);n.queryDataByTarget[t]=c,e.shouldPersistQueryData(o,c,r)&&u.push(n.queryCache.updateQueryData(s,c))}}});var l=J(),f=ne();if(t.documentUpdates.forEach(function(e,t){f=f.add(e)}),u.push(r.getEntries(s,f).next(function(e){t.documentUpdates.forEach(function(i,c){var f=e.get(i);c instanceof cr&&c.version.isEqual(sn.MIN)?(r.removeEntry(i),l=l.insert(i,c)):null==f||c.version.compareTo(f.version)>0||0===c.version.compareTo(f.version)&&f.hasPendingWrites?(sn.MIN.isEqual(t.snapshotVersion)&&a("LocalStore","Cannot add a document when the remote version is zero"),r.addEntry(c),l=l.insert(i,c)):o("LocalStore","Ignoring outdated watch update for ",i,". Current version:",f.version," Watch version:",c.version),t.resolvedLimboDocuments.has(i)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,i))})})),!i.isEqual(sn.MIN)){var h=n.queryCache.getLastRemoteSnapshotVersion(s).next(function(e){return c(i.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+e),n.queryCache.setTargetsMetadata(s,s.currentSequenceNumber,i)});u.push(h)}return En.waitFor(u).next(function(){return r.apply(s)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(s,l)})})},e.shouldPersistQueryData=function(e,t,n){return c(t.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return En.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),En.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){return i?(r=i,En.resolve()):t.queryCache.allocateTargetId(n).next(function(i){return r=new Br(e,i,Hn.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return c(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,r})})},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(i){c(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?En.resolve():En.forEach(s,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=En.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(e,r)}).next(function(e){var o=e,a=t.docVersions.get(r);c(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(r,o,t),o?n.addEntry(o):c(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(e,i)})},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.queryDataByTarget)})},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),ai=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=l(),this.batchesByDocumentKey=new pn(ii.compareByKey)}return e.prototype.checkEmpty=function(e){return En.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");c(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return c(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,En.resolve()},e.prototype.getLastStreamToken=function(e){return En.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,En.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){c(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;if(this.nextBatchId++,this.mutationQueue.length>0){c(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order")}var o=new _n(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new ii(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return En.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return En.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return c(null!=n,"Failed to find local mutation batch."),En.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return En.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return En.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return En.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ii(t,0),i=new ii(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){c(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);c(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),En.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new pn(B);return t.forEach(function(e){var t=new ii(e,0),i=new ii(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],function(t){c(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),En.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){c(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;Xt.isDocumentKey(i)||(i=i.child(""));var o=new ii(new Xt(i),0),a=new pn(B);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)},o),En.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;c(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return En.forEach(t.mutations,function(i){var o=new ii(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)}).next(function(){n.batchesByDocumentKey=r})},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new ii(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return En.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&c(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),En.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return c(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return c(n.batchId===e,"If found batch must match"),n},e}(),si=function(){function e(e){this.persistence=e,this.queries=new fr(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=sn.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ri,this.targetCount=0,this.targetIdGenerator=Cn.forQueryCache()}return e.prototype.getTargetCount=function(e){return En.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),En.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return En.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return En.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,En.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),En.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return c(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,En.resolve()},e.prototype.updateQueryData=function(e,t){return c(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),En.resolve()},e.prototype.removeQueryData=function(e,t){return c(this.targetCount>0,"Removing a target from an empty cache"),c(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,En.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),En.waitFor(o).next(function(){return i})},e.prototype.getQueryCount=function(e){return En.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return En.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return u("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),En.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),En.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),En.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return En.resolve(n)},e.prototype.containsKey=function(e,t){return En.resolve(this.references.containsKey(t))},e}(),ui=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=Ke(),this.newDocumentChanges=ne(),this.size=0}return e.prototype.addEntry=function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(t);return this.docs=this.docs.insert(n,{maybeDocument:t,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return En.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Z();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)}),En.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t){c(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=ee(),r=new Xt(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof ur&&t.matches(s)&&(n=n.insert(s.key,s))}return En.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return En.forEach(this.docs,function(e){return t(e)})},e.prototype.getNewDocumentChanges=function(e){var t=this,n=J();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new cr(e,sn.forDeletedDoc());n=n.insert(e,i)}),this.newDocumentChanges=ne(),En.resolve(n)},e.prototype.newChangeBuffer=function(){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return En.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return xt.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i?n.push(t.documentCache.addEntry(e,i)):t.documentCache.removeEntry(r)}),En.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(hr),e}(),ci=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Qt(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new si(this);var r=function(e){return n.referenceDelegate.documentSize(e)};this.indexManager=new mr,this.remoteDocumentCache=new ui(this.indexManager,r)}return e.createLruPersistence=function(t,n,r){return new e(t,function(e){return new hi(e,new Wr(n),r)})},e.createEagerPersistence=function(t){return new e(t,function(e){return new fi(e)})},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){return[2,[this.clientId]]})})},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new ai(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;o("MemoryPersistence","Starting transaction:",e);var i=new li(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(e){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return e})}).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return En.or(m(this.mutationQueues).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),li=function(){function e(e){this.currentSequenceNumber=e}return e}(),fi=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw u("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),En.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),En.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),En.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache(),r=n.newChangeBuffer();return En.forEach(this.orphanedDocuments,function(n){return t.isReferenced(e,n).next(function(e){e||r.removeEntry(n)})}).next(function(){return t._orphanedDocuments=null,r.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return En.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return En.resolve(n.inMemoryPins.containsKey(t))}])},e}(),hi=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new fr(function(e){return G(e.path)}),this.garbageCollector=new Gr(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return En.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return En.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(e,r,i).next(function(e){return e?En.resolve():t(i)})})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,function(i){return n.isPinned(e,i,t).next(function(e){e||(r++,o.removeEntry(i))})}).next(function(){return o.apply(e)}).next(function(){return r})},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),En.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),En.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),En.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),En.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw u("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return En.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return En.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return En.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),pi=Number,di=pi.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),mi=pi.MAX_SAFE_INTEGER||Math.pow(2,53)-1,yi=pi.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},vi=1e3,gi=1.5,bi=6e4,_i=function(){function e(e,t,n,r,i){void 0===n&&(n=vi),void 0===r&&(r=gi),void 0===i&&(i=bi),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&o("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(Vr||(Vr={}));var wi,Ei=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Vr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new _i(e,t)}return e.prototype.isStarted=function(){return this.state===Vr.Starting||this.state===Vr.Open||this.state===Vr.Backoff},e.prototype.isOpen=function(){return this.state===Vr.Open},e.prototype.start=function(){if(this.state===Vr.Error)return void this.performBackoff();c(this.state===Vr.Initial,"Already started"),this.auth()},e.prototype.stop=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Vr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.inhibitBackoff=function(){c(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Vr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){return this.isOpen()?[2,this.close(Vr.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(n){switch(n.label){case 0:return c(this.isStarted(),"Only started streams should be closed."),c(e===Vr.Error||Ge(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Vr.Error?this.backoff.reset():t&&t.code===Ft.RESOURCE_EXHAUSTED?(a(t.toString()),a("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===Ft.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;c(this.state===Vr.Initial,"Must be in initial state to auth"),this.state=Vr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new Ut(Ft.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},e.prototype.startStream=function(e){var t=this;c(this.state===Vr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return c(t.state===Vr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Vr.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.performBackoff=function(){var e=this;c(this.state===Vr.Error,"Should only perform backoff when in Error state"),this.state=Vr.Backoff,this.backoff.backoffAndRun(function(){return xt.__awaiter(e,void 0,void 0,function(){return xt.__generator(this,function(e){return c(this.state===Vr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Vr.Initial,this.start(),c(this.isStarted(),"PersistentStream should have started"),[2]})})})},e.prototype.handleStreamClose=function(e){return c(this.isStarted(),"Can't handle server close on non-started stream"),o("PersistentStream","close with error: "+e),this.stream=null,this.close(Vr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(o("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Ti=function(e){function t(t,n,r,i,o){var a=e.call(this,t,Mt.ListenStreamConnectionBackoff,Mt.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return xt.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Ei),Si=function(e){function t(t,n,r,i,o){var a=e.call(this,t,Mt.WriteStreamConnectionBackoff,Mt.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a.lastStreamToken=l(),a}return xt.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(c(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return c(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){c(this.isOpen(),"Writing handshake requires an opened stream"),c(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;c(this.isOpen(),"Writing mutations requires an opened stream"),c(this.handshakeComplete_,"Handshake must be complete before writing mutations"),c(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(Ei),Oi=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new Si(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Ti(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=J();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);c(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===Ft.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===Ft.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e}(),Ci=function(){function e(e){this.datastore=e,this.readVersions=te(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n=this;return xt.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ut(Ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return t=r.sent(),t.forEach(function(e){e instanceof cr||e instanceof ur?n.recordVersion(e):u("Document in a transaction was a "+e.constructor.name)}),[2,t]}})})},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new Wn(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return xt.__awaiter(this,void 0,void 0,function(){var e;return xt.__generator(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach(function(t){e=e.remove(t.key)}),!e.isEmpty())throw new Ut(Ft.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e instanceof ur)t=e.version;else{if(!(e instanceof cr))throw u("Document in a transaction was a "+e.constructor.name);t=sn.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new Ut(Ft.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?Fn.updateTime(t):Fn.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(sn.forDeletedDoc()))throw new Ut(Ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){c(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(wi||(wi={}));var Ni;!function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(Ni||(Ni={}));var Ii,ki=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=wi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(wi.Unknown),c(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Mt.OnlineStateTimeout,1e4,function(){return e.onlineStateTimer=null,c(e.state===wi.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(wi.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(e){this.state===wi.Online?(this.setAndBroadcast(wi.Unknown),c(0===this.watchStreamFailures,"watchStreamFailures must be 0"),c(null===this.onlineStateTimer,"onlineStateTimer must be null")):++this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(wi.Offline))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===wi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(a(t),this.shouldWarnClientIsOffline=!1):o("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(Ii||(Ii={}));var Ai,xi=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Xt.comparator(t.key,n.key)}:function(e,t){return Xt.comparator(e.key,t.key)},this.keyedMap=ee(),this.sortedSet=new un(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Ai||(Ai={}));var Pi;!function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Pi||(Pi={}));var Ri,Di=function(){function e(){this.changeMap=new un(Xt.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);if(!n)return void(this.changeMap=this.changeMap.insert(t,e));e.type!==Ai.Added&&n.type===Ai.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Ai.Metadata&&n.type!==Ai.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Ai.Modified&&n.type===Ai.Modified?this.changeMap=this.changeMap.insert(t,{type:Ai.Modified,doc:e.doc}):e.type===Ai.Modified&&n.type===Ai.Added?this.changeMap=this.changeMap.insert(t,{type:Ai.Added,doc:e.doc}):e.type===Ai.Removed&&n.type===Ai.Added?this.changeMap=this.changeMap.remove(t):e.type===Ai.Removed&&n.type===Ai.Modified?this.changeMap=this.changeMap.insert(t,{type:Ai.Removed,doc:n.doc}):e.type===Ai.Added&&n.type===Ai.Removed?this.changeMap=this.changeMap.insert(t,{type:Ai.Modified,doc:e.doc}):u("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n))},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),ji=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:Ai.Added,doc:e})}),new e(t,n,xi.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(this.fromCache!==e.fromCache||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!this.query.isEqual(e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Mi=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=(r={},r[t]=Li.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(sn.MIN,i,re(),J(),ne())},e}(),Li=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(l(),n,ne(),ne(),ne())},e}(),Fi=function(){function e(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r}return e}(),Ui=function(){function e(e,t){this.targetId=e,this.existenceFilter=t}return e}();!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Ri||(Ri={}));var qi,Vi=function(){function e(e,t,n,r){void 0===n&&(n=l()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}return e}(),Bi=function(){function e(){this.pendingResponses=0,this.documentChanges=rt(),this._resumeToken=l(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=ne(),t=ne(),n=ne();return this.documentChanges.forEach(function(r,i){switch(i){case Ai.Added:e=e.add(r);break;case Ai.Modified:t=t.add(r);break;case Ai.Removed:n=n.add(r);break;default:u("Encountered invalid change type: "+i)}}),new Li(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=rt()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Wi=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=J(),this.pendingDocumentTargetMapping=nt(),this.pendingTargetResets=new pn(B)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof ur?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof cr&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var r=o[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case Ri.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Ri.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Ri.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),c(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Ri.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Ri.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:u("Unknown target watch change state: "+e.state)}})},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):d(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Xt(i.path);this.removeDocumentFromTarget(t,o,new cr(o,sn.forDeletedDoc()))}else c(1===n,"Single document existence filter with count: "+n);else{this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}}},e.prototype.createRemoteEvent=function(e){var t=this,n={};d(this.targetStates,function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Xt(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new cr(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=ne();this.pendingDocumentTargetMapping.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Hn.LimboResolution||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Mi(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=J(),this.pendingDocumentTargetMapping=nt(),this.pendingTargetResets=new pn(B),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Ai.Modified:Ai.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Ai.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e),n=t.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Bi),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new pn(B),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||o("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;c(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Bi,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}(),zi="RemoteStore",Hi=function(){function e(e,t,n,r,i){var a=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(e){n.enqueueAndForget(function(){return xt.__awaiter(a,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(o(zi,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new ki(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return xt.__awaiter(this,void 0,void 0,function(){var e;return xt.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(wi.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.disableNetwork=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(wi.Offline),[2]}})})},e.prototype.disableNetworkInternal=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(o(zi,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},e.prototype.shutdown=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return o(zi,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(wi.Unknown),[2]}})})},e.prototype.listen=function(e){c(!h(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){c(h(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),v(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(wi.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){c(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Wi(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!v(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return xt.__awaiter(this,void 0,void 0,function(){var e=this;return xt.__generator(this,function(t){return d(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(e){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(t){return void 0===e&&c(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(wi.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){var n;return xt.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(wi.Online),e instanceof Vi&&e.state===Ri.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Fi?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Ui?this.watchChangeAggregator.handleExistenceFilter(e):(c(e instanceof Vi,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(sn.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.raiseWatchSnapshot=function(e){var t=this;c(!e.isEqual(sn.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return d(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(l(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new Br(n.query,e,Hn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;c(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return xt.__awaiter(t,void 0,void 0,function(){return xt.__generator(this,function(t){return h(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},e.prototype.fillWritePipeline=function(){return xt.__awaiter(this,void 0,void 0,function(){var e,t;return xt.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){c(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){c(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch(Ve)},e.prototype.onMutationResult=function(e,t){var n=this;c(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=wn.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n=this;return xt.__generator(this,function(r){return void 0===e&&c(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(t=void 0,t=this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e),[2,t.then(function(){n.shouldStartWriteStream()&&n.startWriteStream()})]):[2]})})},e.prototype.handleHandshakeError=function(e){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(t){return $e(e.code)?(o(zi,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=l(),[2,this.localStore.setLastStreamToken(l()).catch(Ve)]):[2]})})},e.prototype.handleWriteError=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n=this;return xt.__generator(this,function(r){return Xe(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2]})})},e.prototype.createTransaction=function(){return new Ci(this.datastore)},e.prototype.restartNetwork=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(wi.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}})})},e.prototype.handleCredentialChange=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(o(zi,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.applyPrimaryState=function(e){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(wi.Unknown),t.label=4;case 4:return[2]}})})},e}(),Qi=function(){function e(e,t){if(_("GeoPoint",arguments,2),S("GeoPoint","number",1,e),S("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new Ut(Ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(Ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return B(this._lat,e._lat)||B(this._long,e._long)},e}(),Ki=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[oo]:this.memoizedOrderBy=[new io(e),oo];else{c(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:no.ASCENDING;this.memoizedOrderBy.push(a===no.ASCENDING?oo:ao)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){c(null==this.getInequalityFilterField()||!(t instanceof $i)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),c(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){c(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}Ge(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Ge(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(var t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return c(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!Ge(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof $i&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof $i&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return Xt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):Xt.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){c(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Gi=function(){function e(){}return e}(),Yi=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return u("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),$i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return xt.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===Yi.IN?(c(r instanceof ar,"Comparing on key with IN, but filter value not an ArrayValue"),c(r.internalValue.every(function(e){return e instanceof rr}),"Comparing on key with IN, but an array value was not a RefValue"),new Ji(e,r)):(c(r instanceof rr,"Comparing on key, but filter value not a RefValue"),c(n!==Yi.ARRAY_CONTAINS&&n!==Yi.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Xi(e,n,r));if(r.isEqual(Gn.INSTANCE)){if(n!==Yi.EQUAL)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Jn.NAN)){if(n!==Yi.EQUAL)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===Yi.ARRAY_CONTAINS?new Zi(e,r):n===Yi.IN?(c(r instanceof ar,"IN filter has invalid value: "+r.toString()),new eo(e,r)):n===Yi.ARRAY_CONTAINS_ANY?(c(r instanceof ar,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new to(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case Yi.LESS_THAN:return e<0;case Yi.LESS_THAN_OR_EQUAL:return e<=0;case Yi.EQUAL:return 0===e;case Yi.GREATER_THAN:return e>0;case Yi.GREATER_THAN_OR_EQUAL:return e>=0;default:return u("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[Yi.LESS_THAN,Yi.LESS_THAN_OR_EQUAL,Yi.GREATER_THAN,Yi.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(Gi),Xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=Xt.comparator(e.key,t.key);return this.matchesComparison(n)},t}($i),Ji=function(e){function t(t,n){var r=e.call(this,t,Yi.IN,n)||this;return r.value=n,r}return xt.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some(function(t){return e.key.isEqual(t.key)})},t}($i),Zi=function(e){function t(t,n){return e.call(this,t,Yi.ARRAY_CONTAINS,n)||this}return xt.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof ar&&t.contains(this.value)},t}($i),eo=function(e){function t(t,n){var r=e.call(this,t,Yi.IN,n)||this;return r.value=n,r}return xt.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}($i),to=function(e){function t(t,n){var r=e.call(this,t,Yi.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return xt.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof ar&&n.internalValue.some(function(e){return t.value.contains(e)})},t}($i),no=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),ro=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){c(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())c(o instanceof rr,"Bound has a non-key value where the key path is being used."),n=Xt.comparator(o.key,t.key);else{var a=t.field(i.field);c(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===no.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},e}(),io=function(){function e(e,t){this.field=e,void 0===t&&(t=no.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?ur.compareByKey(e,t):ur.compareByField(this.field,e,t);switch(this.dir){case no.ASCENDING:return n;case no.DESCENDING:return-1*n;default:return u("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),oo=new io($t.keyField(),no.ASCENDING),ao=new io($t.keyField(),no.DESCENDING),so=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new tr(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),uo=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=it(e),n=0,r=this.elements;n<r.length;n++){var i=r[n];!function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)}(i)}return new ar(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&z(t.elements,this.elements)},e}(),co=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=it(e),n=0,r=this.elements;n<r.length;n++){var i=r[n];!function(e){t=t.filter(function(t){return!t.isEqual(e)})}(i)}return new ar(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&z(t.elements,this.elements)},e}(),lo=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof Xn&&this.operand instanceof Xn){var r=n.internalValue+this.operand.internalValue;return new Xn(r)}var r=n.internalValue+this.operand.internalValue;return new Jn(r)},e.prototype.applyToRemoteDocument=function(e,t){return c(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof $n?e:new Xn(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}(),fo=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),ho=function(){var e={};return e[no.ASCENDING.name]="ASCENDING",e[no.DESCENDING.name]="DESCENDING",e}(),po=function(){var e={};return e[Yi.LESS_THAN.name]="LESS_THAN",e[Yi.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[Yi.GREATER_THAN.name]="GREATER_THAN",e[Yi.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[Yi.EQUAL.name]="EQUAL",e[Yi.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",e[Yi.IN.name]="IN",e[Yi.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",e}(),mo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),yo=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?Ft.UNKNOWN:Ze(e.code);return new Ut(t,e.message||"")},e.prototype.toInt32Value=function(e){return Ge(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return t="object"===typeof e?e.value:e,Ge(t)?null:t},e.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"===typeof e)return this.fromIso8601String(e);c(!!e,"Cannot deserialize null or undefined timestamp.");var t=at(e.seconds||"0"),n=e.nanos||0;return new an(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=mo.exec(e);if(c(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new an(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"===typeof e?(c(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Vt.fromBase64String(e)):(c(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Vt.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return c(!!e,"Trying to deserialize version that isn't set"),sn.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=Gt.fromString(e);return c(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return c(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),c(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new Xt(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Gt.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new Gt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new Gt(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return c(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Gn)return{nullValue:"NULL_VALUE"};if(e instanceof Yn)return{booleanValue:e.value()};if(e instanceof Xn)return{integerValue:""+e.value()};if(e instanceof Jn){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Zn?{stringValue:e.value()}:e instanceof or?{mapValue:this.toMapValue(e)}:e instanceof ar?{arrayValue:this.toArrayValue(e)}:e instanceof er?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof ir?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof nr?{bytesValue:this.toBytes(e.value())}:e instanceof rr?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:u("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Gn.INSTANCE;if("booleanValue"in e)return Yn.of(e.booleanValue);if("integerValue"in e)return new Xn(at(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Jn.NAN;if("Infinity"===e.doubleValue)return Jn.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Jn.NEGATIVE_INFINITY}return new Jn(e.doubleValue)}if("stringValue"in e)return new Zn(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){ot(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new ar(n.map(function(e){return t.fromValue(e)}))}if("timestampValue"in e)return ot(e.timestampValue,"timestampValue"),new er(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){ot(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new ir(new Qi(r,i))}if("bytesValue"in e){ot(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new nr(o)}if("referenceValue"in e){ot(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new Ht(a.get(1),a.get(3)),c=new Xt(this.extractLocalPathFromResourceName(a));return new rr(s,c)}return u("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return c(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new ur(r,i,{hasCommittedMutations:!!t},void 0,e,function(e){return n.fromValue(e)})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=or.EMPTY;return y(n,function(e,n){r=r.set(new $t([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){var t=this;c(!!e.found,"Tried to deserialize a found document from a missing document."),ot(e.found.name,"doc.found.name"),ot(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new ur(n,r,{},void 0,e.found,function(e){return t.fromValue(e)})},e.prototype.fromMissing=function(e){c(!!e.missing,"Tried to deserialize a missing document from a found document."),c(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new cr(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):u("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Ri.Added:return"ADD";case Ri.Current:return"CURRENT";case Ri.NoChange:return"NO_CHANGE";case Ri.Removed:return"REMOVE";case Ri.Reset:return"RESET";default:return u("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Ui)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Fi){if(e.newDoc instanceof ur){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof cr){var t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Vi){var n=void 0;return e.cause&&(n={code:et(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return u("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){ot(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Vi(r,i,o,s||null)}else if("documentChange"in e){ot(e.documentChange,"documentChange"),ot(e.documentChange.document,"documentChange.name"),ot(e.documentChange.document.name,"documentChange.document.name"),ot(e.documentChange.document.updateTime,"documentChange.document.updateTime");var c=e.documentChange,l=this.fromName(c.document.name),f=this.fromVersion(c.document.updateTime),h=new ur(l,f,{},void 0,c.document,function(e){return n.fromValue(e)}),p=c.targetIds||[],d=c.removedTargetIds||[];t=new Fi(p,d,h.key,h)}else if("documentDelete"in e){ot(e.documentDelete,"documentDelete"),ot(e.documentDelete.document,"documentDelete.document");var m=e.documentDelete,l=this.fromName(m.document),f=m.readTime?this.fromVersion(m.readTime):sn.forDeletedDoc(),h=new cr(l,f),d=m.removedTargetIds||[];t=new Fi([],d,h.key,h)}else if("documentRemove"in e){ot(e.documentRemove,"documentRemove"),ot(e.documentRemove.document,"documentRemove");var y=e.documentRemove,l=this.fromName(y.document),d=y.removedTargetIds||[];t=new Fi([],d,l,null)}else{if(!("filter"in e))return u("Unknown change type "+JSON.stringify(e));ot(e.filter,"filter"),ot(e.filter.targetId,"filter.targetId");var v=e.filter,g=v.count||0,b=new fo(g),_=v.targetId;t=new Ui(_,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Ri.NoChange:"ADD"===e?Ri.Added:"REMOVE"===e?Ri.Removed:"CURRENT"===e?Ri.Current:"RESET"===e?Ri.Reset:u("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return sn.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?sn.MIN:t.readTime?this.fromVersion(t.readTime):sn.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof qn)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Wn)t={delete:this.toName(e.key)};else if(e instanceof Vn)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Bn))return u("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Fn.NONE;if(e.update){ot(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new Vn(r,i,o,n)}return new qn(r,i,n)}if(e.delete){var r=this.fromName(e.delete);return new Wn(r,n)}if(e.transform){var r=this.fromName(e.transform.document),a=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return c(!0===n.exists,'Transforms only support precondition "exists == true"'),new Bn(r,a)}return u("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return c(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:u("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Fn.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Fn.exists(e.exists):Fn.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map(function(e){return n.fromValue(e)})),new Mn(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(c(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof so)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof uo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof co)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof lo)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw u("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)c("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=so.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new uo(r.map(function(e){return t.fromValue(e)}))}else if("removeAllFromArray"in e){var r=e.removeAllFromArray.values||[];n=new co(r.map(function(e){return t.fromValue(e)}))}else if("increment"in e){var i=this.fromValue(e.increment);c(i instanceof $n,"NUMERIC_ADD transform requires a NumberValue"),n=new lo(i)}else u("Unknown transform proto: "+JSON.stringify(e));var o=$t.fromServerFormat(e.fieldPath);return new jn(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;c(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Ki.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(c(n.length%2===0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c(n.length%2!==0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){c(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var f=null;return n.endAt&&(f=this.fromCursor(n.endAt)),new Ki(t,i,s,a,u,l,f)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Hn.Listen:return null;case Hn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Hn.LimboResolution:return"limbo-document";default:return u("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},t.targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof $i?t.toUnaryOrFieldFilter(e):u("Unrecognized filter: "+JSON.stringify(e))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):u("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new ro(r,n)},e.prototype.toDirection=function(e){return ho[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return no.ASCENDING;case"DESCENDING":return no.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return po[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Yi.EQUAL;case"GREATER_THAN":return Yi.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Yi.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Yi.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Yi.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Yi.ARRAY_CONTAINS;case"IN":return Yi.IN;case"ARRAY_CONTAINS_ANY":return Yi.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return u("Unspecified operator");default:return u("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return $t.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new io(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return $i.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Yi.EQUAL){if(e.value.isEqual(Jn.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Gn.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return $i.create(t,Yi.EQUAL,Jn.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return $i.create(n,Yi.EQUAL,Gn.INSTANCE);case"OPERATOR_UNSPECIFIED":return u("Unspecified filter");default:return u("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=e.fieldPaths||[],n=t.map(function(e){return $t.fromServerFormat(e)});return Dn.fromArray(n)},e}(),vo=function(){function e(){this.viewSnap=null,this.targetId=0,this.listeners=[]}return e}(),go=function(){function e(e){this.syncEngine=e,this.queries=new fr(function(e){return e.canonicalId()}),this.onlineState=wi.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);(r||(n=!0,r=new vo,this.queries.set(t,r)),r.listeners.push(e),c(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(t).then(function(e){return r.targetId=e,e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return xt.__generator(this,function(o){return t=e.query,n=!1,r=this.queries.get(t),r&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++){u[s].onViewSnapshot(i)&&(t=!0)}a.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){var o=i[r];o.onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++){o[i].applyOnlineStateChange(e)&&(t=!0)}}),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(e){e.next()})},e}(),bo=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=wi.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(c(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Ai.Metadata&&t.push(i)}e=new ji(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){if(c(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==wi.Offline;return this.options.waitForSyncWhenOnline&&n?(c(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===wi.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){c(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=ji.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),_o=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=ne(),i=ne(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Ai.Added:r=r.add(s.doc.key);break;case Ai.Removed:i=i.add(s.doc.key)}}return new e(t,r,i)},e}(),wo=function(){function e(e){this.key=e}return e}(),Eo=function(){function e(e){this.key=e}return e}(),To=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=ne(),this.mutatedKeys=ne(),this.documentSet=new xi(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Di,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=t instanceof ur?t:null;f&&(c(e.isEqual(f.key),"Mismatching keys found in document changes: "+e+" != "+f.key),f=n.query.matches(f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),p=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),d=!1;if(l&&f){l.data().isEqual(f.data())?h!==p&&(r.track({type:Ai.Metadata,doc:f}),d=!0):n.shouldWaitForSyncedDocument(l,f)||(r.track({type:Ai.Modified,doc:f}),d=!0,u&&n.query.docComparator(f,u)>0&&(s=!0))}else!l&&f?(r.track({type:Ai.Added,doc:f}),d=!0):l&&!f&&(r.track({type:Ai.Removed,doc:l}),d=!0,u&&(s=!0));d&&(f?(a=a.add(f),o=p?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),o=o.delete(l.key),r.track({type:Ai.Removed,doc:l})}return c(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;c(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort(function(e,t){return st(e.type,t.type)||r.query.docComparator(e.doc,t.doc)}),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current,u=s?Pi.Synced:Pi.Local,l=u!==this.syncState;if(this.syncState=u,0!==o.length||l){return{snapshot:new ji(this.query,e.documentSet,i,o,e.mutatedKeys,u===Pi.Local,l,!1),limboChanges:a}}return{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===wi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Di,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return c(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=ne(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new Eo(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new wo(e))}),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=ne();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return ji.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Pi.Local)},e}(),So=5,Oo=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=So,this.backoff=new _i(this.asyncQueue,Mt.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun(function(){return xt.__awaiter(e,void 0,void 0,function(){var e,t,n=this;return xt.__generator(this,function(r){return e=this.remoteStore.createTransaction(),t=this.tryRunUpdateFunction(e),t&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.handleTransactionError(e)})})}).catch(function(e){n.handleTransactionError(e)}),[2]})})})},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Ge(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return t.runWithBackOff(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$e(t)}return!1},e}(),Co=function(){function e(e,t,n){this.query=e,this.targetId=t,this.view=n}return e}(),No=function(){function e(e){this.key=e,this.receivedDocument=!1}return e}(),Io=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new fr(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new un(Xt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new ri,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Cn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=wi.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){c(null!==e,"SyncEngine listener cannot be null"),c(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return xt.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},e.prototype.initializeViewAndComputeSnapshot=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l;return xt.__generator(this,function(f){switch(f.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return r=f.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return i=f.sent(),o=new To(n,i),a=o.computeDocChanges(r),s=Li.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==wi.Offline),u=o.applyChanges(a,!0===this.isPrimary,s),c(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),c(!!u.snapshot,"applyChanges for new view should always return a snapshot"),l=new Co(n,e.targetId,o),this.queryViewsByQuery.set(n,l),this.queryViewsByTarget[e.targetId]=l,[2,u.snapshot]}})})},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r;return xt.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=i.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=i.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}})})},e.prototype.unlisten=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return xt.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),(t=this.queryViewsByQuery.get(e),c(!!t,"Trying to unlisten on query not found:"+e),this.isPrimary)?(this.sharedClientState.removeLocalQueryTarget(t.targetId),n=this.sharedClientState.isActiveQueryTarget(t.targetId),n?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){r.sharedClientState.clearQueryState(t.targetId),r.remoteStore.unlisten(t.targetId),r.removeAndCleanupQuery(t)}).catch(Ve)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})},e.prototype.write=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){var n;return xt.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},e.prototype.runTransaction=function(e,t,n){new Oo(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return xt.__generator(this,function(i){switch(i.label){case 0:this.assertSubscribed("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=i.sent(),y(e.targetChanges,function(e,t){var n=r.limboResolutionsByTarget[Number(e)];n&&(c(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?n.receivedDocument=!0:t.modifiedDocuments.size>0?c(n.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(c(n.receivedDocument,"Received remove for limbo target document without add."),n.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return i.sent(),[3,6];case 4:return n=i.sent(),[4,Ve(n)];case 5:return i.sent(),[3,6];case 6:return[2]}})})},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===Ni.RemoteStore||!this.isPrimary&&t===Ni.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(t,r){var i=r.view.applyOnlineStateChange(e);c(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return xt.__generator(this,function(l){switch(l.label){case 0:return this.assertSubscribed("rejectListens()"),(this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=new un(Xt.comparator),i=i.insert(r,new cr(r,sn.forDeletedDoc())),o=ne().add(r),a=new Mi(sn.MIN,{},new pn(B),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return s=this.queryViewsByTarget[e],c(!!s,"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return u.removeAndCleanupQuery(s)}).catch(Ve)];case 2:l.sent(),this.syncEngineListener.onWatchError(s.query,t),l.label=3;case 3:return[2]}})})},e.prototype.applyBatchState=function(e,t,n){return xt.__awaiter(this,void 0,void 0,function(){var r;return xt.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return r=i.sent(),null===r?(o("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):u("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},e.prototype.applySuccessfulWrite=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r;return xt.__generator(this,function(i){switch(i.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return r=i.sent(),[4,Ve(r)];case 5:return i.sent(),[3,6];case 6:return[2]}})})},e.prototype.rejectFailedWrite=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){var n,r;return xt.__generator(this,function(i){switch(i.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return r=i.sent(),[4,Ve(r)];case 5:return i.sent(),[3,6];case 6:return[2]}})})},e.prototype.registerPendingWritesCallback=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n;return xt.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||o("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):(n=this.pendingWritesCallbacks.get(t)||[],n.push(e),this.pendingWritesCallbacks.set(t,n),[2])}})})},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach(function(e){e.resolve()}),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach(function(t){t.forEach(function(t){t.reject(new Ut(Ft.CANCELLED,e))})}),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new un(B)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(c(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)})}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof wo)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof Eo){o("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e);var a=this.limboDocumentRefs.containsKey(i.key);a||this.removeLimboTarget(i.key)}else u("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){o("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Ki.atPath(t.path);this.limboResolutionsByTarget[n]=new No(t),this.remoteStore.listen(new Br(r,n,Hn.LimboResolution,Qt.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return xt.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=_o.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},e.prototype.assertSubscribed=function(e){c(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n;return xt.__generator(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),(this.currentUser=e,t)?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},e.prototype.applyPrimaryState=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u=this;return xt.__generator(this,function(c){switch(c.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),d(this.queryViewsByTarget,function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then(function(){return u.unlisten(t.query)}),u.remoteStore.unlisten(t.targetId)}),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})},e.prototype.resetLimboDocuments=function(){var e=this;d(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new un(Xt.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return xt.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,l;return xt.__generator(this,function(f){switch(f.label){case 0:t=[],n=[],r=0,i=e,f.label=1;case 1:return r<i.length?(o=i[r],a=void 0,s=this.queryViewsByTarget[o],s?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return f.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=f.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return u=f.sent(),u.snapshot&&n.push(u.snapshot),[3,9];case 5:return c(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return l=f.sent(),c(!!l,"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return a=f.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:f.sent(),f.label=9;case 9:t.push(a),f.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}})})},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return xt.__awaiter(this,void 0,void 0,function(){var r,i,a,s,c,l;return xt.__generator(this,function(f){switch(f.label){case 0:if(this.isPrimary)return o("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(r=t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return f.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return i=f.sent(),a=Mi.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(i,a)];case 3:return f.sent(),[3,11];case 4:return s=f.sent(),we(s)?(c=[],d(this.queryViewsByTarget,function(e){return c.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(c)]):[3,6];case 5:return f.sent(),[3,7];case 6:throw s;case 7:return[3,8];case 8:return l=this.queryViewsByTarget[e],this.removeAndCleanupQuery(l),[4,this.localStore.releaseQuery(l.query,!0)];case 9:return f.sent(),this.syncEngineListener.onWatchError(l.query,n),[3,11];case 10:u("Unexpected target state: "+t),f.label=11;case 11:return[2]}})})},e.prototype.applyActiveTargetsChange=function(e,t){return xt.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,f,i,h=this;return xt.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(i=r[n],c(!this.queryViewsByTarget[i],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(i)]):[3,6];case 2:return o=p.sent(),c(!!o,"Query data for active target "+i+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return a=p.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 4:p.sent(),this.remoteStore.listen(a),p.label=5;case 5:return n++,[3,1];case 6:s=function(e){var t;return xt.__generator(this,function(n){switch(n.label){case 0:return t=u.queryViewsByTarget[e],t?[4,u.localStore.releaseQuery(t.query,!1).then(function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)}).catch(Ve)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,l=0,f=t,p.label=7;case 7:return l<f.length?(i=f[l],[5,s(i)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}})})},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?ne().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:ne()},e}(),ko=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Ao="SharedClientState",xo="firestore_clients",Po="firestore_mutations",Ro="firestore_targets",Do="firestore_online_state",jo="firestore_sequence_number",Mo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,c(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"===typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"===typeof i.error),s=void 0;return o&&i.error&&(o="string"===typeof i.error.message&&"string"===typeof i.error.code)&&(s=new Ut(i.error.code,i.error.message)),o?new e(t,n,i.state,s):(a(Ao,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Lo=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,c(void 0!==n===("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),o=void 0;return i&&r.error&&(i="string"===typeof r.error.message&&"string"===typeof r.error.code)&&(o=new Ut(r.error.code,r.error.message)),i?new e(t,r.state,o):(a(Ao,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Fo=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"===typeof r&&r.activeTargetIds instanceof Array,o=re(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ye(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(a(Ao,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Uo=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"===typeof n&&n.onlineState in wi&&"string"===typeof n.clientId?new e(n.clientId,wi[n.onlineState]):(a(Ao,"Failed to parse online state: "+t),null)},e}(),qo=function(){function e(){this.activeTargetIds=re()}return e.prototype.addQueryTarget=function(e){c(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Vo=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new Ut(Ft.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=jo+"_"+r,this.activeClients[this.localClientId]=new qo,this.clientStateKeyRe=new RegExp("^"+xo+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Po+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ro+"_"+a+"_(\\d+)$"),this.onlineStateKey=Do+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return xt.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,l,f,h=this;return xt.__generator(this,function(p){switch(p.label){case 0:return c(!this.started,"WebStorageSharedClientState already started"),c(null!==this.syncEngine,"syncEngine property must be set before calling start()"),c(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=p.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Fo.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),a=this.storage.getItem(this.onlineStateKey),a&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,l=this.earlyEvents;u<l.length;u++)f=l[u],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=re();return y(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Lo.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return o(Ao,"READ",e,t),t},e.prototype.setItem=function(e,t){o(Ao,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){o(Ao,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(o(Ao,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void a("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return xt.__awaiter(t,void 0,void 0,function(){var t,n,r,i,o,a;return xt.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(c(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=ut(e.newValue))!==Qt.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Mo(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:wi[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Lo(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return c(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),xo+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Ro+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Po+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return c(null!==n,"Cannot parse client state key '"+e+"'"),Fo.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);c(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Mo.fromWebStorageEntry(new ko(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);c(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Lo.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Uo.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(t){return e.user.uid!==this.currentUser.uid?(o(Ao,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(e){return xt.__awaiter(n,void 0,void 0,function(){return xt.__generator(this,function(t){return r.has(e)||o.push(e),[2]})})}),r.forEach(function(e){return xt.__awaiter(n,void 0,void 0,function(){return xt.__generator(this,function(t){return i.has(e)||a.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}(),Bo=function(){function e(){this.localState=new qo,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new qo,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Wo=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return Qr.withCacheSize(this.cacheSizeBytes)},e}(),zo=function(){function e(){}return e}(),Ho=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=qt.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new Jt,r=new Jt,i=!1;return this.credentials.setChangeListener(function(o){i?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(o)}):(i=!0,t.initializePersistence(e,r,o).then(function(e){return t.initializeRest(o,e)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Wo?this.startIndexedDbPersistence(n,e).then(function(e){return t.resolve(),e}).catch(function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof Ut?e.code===Ft.FAILED_PRECONDITION||e.code===Ft.UNIMPLEMENTED:!("undefined"!==typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ut(Ft.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=ei.buildStoragePrefix(this.databaseInfo),i=new yo(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return xt.__awaiter(n,void 0,void 0,function(){var n,o;return xt.__generator(this,function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Vo.isAvailable(this.platform))throw new Ut(Ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Vo(this.asyncQueue,this.platform,r,this.clientId,e):new Bo,[4,ei.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}})})})},e.prototype.startMemoryPersistence=function(){return this.persistence=ci.createEagerPersistence(this.clientId),this.sharedClientState=new Bo,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return o("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return xt.__awaiter(n,void 0,void 0,function(){var n,i,o,a,s,u=this;return xt.__generator(this,function(c){switch(c.label){case 0:return this.localStore=new oi(this.persistence,e),t&&(this.lruScheduler=new Kr(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new Oi(this.asyncQueue,r,this.credentials,i),a=function(e){return u.syncEngine.applyOnlineStateChange(e,Ni.RemoteStore)},s=function(e){return u.syncEngine.applyOnlineStateChange(e,Ni.SharedClientState)},this.remoteStore=new Hi(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new Io(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=s,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new go(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return xt.__awaiter(u,void 0,void 0,function(){return xt.__generator(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return xt.__awaiter(u,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}})})})];case 4:return c.sent(),[2]}})})})},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),o("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return xt.__awaiter(e,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new Jt;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.registerPendingWritesCallback(t)}),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new bo(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof ur)return e;if(e instanceof cr)return null;throw new Ut(Ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=ne(),r=new To(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot})},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new Jt;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()})},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new Jt;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()}),n.promise},e}(),Qo=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Ko=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];T("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(S("FieldPath","string",n,e[n]),0===e[n].length)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e($t.keyField().canonicalString()),e}(),Go=new RegExp("[~\\*/\\[\\]]"),Yo=function(){function e(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}return e}(),$o=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){c(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(ko.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){c(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Xo=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=ko.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;c(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new Ut(Ft.ABORTED,"getToken aborted due to token change.");return n?(c("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Yo(n.accessToken,e.currentUser)):null})},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){c(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(this.currentUser)},e.prototype.removeChangeListener=function(){c(null!=this.tokenListener,"removeChangeListener() called twice"),c(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return c(null===e||"string"===typeof e,"Received invalid UID: "+e),new ko(e)},e}(),Jo=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ko.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),Zo=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Jo(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(ko.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}(),ea=function(){function e(e){this._methodName=e}return e.delete=function(){return b("FieldValue.delete",arguments),ta.instance},e.serverTimestamp=function(){return b("FieldValue.serverTimestamp",arguments),na.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w("FieldValue.arrayUnion",arguments,1),new ra(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w("FieldValue.arrayRemove",arguments,1),new ia(e)},e.increment=function(e){return S("FieldValue.increment","number",1,e),_("FieldValue.increment",arguments,1),new oa(e)},e.prototype.isEqual=function(e){return this===e},e}(),ta=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return xt.__extends(t,e),t.instance=new t,t}(ea),na=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return xt.__extends(t,e),t.instance=new t,t}(ea),ra=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return xt.__extends(t,e),t}(ea),ia=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return xt.__extends(t,e),t}(ea),oa=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return xt.__extends(t,e),t}(ea),aa=f(ea,"Use FieldValue.<field>() instead."),sa=/^__.*__$/,ua=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Vn(e,this.data,this.fieldMask,t)):n.push(new qn(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Bn(e,this.fieldTransforms)),n},e}(),ca=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new Vn(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new Bn(e,this.fieldTransforms)),n},e}();!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument"}(qi||(qi={}));var la=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Ut(Ft.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(pt(this.dataSource)&&sa.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),fa=function(){function e(e,t){this.databaseId=e,this.key=t}return e}(),ha=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new la(qi.Set,e,$t.EMPTY_PATH);mt("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new ua(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new la(qi.MergeSet,e,$t.EMPTY_PATH);mt("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new pn($t.comparator),c=0,l=n;c<l.length;c++){var f=l[c],h=void 0;if(f instanceof Ko)h=f._internalPath;else{if("string"!==typeof f)throw u("Expected stringOrFieldPath to be a string or a FieldPath");h=vt(e,f)}if(!r.contains(h))throw new Ut(Ft.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=Dn.fromSet(s),o=r.fieldTransforms.filter(function(e){return i.covers(e.field)})}else i=Dn.fromArray(r.fieldMask),o=r.fieldTransforms;return new ua(a,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new la(qi.Update,e,$t.EMPTY_PATH);mt("Data must be an object, but it was:",r,t);var i=new pn($t.comparator),o=or.EMPTY;y(t,function(t,a){var s=vt(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof ta)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=Dn.fromSet(i);return new ca(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new la(qi.Update,e,$t.EMPTY_PATH),o=[yt(e,t)],a=[n];if(r.length%2!==0)throw new Ut(Ft.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(yt(e,r[s])),a.push(r[s+1]);for(var u=new pn($t.comparator),c=or.EMPTY,s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof ta)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=Dn.fromSet(u);return new ca(c,d,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new la(qi.Argument,e,$t.EMPTY_PATH),r=this.parseData(t,n);return c(null!=r,"Parsed data should not be null."),c(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=gt(e);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(e=this.runPreConverter(e,t),dt(e))return mt("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof ea)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new un(B);return v(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):y(e,function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))}),new or(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Gn.INSTANCE),n.push(s),r++}return new ar(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!pt(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof ta){if(t.dataSource!==qi.MergeSet)throw t.dataSource===qi.Update?(c(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof na)t.fieldTransforms.push(new jn(t.path,so.instance));else if(e instanceof ra){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new uo(n);t.fieldTransforms.push(new jn(t.path,r))}else if(e instanceof ia){var n=this.parseArrayTransformElements(e._methodName,e._elements),i=new co(n);t.fieldTransforms.push(new jn(t.path,i))}else if(e instanceof oa){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new lo(o);t.fieldTransforms.push(new jn(t.path,a))}else u("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Gn.INSTANCE;if("number"===typeof e)return Ye(e)?new Xn(e):new Jn(e);if("boolean"===typeof e)return Yn.of(e);if("string"===typeof e)return new Zn(e);if(e instanceof Date)return new er(an.fromDate(e));if(e instanceof an)return new er(new an(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Qi)return new ir(e);if(e instanceof Vt)return new nr(e);if(e instanceof fa)return new rr(e.databaseId,e.key);throw t.createError("Unsupported field value: "+j(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var i=new la(qi.Argument,e,$t.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))})},e}(),pa="firestore.googleapis.com",da=!0,ma=!0,ya=!1,va=Qr.COLLECTION_DISABLED,ga=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(Ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pa,this.ssl=da}else C("settings","non-empty string","host",e.host),this.host=e.host,N("settings","boolean","ssl",e.ssl),this.ssl=p(e.ssl,da);if(F("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),N("settings","object","credentials",e.credentials),this.credentials=e.credentials,N("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?a("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&a("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=p(e.timestampsInSnapshots,ma),N("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Qr.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==va&&e.cacheSizeBytes<Qr.MINIMUM_CACHE_SIZE_BYTES)throw new Ut(Ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}N("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?ya:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),ba=function(){function e(t){var n=this;if(this._firebaseApp=null,this._queue=new en,this.INTERNAL={delete:function(){return xt.__awaiter(n,void 0,void 0,function(){return xt.__generator(this,function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}})})}},"object"===typeof t.options){var r=t;this._firebaseApp=r,this._databaseId=e.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Xo(r)}else{var i=t;if(!i.projectId)throw new Ut(Ft.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new Ht(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new $o}this._settings=new ga({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(_("Firestore.settings",arguments,1),S("Firestore.settings","object",1,e),h(e,"persistence"))throw new Ut(Ft.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new ga(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new Ut(Ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=lt(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new Ut(Ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&a("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=p(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Wo(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=ei.buildStoragePrefix(this.makeDatabaseInfo()),n=new Jt;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return xt.__awaiter(e,void 0,void 0,function(){var e;return xt.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Ut(Ft.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,ei.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype._onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),ft(e))return this.onSnapshotsInSyncInternal(e);S("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=function(e){throw u("Uncaught Error in onSnapshotsInSync")},r=new Qo({next:function(){e.next&&e.next()},error:n});return this._firestoreClient.addSnapshotsInSyncListener(r),function(){r.mute(),t._firestoreClient.removeSnapshotsInSyncListener(r)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new zo),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new Wt(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){c(!!this._settings.host,"FirestoreSettings.host is not set"),c(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Ho(Lt.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new ha(function(t){if(t instanceof Ea){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new Ut(Ft.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new fa(e,t._key)}return t})},e.databaseIdFromApp=function(e){var t=e.options;if(!h(t,"projectId"))throw new Ut(Ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!==typeof n)throw new Ut(Ft.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ht(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Ut(Ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return _("Firestore.collection",arguments,1),S("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Ia(Gt.fromString(e),this)},e.prototype.doc=function(e){return _("Firestore.doc",arguments,1),S("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Ea.forPath(Gt.fromString(e),this)},e.prototype.collectionGroup=function(e){if(_("Firestore.collectionGroup",arguments,1),S("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ca(new Ki(Gt.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return _("Firestore.runTransaction",arguments,1),S("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new _a(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new wa(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(r()){case It.DEBUG:return"debug";case It.ERROR:return"error";case It.SILENT:return"silent";default:return u("Unknown log level: "+r())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(_("Firestore.setLogLevel",arguments,1),S("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":i(It.DEBUG);break;case"error":i(It.ERROR);break;case"silent":i(It.SILENT);break;default:throw new Ut(Ft.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),_a=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;_("Transaction.get",arguments,1);var n=Tt("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return u("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof cr)return new Sa(t._firestore,n._key,null,!1,!1);if(r instanceof ur)return new Sa(t._firestore,n._key,r,!1,!1);throw u("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},e.prototype.set=function(e,t,n){E("Transaction.set",arguments,2,3);var r=Tt("Transaction.set",e,this._firestore);n=_t("Transaction.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a;return"string"===typeof t||t instanceof Ko?(w("Transaction.update",arguments,3),o=Tt("Transaction.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,r)):(_("Transaction.update",arguments,2),o=Tt("Transaction.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(o._key,a),this},e.prototype.delete=function(e){_("Transaction.delete",arguments,1);var t=Tt("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),wa=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){E("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Tt("WriteBatch.set",e,this._firestore);n=_t("WriteBatch.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,Fn.NONE)),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.verifyNotCommitted();var o,a;return"string"===typeof t||t instanceof Ko?(w("WriteBatch.update",arguments,3),o=Tt("WriteBatch.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,r)):(_("WriteBatch.update",arguments,2),o=Tt("WriteBatch.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(a.toMutations(o._key,Fn.exists(!0))),this},e.prototype.delete=function(e){_("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Tt("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Wn(t._key,Fn.NONE)),this},e.prototype.commit=function(){return xt.__awaiter(this,void 0,void 0,function(){return xt.__generator(this,function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new Ut(Ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Ea=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!==0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new Xt(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ia(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(_("DocumentReference.collection",arguments,1),S("DocumentReference.collection","non-empty string",1,e),!e)throw new Ut(Ft.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Gt.fromString(e);return new Ia(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){E("DocumentReference.set",arguments,1,2),t=_t("DocumentReference.set",t);var n=t.merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,Fn.NONE))},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i;return"string"===typeof e||e instanceof Ko?(w("DocumentReference.update",arguments,2),i=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,n)):(_("DocumentReference.update",arguments,1),i=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(i.toMutations(this._key,Fn.exists(!0)))},e.prototype.delete=function(){return _("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Wn(this._key,Fn.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];E("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof e[i]||ft(e[i])||(r=e[i],F("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),N("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ft(e[i])?n=e[i]:(S("DocumentReference.onSnapshot","function",i,e[i]),O("DocumentReference.onSnapshot","function",i+1,e[i+1]),O("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Qo({next:function(e){if(t.next){c(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Sa(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Ki.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return E("DocumentReference.get",arguments,0,1),Et("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new Sa(t.firestore,t._key,e,!0,e instanceof ur&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new Ut(Ft.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new Ut(Ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),Ta=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Sa=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return E("DocumentSnapshot.data",arguments,0,1),e=wt("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),Qn.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(E("DocumentSnapshot.get",arguments,1,2),t=wt("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(yt("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Qn.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ea(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Ta(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertValue=function(e,t){if(e instanceof or)return this.convertObject(e,t);if(e instanceof ar)return this.convertArray(e,t);if(e instanceof rr){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||a("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ea(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),Oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return c("object"===typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Sa),Ca=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){if(_("Query.where",arguments,3),L("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){P("Query.where",["<","<=","==",">=",">","array-contains"],2,n)}var i,o=yt("Query.where",t),a=Yi.fromString(n);if(o.isKeyField()){if(a===Yi.ARRAY_CONTAINS||a===Yi.ARRAY_CONTAINS_ANY)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===Yi.IN){this.validateDisjunctiveFilterElements(r,a);for(var s=[],u=0,c=r;u<c.length;u++){var l=c[u];s.push(this.parseDocumentIdValue(l))}i=new ar(s)}else i=this.parseDocumentIdValue(r)}else a!==Yi.IN&&a!==Yi.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var f=$i.create(o,a,i);return this.validateNewFilter(f),new e(this._query.addFilter(f),this.firestore)},e.prototype.orderBy=function(t,n){E("Query.orderBy",arguments,1,2),O("Query.orderBy","non-empty string",2,n);var r;if(void 0===n||"asc"===n)r=no.ASCENDING;else{if("desc"!==n)throw new Ut(Ft.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=no.DESCENDING}if(null!==this._query.startAt)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=yt("Query.orderBy",t),o=new io(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(_("Query.limit",arguments,1),S("Query.limit","number",1,t),t<=0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];w("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];w("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];w("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];w("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(L(e,1,t),t instanceof Sa){if(n.length>0)throw new Ut(Ft.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new Ut(Ft.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new rr(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof tr)throw new Ut(Ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new ro(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new Ut(Ft.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!==typeof a)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Gt.fromString(a));if(!Xt.isDocumentKey(s))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Xt(s);i.push(new rr(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new ro(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];E("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof e[i]||ft(e[i])||(r=e[i],F("Query.onSnapshot",r,["includeMetadataChanges"]),N("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ft(e[i])?n=e[i]:(S("Query.onSnapshot","function",i,e[i]),O("Query.onSnapshot","function",i+1,e[i+1]),O("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Qo({next:function(e){t.next&&t.next(new Na(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(e){var t=this;return E("Query.get",arguments,0,1),Et("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new Na(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new Ut(Ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"===typeof e){if(""===e)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(Gt.fromString(e));if(!Xt.isDocumentKey(t))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new rr(this.firestore._databaseId,new Xt(t))}if(e instanceof Ea){var n=e;return new rr(this.firestore._databaseId,n._key)}throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+j(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter(function(e){return Number.isNaN(e)}).length>0)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof $i){var t=[Yi.ARRAY_CONTAINS,Yi.ARRAY_CONTAINS_ANY],n=[Yi.IN,Yi.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new Ut(Ft.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Na=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ta(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;E("QuerySnapshot.forEach",arguments,1,2),S("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new Ca(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(F("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),N("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(Ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=St(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Oa(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach(function(e){try{Object.defineProperty(Na.prototype.docChanges,e,{get:function(){return bt()}})}catch(e){}});var Ia=function(e){function t(t,n){var r=e.call(this,Ki.atPath(t),n)||this;if(t.length%2!==1)throw new Ut(Ft.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return xt.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Ea(new Xt(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(E("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=qt.newId()),S("CollectionReference.doc","non-empty string",1,e),""===e)throw new Ut(Ft.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Gt.fromString(e);return Ea.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){_("CollectionReference.add",arguments,1),S("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(Ca),ka=f(ba,"Use firebase.firestore() instead."),Aa=f(_a,"Use firebase.firestore().runTransaction() instead."),xa=f(wa,"Use firebase.firestore().batch() instead."),Pa=f(Ea,"Use firebase.firestore().doc() instead."),Ra=f(Sa),Da=f(Oa),ja=f(Ca),Ma=f(Na),La=f(Ia,"Use firebase.firestore().collection() instead."),Fa={Firestore:ka,GeoPoint:Qi,Timestamp:an,Blob:Bt,Transaction:Aa,WriteBatch:xa,DocumentReference:Pa,DocumentSnapshot:Ra,Query:ja,QueryDocumentSnapshot:Da,QuerySnapshot:Ma,CollectionReference:La,FieldPath:Ko,FieldValue:aa,setLogLevel:ba.setLogLevel,CACHE_SIZE_UNLIMITED:va},Ua=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),qa=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){o("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){o("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!==typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Va=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){c(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){c(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){c(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){c(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){c(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){c(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),Ba="Connection",Wa={BatchGetDocuments:"batchGet",Commit:"commit"},za="gl-js/ fire/"+Dt,Ha=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=za},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(a,s){var c=new Rt.XhrIo;c.listenOnce(Rt.EventType.COMPLETE,function(){try{switch(c.getLastErrorCode()){case Rt.ErrorCode.NO_ERROR:var t=c.getResponseJson();o(Ba,"XHR received:",JSON.stringify(t)),a(t);break;case Rt.ErrorCode.TIMEOUT:o(Ba,'RPC "'+e+'" timed out'),s(new Ut(Ft.DEADLINE_EXCEEDED,"Request time out"));break;case Rt.ErrorCode.HTTP_ERROR:var n=c.getStatus();if(o(Ba,'RPC "'+e+'" failed with status:',n,"response text:",c.getResponseText()),n>0){var r=c.getResponseJson().error;if(r&&r.status&&r.message){var i=tt(r.status);s(new Ut(i,r.message))}else s(new Ut(Ft.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(Ba,'RPC "'+e+'" failed'),s(new Ut(Ft.UNAVAILABLE,"Connection failed."));break;default:u('RPC "'+e+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{o(Ba,'RPC "'+e+'" completed.')}});var l=JSON.stringify(t);o(Ba,"XHR sending: ",i+" "+l);var f={"Content-Type":"text/plain"};r.modifyHeadersForRequest(f,n),c.send(i,"POST",l,f,15)})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Rt.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),Pt.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");o(Ba,"Creating WebChannel: "+a+" "+i);var s=r.createWebChannel(a,i),u=!1,l=!1,f=new Va({sendFn:function(e){l?o(Ba,"Not sending because WebChannel is closed:",e):(u||(o(Ba,"Opening WebChannel transport."),s.open(),u=!0),o(Ba,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}}),h=function(e,t){s.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(Rt.WebChannel.EventType.OPEN,function(){l||o(Ba,"WebChannel transport opened.")}),h(Rt.WebChannel.EventType.CLOSE,function(){l||(l=!0,o(Ba,"WebChannel transport closed"),f.callOnClose())}),h(Rt.WebChannel.EventType.ERROR,function(e){l||(l=!0,o(Ba,"WebChannel transport errored:",e),f.callOnClose(new Ut(Ft.UNAVAILABLE,"The operation could not be completed")))}),h(Rt.WebChannel.EventType.MESSAGE,function(e){if(!l){var t=e.data[0];c(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){o(Ba,"WebChannel received error:",r);var i=r.status,a=Je(i),u=r.message;void 0===a&&(a=Ft.INTERNAL,u="Unknown error status: "+i+" with message "+r.message),l=!0,f.callOnClose(new Ut(a,u)),s.close()}else o(Ba,"WebChannel received:",t),f.callOnMessage(t)}}),setTimeout(function(){f.callOnOpen()},0),f},e.prototype.makeUrl=function(e){var t=Wa[e];c(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),Qa=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new Ha(e))},e.prototype.newConnectivityMonitor=function(){return qa.isAvailable()?new qa:new Ua},e.prototype.newSerializer=function(e){return new yo(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();Lt.setPlatform(new Qa),Nt(kt),t.registerFirestore=Nt},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){var r={listeners:{},config:l({defaultConfig:p.defaultConfig},t)};e._=(0,s.default)(r,e._);var o=[{action:f.firestoreActions.deleteRef,name:"delete"},{action:f.firestoreActions.setListener,name:"onSnapshot"}],a=(0,h.mapWithFirebaseAndDispatch)(e,n,f.firestoreActions,o),u=(0,c.default)(p.methodsToAddFromFirestore,function(t,n){return e.firestore&&"function"===typeof e.firestore()[n]?l({},t,i({},n,e.firestore()[n].bind(e.firestore()))):t},{});return l(u,e.firestore,{_:e._},t.helpersNamespace?i({},t.helpersNamespace,a):a)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(237),s=r(a),u=n(211),c=r(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var f=n(238),h=n(239),p=n(21)},function(e,t,n){var r=n(84),i=r("merge",n(500));i.placeholder=n(61),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firestoreActions=void 0;var r=n(501),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);t.firestoreActions=i,t.default={firestoreActions:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){var n=e.payload;return(0,p.default)(n)?n(t):n}function s(e,t){var n=t.ref,r=t.meta,i=void 0===r?{}:r,s=t.method,u=t.args,c=void 0===u?[]:u,l=t.types,f=v(l,3),h=f[0],p=f[1],d=f[2];return e({type:(0,m.default)(h)?h.type:h,meta:i,payload:(0,m.default)(h)?h.payload:{args:c}}),n[s].apply(n,o(c)).then(function(t){var n=(0,m.default)(p),r={type:n?p.type:p,meta:i,payload:n&&p.payload?a(p,t):{args:c}};return n&&p.preserve&&(r.preserve=p.preserve),n&&p.merge&&(r.merge=p.merge),e(r),t}).catch(function(t){return e({type:d,meta:i,payload:t}),Promise.reject(t)})}function u(e,t){return function(n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.apply(e,[e,t].concat(i))}}}function c(e,t,n,r){var o=u(e,t);return y({},(0,f.default)(n,o),r.reduce(function(e,t){var n=t.action,r=t.name;return y({},e,i({},r,o(n)))},{}))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(120),f=r(l),h=n(12),p=r(h),d=n(10),m=r(d),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.wrapInDispatch=s,t.mapWithFirebaseAndDispatch=c},function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&i(t,e[n],0)>-1;);return n}var i=n(136);e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=(n(98),n(169)),a=n(20),s=(n.n(a),n(8),n(27)),u=(n.n(s),function(e){var t=e.courses,n=e.teacherClasses,r=e.auth;console.log("courses",t),console.log("teacherClasses",n);var a=[];return t&&n&&r&&t.forEach(function(e){n.forEach(function(t){t.courseId==e.id&&t.studentId==r.uid&&a.push(e)})}),i.a.createElement("div",{className:"project-list section"},a&&a.map(function(e){return i.a.createElement(o.a,{key:e.courseName,course:e})}))});t.a=u},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.ToastContainer=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(243),a=n(0),s=(function(e){e&&e.__esModule}(a),n(145),n(148)),u={"top-left":{top:0,left:0},"top-center":{top:0,left:"50%",transform:"translateX(-50%)"},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-center":{bottom:0,left:"50%",transform:"translateX(-50%)"},"bottom-right":{bottom:0,right:0}},c=function(e){var t=e.hasToasts,n=e.placement,a=r(e,["hasToasts","placement"]);return(0,o.jsx)("div",i({className:"react-toast-notifications__container",css:i({boxSizing:"border-box",maxHeight:"100%",maxWidth:"100%",overflow:"hidden",padding:s.gutter,pointerEvents:t?null:"none",position:"fixed",zIndex:1e3},u[n])},a))};t.ToastContainer=c},function(e,t,n){"use strict";function r(e,t,n){var r=[],i=Object(s.a)(e,r,n);return r.length<2?n:i+t(r)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ClassNames",function(){return y}),n.d(t,"Global",function(){return h}),n.d(t,"createElement",function(){return f}),n.d(t,"jsx",function(){return f}),n.d(t,"keyframes",function(){return d});var i=n(7),o=n(0),a=(n.n(o),n(244),n(246));n.d(t,"CacheProvider",function(){return a.a}),n.d(t,"ThemeContext",function(){return a.c}),n.d(t,"withEmotionCache",function(){return a.f});var s=n(247),u=n(144),c=n(245),l=n(248);n.d(t,"css",function(){return l.a});var f=function(e,t){var n=arguments;if(null==t||!a.e.call(t,"css"))return o.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=a.b,i[1]=Object(a.d)(e,t);for(var s=2;s<r;s++)i[s]=n[s];return o.createElement.apply(null,i)},h=Object(a.f)(function(e,t){var n=e.styles;if("function"===typeof n)return Object(o.createElement)(a.c.Consumer,null,function(e){var r=Object(u.a)([n(e)]);return Object(o.createElement)(p,{serialized:r,cache:t})});var r=Object(u.a)([n]);return Object(o.createElement)(p,{serialized:r,cache:t})}),p=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new c.a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&Object(s.b)(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(o.Component),d=function(){var e=l.a.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},m=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else{a="";for(var s in o)o[s]&&s&&(a&&(a+=" "),a+=s)}break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},y=Object(a.f)(function(e,t){return Object(o.createElement)(a.c.Consumer,null,function(n){var i=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object(u.a)(n,t.registered);return Object(s.b)(t,i,!1),t.key+"-"+i.name},o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r(t.registered,i,m(n))},a={css:i,cx:o,theme:n},c=e.children(a);return!0,c})})},function(e,t,n){"use strict";function r(e){e&&a.current.insert(e+"}")}var i=n(245),o=n(531),a=(n(532),{current:null}),s=function(e,t,n,i,o,s,u,c,l,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return a.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+"/*|*/";break;case 3:switch(c){case 102:case 112:return a.current.insert(n[0]+t),"";default:return t+(0===f?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(r)}},u=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r,u=new o.a(t),c={};r=e.container||document.head;var l=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(l,function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach(function(e){c[e]=!0}),e.parentNode!==r&&r.appendChild(e)});var f;u.use(e.stylisPlugins)(s),f=function(e,t,n,r){var i=t.name;a.current=n;u(e,t.styles),r&&(h.inserted[i]=!0)};var h={key:n,sheet:new i.a({key:n,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:c,registered:{},insert:f};return h};t.a=u},function(e,t,n){"use strict";function r(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function i(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}n.d(t,"a",function(){return o});var o=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=i(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=r(o);try{var s=105===e.charCodeAt(1)&&64===e.charCodeAt(0);a.insertRule(e,s?0:a.cssRules.length)}catch(e){}}else o.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return h});var r=n(89),i=(n.n(r),n(0)),o=(n.n(i),n(244)),a=n(247),s=n(144),u=Object.prototype.hasOwnProperty,c=Object(i.createContext)("undefined"!==typeof HTMLElement?Object(o.a)():null),l=Object(i.createContext)({}),f=c.Provider,h=function(e){var t=function(t,n){return Object(i.createElement)(c.Consumer,null,function(r){return e(t,r,n)})};return Object(i.forwardRef)(t)},p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d=function(e,t){var n={};for(var r in t)u.call(t,r)&&(n[r]=t[r]);n[p]=e;return n},m=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"===typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var c=t[p],l=[o],f="";"string"===typeof t.className?f=Object(a.a)(e.registered,l,t.className):null!=t.className&&(f=t.className+" ");var h=Object(s.a)(l);Object(a.b)(e,h,"string"===typeof c);f+=e.key+"-"+h.name;var d={};for(var m in t)u.call(t,m)&&"css"!==m&&m!==p&&(d[m]=t[m]);return d.ref=r,d.className=f,Object(i.createElement)(c,d)},y=h(function(e,t,n){return"function"===typeof e.css?Object(i.createElement)(l.Consumer,null,function(r){return m(t,e,r,n)}):m(t,e,null,n)})},function(e,t,n){"use strict";function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "}),r}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var i=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(i.a)(t)}var i=n(144);t.a=r},function(e,t,n){"use strict";t.a={disabled:!1}},function(e,t,n){"use strict";var r=n(1);n.n(r)},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(9),a=n(7),s=n(1),u=(n.n(s),n(0)),c=n.n(u),l=n(147),f=n(542),h=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},p={component:"div",childFactory:function(e){return e}},d=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=r.handleExited.bind(Object(o.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?Object(f.b)(e,r):Object(f.c)(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=Object(f.a)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(r.a)(e,["component","childFactory"]),o=this.state.contextValue,a=h(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?c.a.createElement(l.a.Provider,{value:o},a):c.a.createElement(l.a.Provider,{value:o},c.a.createElement(t,i,a))},t}(c.a.Component);d.propTypes={},d.defaultProps=p,t.a=d},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(90),c={children:s.a.node},l=function(e){return o.a.createElement(u.a,Object(r.a)({group:!0},e))};l.propTypes=c,t.a=l},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(255),o=Object.keys,a=o?function(e){return o(e)}:n(577),s=Object.keys;a.shim=function(){if(Object.keys){(function(){var e=Object.keys(arguments);return e&&e.length===arguments.length})(1,2)||(Object.keys=function(e){return s(i(e)?r.call(e):e)})}else Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(257),i=n(154),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},function(e,t,n){"use strict";var r=SyntaxError,i=Function,o=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new o},c=s?function(){try{return arguments.callee,u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,l=n(579)(),f=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"===typeof Uint8Array?void 0:f(Uint8Array),d={"%AggregateError%":"undefined"===typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?f([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"===typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?f(f([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&l?f((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&l?f((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?f(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet},m=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return d[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(153),g=n(581),b=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,O=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return w(e,T,function(e,t,n,r){i[i.length]=n?w(r,S,"$1"):t||e}),i},C=function(e,t){var n,i=e;if(g(y,i)&&(n=y[i],i="%"+n[0]+"%"),g(d,i)){var a=d[i];if(a===h&&(a=m(i)),"undefined"===typeof a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');var n=O(e),i=n.length>0?n[0]:"",a=C("%"+i+"%",t),u=a.name,c=a.value,l=!1,f=a.alias;f&&(i=f[0],_(n,b([0,1],f)));for(var h=1,p=!0;h<n.length;h+=1){var m=n[h],y=E(m,0,1),v=E(m,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==m&&p||(l=!0),i+="."+m,u="%"+i+"%",g(d,u))c=d[u];else if(null!=c){if(!(m in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&h+1>=n.length){var w=s(c,m);p=!!w,c=p&&"get"in w&&!("originalValue"in w.get)?w.get:c[m]}else p=g(c,m),c=c[m];p&&!l&&(d[u]=c)}}return c}},function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;e[t]=42;for(t in e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(259);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},function(e,t,n){"use strict";var r=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var r=n(261),i=n(62).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof/a/.dotAll)return e.get}return r}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=function(e){return Array.isArray(e)?e[0]:e},i=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},o=function(e,t){if("function"===typeof e)return i(e,t);null!=e&&(e.current=t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(){}t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),u=r(n(0)),c=r(n(25)),l=n(265),f=(n(266),"unmounted");t.UNMOUNTED=f;var h="exited";t.EXITED=h;var p="entering";t.ENTERING=p;var d="entered";t.ENTERED=d;t.EXITING="exiting";var m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=h,r.appearStatus=p):i=d:i=t.unmountOnExit||t.mountOnEnter?f:h,r.state={status:i},r.nextCallback=null,r}o(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:h}:null},n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==d&&(t=p):n!==p&&n!==d||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=c.default.findDOMNode(this);t===p?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:f})},n.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;if(!t&&!r)return void this.safeSetState({status:d},function(){n.props.onEntered(e)});this.props.onEnter(e,i),this.safeSetState({status:p},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,function(){n.safeSetState({status:d},function(){n.props.onEntered(e,i)})})})},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();if(!n)return void this.safeSetState({status:h},function(){t.props.onExited(e)});this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:h},function(){t.props.onExited(e)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;if(!e||r)return void setTimeout(this.nextCallback,0);this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,r=i(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=u.default.Children.only(n);return u.default.cloneElement(o,r)},t}(u.default.Component);m.contextTypes={transitionGroup:s.object},m.childContextTypes={transitionGroup:function(){}},m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:a,onEntering:a,onEntered:a,onExit:a,onExiting:a,onExited:a},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;var y=(0,l.polyfill)(m);t.default=y},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){function t(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}this.setState(t.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;!function(e){e&&e.__esModule}(n(1));t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.__esModule=!0,t.default=void 0;var u=r(n(1)),c=r(n(0)),l=n(265),f=n(604),h=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},p={component:"div",childFactory:function(e){return e}},d=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=r.handleExited.bind(s(s(r)));return r.state={handleExited:i,firstRender:!0},r}a(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},n.componentDidMount=function(){this.appeared=!0,this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,f.getInitialChildMapping)(e,r):(0,f.getNextChildMapping)(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=(0,f.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=o({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=i(e,["component","childFactory"]),o=h(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:c.default.createElement(t,r,o)},t}(c.default.Component);d.childContextTypes={transitionGroup:u.default.object.isRequired},d.propTypes={},d.defaultProps=p;var m=(0,l.polyfill)(d);t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r=n(9),i=n(7),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(157),h=n(3),p=function(e){function t(t){var n;return n=e.call(this,t)||this,n.handleKeyPress=n.handleKeyPress.bind(Object(r.a)(n)),n.renderItems=n.renderItems.bind(Object(r.a)(n)),n.hoverStart=n.hoverStart.bind(Object(r.a)(n)),n.hoverEnd=n.hoverEnd.bind(Object(r.a)(n)),n.handleTouchStart=n.handleTouchStart.bind(Object(r.a)(n)),n.handleTouchEnd=n.handleTouchEnd.bind(Object(r.a)(n)),n.touchStartX=0,n.touchStartY=0,n.state={activeIndex:n.props.activeIndex,direction:"right",indicatorClicked:!1},n}Object(i.a)(t,e);var n=t.prototype;return n.getChildContext=function(){return{direction:this.state.direction}},n.componentDidMount=function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)},t.getDerivedStateFromProps=function(e,t){var n=null,r=t.activeIndex,i=t.direction,o=t.indicatorClicked;return e.activeIndex!==r&&(e.activeIndex===r+1?i="right":e.activeIndex===r-1?i="left":e.activeIndex<r?i=o?"left":"right":e.activeIndex!==r&&(i=o?"right":"left"),n={activeIndex:e.activeIndex,direction:i,indicatorClicked:!1}),n},n.componentDidUpdate=function(e,t){t.activeIndex!==this.state.activeIndex&&this.setInterval(this.props)},n.componentWillUnmount=function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)},n.setInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){void 0===e&&(e=this.props),this.clearInterval(),e.interval&&(this.cycleInterval=setInterval(function(){e.next()},parseInt(e.interval,10)))}),n.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearInterval(this.cycleInterval)}),n.hoverStart=function(){if("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter){var e;(e=this.props).mouseEnter.apply(e,arguments)}},n.hoverEnd=function(){if("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave){var e;(e=this.props).mouseLeave.apply(e,arguments)}},n.handleKeyPress=function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())},n.handleTouchStart=function(e){this.props.enableTouch&&(this.touchStartX=e.changedTouches[0].screenX,this.touchStartY=e.changedTouches[0].screenY)},n.handleTouchEnd=function(e){if(this.props.enableTouch){var t=e.changedTouches[0].screenX,n=e.changedTouches[0].screenY,r=Math.abs(this.touchStartX-t);r<Math.abs(this.touchStartY-n)||r<40||(t<this.touchStartX?this.props.next():this.props.previous())}},n.renderItems=function(e,t){var n=this,r=this.props.slide;return a.a.createElement("div",{className:t},e.map(function(e,t){var i=t===n.state.activeIndex;return a.a.cloneElement(e,{in:i,slide:r})}))},n.render=function(){var e=this,t=this.props,n=t.cssModule,r=t.slide,i=t.className,o=Object(h.p)(l()(i,"carousel",r&&"slide"),n),s=Object(h.p)(l()("carousel-inner"),n),u=this.props.children.filter(function(e){return null!==e&&void 0!==e&&"boolean"!==typeof e});if(u.every(function(e){return e.type===f.a}))return a.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(u,s));if(u[0]instanceof Array){var c=u[0],p=u[1],d=u[2];return a.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(c,s),p,d)}var m=u[0],y=function(t){"function"===typeof m.props.onClickHandler&&e.setState({indicatorClicked:!0},function(){return m.props.onClickHandler(t)})},v=a.a.cloneElement(m,{onClickHandler:y}),g=u[1],b=u[2],_=u[3];return a.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},v,this.renderItems(g,s),b,_)},t}(a.a.Component);p.propTypes={activeIndex:u.a.number,next:u.a.func.isRequired,previous:u.a.func.isRequired,keyboard:u.a.bool,pause:u.a.oneOf(["hover",!1]),ride:u.a.oneOf(["carousel"]),interval:u.a.oneOfType([u.a.number,u.a.string,u.a.bool]),children:u.a.array,mouseEnter:u.a.func,mouseLeave:u.a.func,slide:u.a.bool,cssModule:u.a.object,className:u.a.string,enableTouch:u.a.bool},p.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0,enableTouch:!0},p.childContextTypes={direction:u.a.string},t.a=p},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),c=n(3),l=function(e){var t=e.direction,n=e.onClickHandler,r=e.cssModule,o=e.directionText,a=e.className,s=Object(c.p)(u()(a,"carousel-control-"+t),r),l=Object(c.p)(u()("carousel-control-"+t+"-icon"),r),f=Object(c.p)(u()("sr-only"),r);return i.a.createElement("a",{className:s,style:{cursor:"pointer"},role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},i.a.createElement("span",{className:l,"aria-hidden":"true"}),i.a.createElement("span",{className:f},o||t))};l.propTypes={direction:a.a.oneOf(["prev","next"]).isRequired,onClickHandler:a.a.func.isRequired,cssModule:a.a.object,directionText:a.a.string,className:a.a.string},t.a=l},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),c=n(3),l=function(e){var t=e.items,n=e.activeIndex,r=e.cssModule,o=e.onClickHandler,a=e.className,s=Object(c.p)(u()(a,"carousel-indicators"),r),l=t.map(function(e,t){var a=Object(c.p)(u()({active:n===t}),r);return i.a.createElement("li",{key:""+(e.key||Object.values(e).join("")),onClick:function(e){e.preventDefault(),o(t)},className:a})});return i.a.createElement("ol",{className:s},l)};l.propTypes={items:a.a.array.isRequired,activeIndex:a.a.number.isRequired,cssModule:a.a.object,onClickHandler:a.a.func.isRequired,className:a.a.string},t.a=l},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),c=n(3),l=function(e){var t=e.captionHeader,n=e.captionText,r=e.cssModule,o=e.className,a=Object(c.p)(u()(o,"carousel-caption","d-none","d-md-block"),r);return i.a.createElement("div",{className:a},i.a.createElement("h3",null,t),i.a.createElement("p",null,n))};l.propTypes={captionHeader:a.a.node,captionText:a.a.node.isRequired,cssModule:a.a.object,className:a.a.string},t.a=l},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(3),d={className:l.a.string,id:l.a.oneOfType([l.a.string,l.a.number]).isRequired,label:l.a.node,valid:l.a.bool,invalid:l.a.bool,bsSize:l.a.string,htmlFor:l.a.string,cssModule:l.a.object,onChange:l.a.func,children:l.a.oneOfType([l.a.node,l.a.array,l.a.func]),innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},m=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={files:null},n.onChange=n.onChange.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onChange=function(e){var t=e.target,n=this.props.onChange,r=this.getSelectedFiles(t);"function"===typeof n&&n.apply(void 0,arguments),this.setState({files:r})},n.getSelectedFiles=function(e){if(this.props.multiple&&e.files)return[].slice.call(e.files).map(function(e){return e.name}).join(", ");if(-1!==e.value.indexOf("fakepath")){var t=e.value.split("\\");return t[t.length-1]}return e.value},n.render=function(){var e=this.props,t=e.className,n=e.label,o=e.valid,a=e.invalid,s=e.cssModule,c=e.children,l=(e.bsSize,e.innerRef),f=e.htmlFor,d=(e.type,e.onChange,e.dataBrowse),m=e.hidden,y=Object(i.a)(e,["className","label","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor","type","onChange","dataBrowse","hidden"]),v=Object(p.p)(h()(t,"custom-file"),s),g=Object(p.p)(h()(a&&"is-invalid",o&&"is-valid"),s),b=f||y.id,_=this.state.files;return u.a.createElement("div",{className:v,hidden:m||!1},u.a.createElement("input",Object(r.a)({type:"file"},y,{ref:l,"aria-invalid":a,className:h()(g,Object(p.p)("custom-file-input",s)),onChange:this.onChange})),u.a.createElement("label",{className:Object(p.p)("custom-file-label",s),htmlFor:b,"data-browse":d},_||n||"Choose file"),c)},t}(u.a.Component);m.propTypes=d,t.a=m},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(){}var a=n(2),s=n(4),u=n(9),c=n(7),l=n(15),f=n(0),h=n.n(f),p=n(1),d=n.n(p),m=n(25),y=n.n(m),v=n(5),g=n.n(v),b=n(91),_=n(3),w=n(64),E={children:d.a.oneOfType([d.a.node,d.a.func]).isRequired,popperClassName:d.a.string,placement:d.a.string,placementPrefix:d.a.string,arrowClassName:d.a.string,hideArrow:d.a.bool,tag:_.t,isOpen:d.a.bool.isRequired,cssModule:d.a.object,offset:d.a.oneOfType([d.a.string,d.a.number]),fallbackPlacement:d.a.oneOfType([d.a.string,d.a.array]),flip:d.a.bool,container:_.u,target:_.u.isRequired,modifiers:d.a.object,positionFixed:d.a.bool,boundariesElement:d.a.oneOfType([d.a.string,_.a]),onClosed:d.a.func,fade:d.a.bool,transition:d.a.shape(w.a.propTypes)},T={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{},onClosed:o,fade:!0,transition:i({},w.a.defaultProps)},S=function(e){function t(t){var n;return n=e.call(this,t)||this,n.setTargetNode=n.setTargetNode.bind(Object(u.a)(n)),n.getTargetNode=n.getTargetNode.bind(Object(u.a)(n)),n.getRef=n.getRef.bind(Object(u.a)(n)),n.onClosed=n.onClosed.bind(Object(u.a)(n)),n.state={isOpen:t.isOpen},n}Object(c.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null};var n=t.prototype;return n.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},n.setTargetNode=function(e){this.targetNode="string"===typeof e?Object(_.m)(e):e},n.getTargetNode=function(){return this.targetNode},n.getContainerNode=function(){return Object(_.m)(this.props.container)},n.getRef=function(e){this._element=e},n.onClosed=function(){this.props.onClosed(),this.setState({isOpen:!1})},n.renderChildren=function(){var e=this.props,t=e.cssModule,n=e.children,r=e.isOpen,o=e.flip,u=(e.target,e.offset),c=e.fallbackPlacement,l=e.placementPrefix,f=e.arrowClassName,p=e.hideArrow,d=e.popperClassName,m=e.tag,y=(e.container,e.modifiers),v=e.positionFixed,E=e.boundariesElement,T=(e.onClosed,e.fade),S=e.transition,O=e.placement,C=Object(s.a)(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","positionFixed","boundariesElement","onClosed","fade","transition","placement"]),N=Object(_.p)(g()("arrow",f),t),I=Object(_.p)(g()(d,l?l+"-auto":""),this.props.cssModule),k=i({offset:{offset:u},flip:{enabled:o,behavior:c},preventOverflow:{boundariesElement:E}},y),A=i(i(i({},w.a.defaultProps),S),{},{baseClass:T?S.baseClass:"",timeout:T?S.timeout:0});return h.a.createElement(w.a,Object(a.a)({},A,C,{in:r,onExited:this.onClosed,tag:m}),h.a.createElement(b.b,{referenceElement:this.targetNode,modifiers:k,placement:O,positionFixed:v},function(e){var t=e.ref,r=e.style,i=e.placement,o=e.outOfBoundaries,a=e.arrowProps,s=e.scheduleUpdate;return h.a.createElement("div",{ref:t,style:r,className:I,"x-placement":i,"x-out-of-boundaries":o?"true":void 0},"function"===typeof n?n({scheduleUpdate:s}):n,!p&&h.a.createElement("span",{ref:a.ref,className:N,style:a.style}))}))},n.render=function(){return this.setTargetNode(this.props.target),this.state.isOpen?"inline"===this.props.container?this.renderChildren():y.a.createPortal(h.a.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},t}(h.a.Component);S.propTypes=E,S.defaultProps=T,t.a=S},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n.n(i),a=n(5),s=n.n(a),u=n(275),c={placement:"right",placementPrefix:"bs-popover",trigger:"click"},l=function(e){var t=s()("popover","show",e.popperClassName),n=s()("popover-inner",e.innerClassName);return o.a.createElement(u.a,Object(r.a)({},e,{popperClassName:t,innerClassName:n}))};l.propTypes=u.b,l.defaultProps=c,t.a=l},function(e,t,n){"use strict";function r(e,t){return t&&(e===t||t.contains(e))}function i(e,t){return void 0===t&&(t=[]),t&&t.length&&t.filter(function(t){return r(e,t)})[0]}n.d(t,"b",function(){return d});var o=n(2),a=n(9),s=n(7),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(273),p=n(3),d={children:f.a.oneOfType([f.a.node,f.a.func]),placement:f.a.oneOf(p.b),target:p.u.isRequired,container:p.u,isOpen:f.a.bool,disabled:f.a.bool,hideArrow:f.a.bool,boundariesElement:f.a.oneOfType([f.a.string,p.a]),className:f.a.string,innerClassName:f.a.string,arrowClassName:f.a.string,popperClassName:f.a.string,cssModule:f.a.object,toggle:f.a.func,autohide:f.a.bool,placementPrefix:f.a.string,delay:f.a.oneOfType([f.a.shape({show:f.a.number,hide:f.a.number}),f.a.number]),modifiers:f.a.object,positionFixed:f.a.bool,offset:f.a.oneOfType([f.a.string,f.a.number]),innerRef:f.a.oneOfType([f.a.func,f.a.string,f.a.object]),trigger:f.a.string,fade:f.a.bool,flip:f.a.bool},m={show:0,hide:50},y={isOpen:!1,hideArrow:!1,autohide:!1,delay:m,toggle:function(){},trigger:"click",fade:!0},v=function(e){function t(t){var n;return n=e.call(this,t)||this,n._targets=[],n.currentTargetElement=null,n.addTargetEvents=n.addTargetEvents.bind(Object(a.a)(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Object(a.a)(n)),n.removeTargetEvents=n.removeTargetEvents.bind(Object(a.a)(n)),n.toggle=n.toggle.bind(Object(a.a)(n)),n.showWithDelay=n.showWithDelay.bind(Object(a.a)(n)),n.hideWithDelay=n.hideWithDelay.bind(Object(a.a)(n)),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(Object(a.a)(n)),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(Object(a.a)(n)),n.show=n.show.bind(Object(a.a)(n)),n.hide=n.hide.bind(Object(a.a)(n)),n.onEscKeyDown=n.onEscKeyDown.bind(Object(a.a)(n)),n.getRef=n.getRef.bind(Object(a.a)(n)),n.state={isOpen:t.isOpen},n._isMounted=!1,n}Object(s.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.updateTarget()},n.componentWillUnmount=function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()},t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null},n.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())},n.onMouseLeaveTooltipContent=function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))},n.onEscKeyDown=function(e){"Escape"===e.key&&this.hide(e)},n.getRef=function(e){var t=this.props.innerRef;t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e)),this._popover=e},n.getDelay=function(e){var t=this.props.delay;return"object"===typeof t?isNaN(t[e])?m[e]:t[e]:t},n.getCurrentTarget=function(e){if(!e)return null;var t=this._targets.indexOf(e);return t>=0?this._targets[t]:this.getCurrentTarget(e.parentElement)},n.show=function(e){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=e?e.currentTarget||this.getCurrentTarget(e.target):null,e&&e.composedPath&&"function"===typeof e.composedPath){var t=e.composedPath();this.currentTargetElement=t&&t[0]||this.currentTargetElement}this.toggle(e)}},n.showWithDelay=function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))},n.hide=function(e){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(e))},n.hideWithDelay=function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))},n.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},n.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},n.handleDocumentClick=function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||i(e.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!r(e.target,this._popover)?this.hideWithDelay(e):this.props.isOpen||this.showWithDelay(e)):t.indexOf("click")>-1&&i(e.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))},n.addEventOnTargets=function(e,t,n){this._targets.forEach(function(r){r.addEventListener(e,t,n)})},n.removeEventOnTargets=function(e,t,n){this._targets.forEach(function(r){r.removeEventListener(e,t,n)})},n.addTargetEvents=function(){if(this.props.trigger){var e=this.props.trigger.split(" ");-1===e.indexOf("manual")&&((e.indexOf("click")>-1||e.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(e.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),e.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}},n.removeTargetEvents=function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)},n.updateTarget=function(){var e=Object(p.m)(this.props.target,!0);e!==this._targets&&(this.removeTargetEvents(),this._targets=e?Array.from(e):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())},n.toggle=function(e){return this.props.disabled||!this._isMounted?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e=this;this.props.isOpen&&this.updateTarget();var t=this.currentTargetElement||this._targets[0];if(!t)return null;var n=this.props,r=n.className,i=n.cssModule,a=n.innerClassName,s=n.isOpen,u=n.hideArrow,l=n.boundariesElement,f=n.placement,m=n.placementPrefix,y=n.arrowClassName,v=n.popperClassName,g=n.container,b=n.modifiers,_=n.positionFixed,w=n.offset,E=n.fade,T=n.flip,S=n.children,O=Object(p.q)(this.props,Object.keys(d)),C=Object(p.p)(v,i),N=Object(p.p)(a,i);return c.a.createElement(h.a,{className:r,target:t,isOpen:s,hideArrow:u,boundariesElement:l,placement:f,placementPrefix:m,arrowClassName:y,popperClassName:C,container:g,modifiers:b,positionFixed:_,offset:w,cssModule:i,fade:E,flip:T},function(t){var n=t.scheduleUpdate;return c.a.createElement("div",Object(o.a)({},O,{ref:e.getRef,className:N,role:"tooltip",onMouseOver:e.onMouseOverTooltipContent,onMouseLeave:e.onMouseLeaveTooltipContent,onKeyDown:e.onEscKeyDown}),"function"===typeof S?S({scheduleUpdate:n}):S)})},t}(c.a.Component);v.propTypes=d,v.defaultProps=y,t.a=v},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n.n(i),a=n(5),s=n.n(a),u=n(275),c={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"},l=function(e){var t=s()("tooltip","show",e.popperClassName),n=s()("tooltip-inner",e.innerClassName);return o.a.createElement(u.a,Object(r.a)({},e,{popperClassName:t,innerClassName:n}))};l.propTypes=u.b,l.defaultProps=c,t.a=l},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"span"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"input-group-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p,t.a=d},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n.n(r),o=i.a.createContext({})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){var t=e.className,n=e.closeClassName,r=e.closeAriaLabel,o=e.cssModule,u=e.tag,c=e.color,f=e.isOpen,h=e.toggle,p=e.children,v=e.transition,g=e.fade,b=e.innerRef,_=Object(s.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),w=Object(m.p)(d()(t,"alert","alert-"+c,{"alert-dismissible":h}),o),E=Object(m.p)(d()("close",n),o),T=i(i(i({},y.a.defaultProps),v),{},{baseClass:g?v.baseClass:"",timeout:g?v.timeout:0});return l.a.createElement(y.a,Object(a.a)({},_,T,{tag:u,className:w,in:f,role:"alert",innerRef:b}),h?l.a.createElement("button",{type:"button",className:E,"aria-label":r,onClick:h},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,p)}var a=n(2),s=n(4),u=n(15),c=n(0),l=n.n(c),f=n(1),h=n.n(f),p=n(5),d=n.n(p),m=n(3),y=n(64),v={children:h.a.node,className:h.a.string,closeClassName:h.a.string,closeAriaLabel:h.a.string,cssModule:h.a.object,color:h.a.string,fade:h.a.bool,isOpen:h.a.bool,toggle:h.a.func,tag:m.t,transition:h.a.shape(y.a.propTypes),innerRef:h.a.oneOfType([h.a.object,h.a.string,h.a.func])},g={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:i(i({},y.a.defaultProps),{},{unmountOnExit:!0})};o.propTypes=v,o.defaultProps=g,t.a=o},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return T[e]||"collapse"}function a(e){return e.scrollHeight}var s,u=n(2),c=n(4),l=n(9),f=n(7),h=n(15),p=n(0),d=n.n(p),m=n(1),y=n.n(m),v=n(5),g=n.n(v),b=n(156),_=(n.n(b),n(3)),w=i(i({},b.Transition.propTypes),{},{isOpen:y.a.bool,children:y.a.oneOfType([y.a.arrayOf(y.a.node),y.a.node]),tag:_.t,className:y.a.node,navbar:y.a.bool,cssModule:y.a.object,innerRef:y.a.oneOfType([y.a.func,y.a.string,y.a.object])}),E=i(i({},b.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:_.e.Collapse}),T=(s={},s[_.d.ENTERING]="collapsing",s[_.d.ENTERED]="collapse show",s[_.d.EXITING]="collapsing",s[_.d.EXITED]="collapse",s),S=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(e){n[e]=n[e].bind(Object(l.a)(n))}),n}Object(f.a)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:a(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:a(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,r=t.isOpen,a=t.className,s=t.navbar,l=t.cssModule,f=t.children,h=(t.innerRef,Object(c.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),p=this.state.height,m=Object(_.r)(h,_.c),y=Object(_.q)(h,_.c);return d.a.createElement(b.Transition,Object(u.a)({},m,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var r=o(t),c=Object(_.p)(g()(a,r,s&&"navbar-collapse"),l),h=null===p?null:{height:p};return d.a.createElement(n,Object(u.a)({},y,{style:i(i({},y.style),h),className:c,ref:e.props.innerRef}),f)})},t}(p.Component);S.propTypes=w,S.defaultProps=E,t.a=S},function(e,t,n){n(282),e.exports=n(287)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(283).enable(),window.Promise=n(285)),n(286),Object.assign=n(92)},function(e,t,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=l++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},c&&r(),c=!0;var i=0,l=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(158),u=[ReferenceError,TypeError,RangeError],c=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>c){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,u=0,c=1024,l="undefined"!==typeof t?t:self,f=l.MutationObserver||l.WebKitMutationObserver;o="function"===typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(33))},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(158);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return c;if(""===e)return l;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];y.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new y(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=n(25),a=n.n(o),s=n(292),u=(n.n(s),n(293)),c=n(664),l=n(14),f=n(665),h=n(11),p=n(669),d=n(20),m=(n.n(d),n(18)),y=(n.n(m),n(670)),v=Object(l.e)(f.a,Object(l.d)(Object(l.a)(p.a.withExtraArgument({getFirebase:m.getFirebase,getFirestore:d.getFirestore})),Object(m.reactReduxFirebase)(y.a,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0}),Object(d.reduxFirestore)(y.a)));v.firebaseAuthIsReady.then(function(){a.a.render(i.a.createElement(h.a,{store:v},i.a.createElement(u.a,null)),document.getElementById("root")),Object(c.a)()})},function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||D}function o(){}function a(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||D}function s(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)F.call(t,r)&&!U.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:E,type:e,key:o,ref:a,props:i,_owner:L.current}}function u(e,t){return{$$typeof:E,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c(e){return"object"===typeof e&&null!==e&&e.$$typeof===E}function l(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function f(e,t,n,r){if(V.length){var i=V.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function h(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>V.length&&V.push(e)}function p(e,t,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case E:case T:a=!0}}if(a)return n(i,e,""===t?"."+m(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+m(o,s);a+=p(o,u,n,i)}else if(null===e||"object"!==typeof e?u=null:(u=R&&e[R]||e["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+m(o,s++),a+=p(o,u,n,i);else if("object"===o)throw n=""+e,Error(r(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function d(e,t,n){return null==e?0:p(e,"",t,n)}function m(e,t){return"object"===typeof e&&null!==e&&null!=e.key?l(e.key):t.toString(36)}function y(e,t){e.func.call(e.context,t,e.count++)}function v(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,function(e){return e}):null!=e&&(c(e)&&(e=u(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(q,"$&/")+"/")+n)),r.push(e))}function g(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(q,"$&/")+"/"),t=f(t,o,r,i),d(e,v,t),h(t)}function b(){var e=B.current;if(null===e)throw Error(r(321));return e}var _=n(92),w="function"===typeof Symbol&&Symbol.for,E=w?Symbol.for("react.element"):60103,T=w?Symbol.for("react.portal"):60106,S=w?Symbol.for("react.fragment"):60107,O=w?Symbol.for("react.strict_mode"):60108,C=w?Symbol.for("react.profiler"):60114,N=w?Symbol.for("react.provider"):60109,I=w?Symbol.for("react.context"):60110,k=w?Symbol.for("react.forward_ref"):60112,A=w?Symbol.for("react.suspense"):60113,x=w?Symbol.for("react.memo"):60115,P=w?Symbol.for("react.lazy"):60116,R="function"===typeof Symbol&&Symbol.iterator,D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j={};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(r(85));this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=i.prototype;var M=a.prototype=new o;M.constructor=a,_(M,i.prototype),M.isPureReactComponent=!0;var L={current:null},F=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0},q=/\/+/g,V=[],B={current:null},W={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:L,IsSomeRendererActing:{current:!1},assign:_};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=f(null,null,t,n),d(e,y,t),h(t)},count:function(e){return d(e,function(){return null},null)},toArray:function(e){var t=[];return g(e,t,null,function(e){return e}),t},only:function(e){if(!c(e))throw Error(r(143));return e}},t.Component=i,t.Fragment=S,t.Profiler=C,t.PureComponent=a,t.StrictMode=O,t.Suspense=A,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(r(267,e));var i=_({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=L.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)F.call(t,c)&&!U.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:E,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:I,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:N,_context:e},e.Consumer=e},t.createElement=s,t.createFactory=function(e){var t=s.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:k,render:e}},t.isValidElement=c,t.lazy=function(e){return{$$typeof:P,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:x,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return b().useCallback(e,t)},t.useContext=function(e,t){return b().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return b().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return b().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return b().useLayoutEffect(e,t)},t.useMemo=function(e,t){return b().useMemo(e,t)},t.useReducer=function(e,t,n){return b().useReducer(e,t,n)},t.useRef=function(e){return b().useRef(e)},t.useState=function(e){return b().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}function o(e,t,n,r,o,a,s,u,c){Vi=!1,Bi=null,i.apply(Hi,arguments)}function a(e,t,n,i,a,s,u,c,l){if(o.apply(this,arguments),Vi){if(!Vi)throw Error(r(198));var f=Bi;Vi=!1,Bi=null,Wi||(Wi=!0,zi=f)}}function s(e,t,n){var r=e.type||"unknown-event";e.currentTarget=Gi(n),a(r,t,void 0,e),e.currentTarget=null}function u(){if(Yi)for(var e in $i){var t=$i[e],n=Yi.indexOf(e);if(!(-1<n))throw Error(r(96,e));if(!Xi[n]){if(!t.extractEvents)throw Error(r(97,e));Xi[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,a=n[i],s=t,u=i;if(Ji.hasOwnProperty(u))throw Error(r(99,u));Ji[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&c(l[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;if(!o)throw Error(r(98,i,e))}}}}function c(e,t,n){if(Zi[e])throw Error(r(100,e));Zi[e]=t,eo[e]=t.eventTypes[n].dependencies}function l(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!$i.hasOwnProperty(t)||$i[t]!==i){if($i[t])throw Error(r(102,t));$i[t]=i,n=!0}}n&&u()}function f(e){if(e=Ki(e)){if("function"!==typeof no)throw Error(r(280));var t=e.stateNode;t&&(t=Qi(t),no(e.stateNode,e.type,t))}}function h(e){ro?io?io.push(e):io=[e]:ro=e}function p(){if(ro){var e=ro,t=io;if(io=ro=null,f(e),t)for(e=0;e<t.length;e++)f(t[e])}}function d(e,t){return e(t)}function m(e,t,n,r,i){return e(t,n,r,i)}function y(){}function v(){null===ro&&null===io||(y(),p())}function g(e,t,n){if(so)return e(t,n);so=!0;try{return oo(e,t,n)}finally{so=!1,v()}}function b(e){return!!co.call(fo,e)||!co.call(lo,e)&&(uo.test(e)?fo[e]=!0:(lo[e]=!0,!1))}function _(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function w(e,t,n,r){if(null===t||"undefined"===typeof t||_(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}function T(e){return e[1].toUpperCase()}function S(e,t,n,r){var i=ho.hasOwnProperty(t)?ho[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(w(t,n,i,r)&&(n=null),r||null===i?b(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function O(e){return null===e||"object"!==typeof e?null:(e=Ro&&e[Ro]||e["@@iterator"],"function"===typeof e?e:null)}function C(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function N(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case wo:return"Fragment";case _o:return"Portal";case To:return"Profiler";case Eo:return"StrictMode";case Io:return"Suspense";case ko:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Oo:return"Context.Consumer";case So:return"Context.Provider";case No:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Ao:return N(e.type);case Po:return N(e.render);case xo:if(e=1===e._status?e._result:null)return N(e)}return null}function I(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=N(e.type);n=null,r&&(n=N(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(vo,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function k(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function A(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function x(e){var t=A(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P(e){e._valueTracker||(e._valueTracker=x(e))}function R(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=A(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function D(e,t){var n=t.checked;return Ui({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function j(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=k(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function M(e,t){null!=(t=t.checked)&&S(e,"checked",t,!1)}function L(e,t){M(e,t);var n=k(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?U(e,t.type,n):t.hasOwnProperty("defaultValue")&&U(e,t.type,k(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function F(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function U(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function q(e){var t="";return Fi.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function V(e,t){return e=Ui({children:void 0},t),(t=q(t.children))&&(e.children=t),e}function B(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+k(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function W(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return Ui({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function z(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:k(n)}}function H(e,t){var n=k(t.value),r=k(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Q(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function K(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?K(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function Y(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function $(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function X(e){if(Lo[e])return Lo[e];if(!Mo[e])return e;var t,n=Mo[e];for(t in n)if(n.hasOwnProperty(t)&&t in Fo)return Lo[e]=n[t];return e}function J(e){var t=Ko.get(e);return void 0===t&&(t=new Map,Ko.set(e,t)),t}function Z(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ee(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function te(e){if(Z(e)!==e)throw Error(r(188))}function ne(e){var t=e.alternate;if(!t){if(null===(t=Z(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return te(o),e;if(a===i)return te(o),t;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function re(e){if(!(e=ne(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ie(e,t){if(null==t)throw Error(r(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function oe(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function ae(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)s(e,t[r],n[r]);else t&&s(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function se(e){if(null!==e&&(Go=ie(Go,e)),e=Go,Go=null,e){if(oe(e,ae),Go)throw Error(r(95));if(Wi)throw e=zi,Wi=!1,zi=null,e}}function ue(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ce(e){if(!to)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t}function le(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Yo.length&&Yo.push(e)}function fe(e,t,n,r){if(Yo.length){var i=Yo.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function he(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;t=n.tag,5!==t&&6!==t||e.ancestors.push(n),n=Ge(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ue(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<Xi.length;u++){var c=Xi[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=ie(s,c))}se(s)}}function pe(e,t,n){if(!n.has(e)){switch(e){case"scroll":Ne(t,"scroll",!0);break;case"focus":case"blur":Ne(t,"focus",!0),Ne(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(e)&&Ne(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qo.indexOf(e)&&Ce(e,t)}n.set(e,null)}}function de(e,t){var n=J(t);ia.forEach(function(e){pe(e,t,n)}),oa.forEach(function(e){pe(e,t,n)})}function me(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function ye(e,t){switch(e){case"focus":case"blur":Jo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(t.pointerId)}}function ve(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=me(t,n,r,i,o),null!==t&&null!==(t=Ye(t))&&qo(t),e):(e.eventSystemFlags|=r,e)}function ge(e,t,n,r,i){switch(t){case"focus":return Jo=ve(Jo,e,t,n,r,i),!0;case"dragenter":return Zo=ve(Zo,e,t,n,r,i),!0;case"mouseover":return ea=ve(ea,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ta.set(o,ve(ta.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,na.set(o,ve(na.get(o)||null,e,t,n,r,i)),!0}return!1}function be(e){var t=Ge(e.target);if(null!==t){var n=Z(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ee(n)))return e.blockedOn=t,void qi.unstable_runWithPriority(e.priority,function(){Vo(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _e(e){if(null!==e.blockedOn)return!1;var t=xe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Ye(t);return null!==n&&qo(n),e.blockedOn=t,!1}return!0}function we(e,t,n){_e(e)&&n.delete(t)}function Ee(){for($o=!1;0<Xo.length;){var e=Xo[0];if(null!==e.blockedOn){e=Ye(e.blockedOn),null!==e&&Uo(e);break}var t=xe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Xo.shift()}null!==Jo&&_e(Jo)&&(Jo=null),null!==Zo&&_e(Zo)&&(Zo=null),null!==ea&&_e(ea)&&(ea=null),ta.forEach(we),na.forEach(we)}function Te(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,Ee)))}function Se(e){function t(t){return Te(t,e)}if(0<Xo.length){Te(Xo[0],e);for(var n=1;n<Xo.length;n++){var r=Xo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Jo&&Te(Jo,e),null!==Zo&&Te(Zo,e),null!==ea&&Te(ea,e),ta.forEach(t),na.forEach(t),n=0;n<ra.length;n++)r=ra[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ra.length&&(n=ra[0],null===n.blockedOn);)be(n),null===n.blockedOn&&ra.shift()}function Oe(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},ua.set(r,t),sa.set(r,o),aa[i]=o}}function Ce(e,t){Ne(t,e,!1)}function Ne(e,t,n){var r=ua.get(t);switch(void 0===r?2:r){case 0:r=Ie.bind(null,t,1,e);break;case 1:r=ke.bind(null,t,1,e);break;default:r=Ae.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Ie(e,t,n,r){ao||y();var i=Ae,o=ao;ao=!0;try{m(i,e,t,n,r)}finally{(ao=o)||v()}}function ke(e,t,n,r){pa(ha,Ae.bind(null,e,t,n,r))}function Ae(e,t,n,r){if(da)if(0<Xo.length&&-1<ia.indexOf(e))e=me(null,e,t,n,r),Xo.push(e);else{var i=xe(e,t,n,r);if(null===i)ye(e,r);else if(-1<ia.indexOf(e))e=me(i,e,t,n,r),Xo.push(e);else if(!ge(i,e,t,n,r)){ye(e,r),e=fe(e,r,null,t);try{g(he,e)}finally{le(e)}}}}function xe(e,t,n,r){if(n=ue(r),null!==(n=Ge(n))){var i=Z(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=ee(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=fe(e,r,n,t);try{g(he,e)}finally{le(e)}return null}function Pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ma.hasOwnProperty(e)&&ma[e]?(""+t).trim():t+"px"}function Re(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function De(e,t){if(t){if(va[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62,""))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Me(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=J(e);t=eo[t];for(var r=0;r<t.length;r++)pe(t[r],e,n)}function Le(){}function Fe(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qe(e,t){var n=Ue(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ue(n)}}function Ve(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ve(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Be(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=Fe(e.document)}return t}function We(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ze(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function He(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Qe(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ke(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===ba||n===Ea||n===wa){if(0===t)return e;t--}else n===_a&&t++}e=e.previousSibling}return null}function Ge(e){var t=e[Ia];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Aa]||n[Ia]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ke(e);null!==e;){if(n=e[Ia])return n;e=Ke(e)}return t}e=n,n=e.parentNode}return null}function Ye(e){return e=e[Ia]||e[Aa],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function $e(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Xe(e){return e[ka]||null}function Je(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ze(e,t){var n=e.stateNode;if(!n)return null;var i=Qi(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}function et(e,t,n){(t=Ze(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=ie(n._dispatchListeners,t),n._dispatchInstances=ie(n._dispatchInstances,e))}function tt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Je(t);for(t=n.length;0<t--;)et(n[t],"captured",e);for(t=0;t<n.length;t++)et(n[t],"bubbled",e)}}function nt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Ze(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ie(n._dispatchListeners,t),n._dispatchInstances=ie(n._dispatchInstances,e))}function rt(e){e&&e.dispatchConfig.registrationName&&nt(e._targetInst,null,e)}function it(e){oe(e,tt)}function ot(){if(Ra)return Ra;var e,t,n=Pa,r=n.length,i="value"in xa?xa.value:xa.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Ra=i.slice(e,1<t?1-t:void 0)}function at(){return!0}function st(){return!1}function ut(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?at:st,this.isPropagationStopped=st,this}function ct(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function lt(e){if(!(e instanceof this))throw Error(r(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function ft(e){e.eventPool=[],e.getPooled=ct,e.release=lt}function ht(e,t){switch(e){case"keyup":return-1!==Ma.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function pt(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function dt(e,t){switch(e){case"compositionend":return pt(t);case"keypress":return 32!==t.which?null:(Wa=!0,Va);case"textInput":return e=t.data,e===Va&&Wa?null:e;default:return null}}function mt(e,t){if(za)return"compositionend"===e||!La&&ht(e,t)?(e=ot(),Ra=Pa=xa=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qa&&"ko"!==t.locale?null:t.data;default:return null}}function yt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qa[e.type]:"textarea"===t}function vt(e,t,n){return e=ut.getPooled(Ka.change,e,t,n),e.type="change",h(n),it(e),e}function gt(e){se(e)}function bt(e){if(R($e(e)))return e}function _t(e,t){if("change"===e)return t}function wt(){Ga&&(Ga.detachEvent("onpropertychange",Et),Ya=Ga=null)}function Et(e){if("value"===e.propertyName&&bt(Ya))if(e=vt(Ya,e,ue(e)),ao)se(e);else{ao=!0;try{d(gt,e)}finally{ao=!1,v()}}}function Tt(e,t,n){"focus"===e?(wt(),Ga=t,Ya=n,Ga.attachEvent("onpropertychange",Et)):"blur"===e&&wt()}function St(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return bt(Ya)}function Ot(e,t){if("click"===e)return bt(t)}function Ct(e,t){if("input"===e||"change"===e)return bt(t)}function Nt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Za[e])&&!!t[e]}function It(){return Nt}function kt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function At(e,t){if(us(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cs.call(t,n[r])||!us(e[n[r]],t[n[r]]))return!1;return!0}function xt(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ms||null==hs||hs!==Fe(n)?null:(n=hs,"selectionStart"in n&&We(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ds&&At(ds,n)?null:(ds=n,e=ut.getPooled(fs.select,ps,e,t),e.type="select",e.target=hs,it(e),e))}function Pt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Rt(e){0>Ds||(e.current=Rs[Ds],Rs[Ds]=null,Ds--)}function Dt(e,t){Ds++,Rs[Ds]=e.current,e.current=t}function jt(e,t){var n=e.type.contextTypes;if(!n)return js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lt(){Rt(Ls),Rt(Ms)}function Ft(e,t,n){if(Ms.current!==js)throw Error(r(168));Dt(Ms,t),Dt(Ls,n)}function Ut(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(r(108,N(t)||"Unknown",o));return Ui({},n,{},i)}function qt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,Fs=Ms.current,Dt(Ms,e),Dt(Ls,Ls.current),!0}function Vt(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Ut(e,t,Fs),i.__reactInternalMemoizedMergedChildContext=e,Rt(Ls),Rt(Ms),Dt(Ms,e)):Rt(Ls),Dt(Ls,n)}function Bt(){switch(zs()){case Hs:return 99;case Qs:return 98;case Ks:return 97;case Gs:return 96;case Ys:return 95;default:throw Error(r(332))}}function Wt(e){switch(e){case 99:return Hs;case 98:return Qs;case 97:return Ks;case 96:return Gs;case 95:return Ys;default:throw Error(r(332))}}function zt(e,t){return e=Wt(e),Us(e,t)}function Ht(e,t,n){return e=Wt(e),qs(e,t,n)}function Qt(e){return null===Zs?(Zs=[e],eu=qs(Hs,Gt)):Zs.push(e),$s}function Kt(){if(null!==eu){var e=eu;eu=null,Vs(e)}Gt()}function Gt(){if(!tu&&null!==Zs){tu=!0;var e=0;try{var t=Zs;zt(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Zs=null}catch(t){throw null!==Zs&&(Zs=Zs.slice(e+1)),qs(Hs,Kt),t}finally{tu=!1}}}function Yt(e,t,n){return n/=10,1073741821-(1+((1073741821-e+t/10)/n|0))*n}function $t(e,t){if(e&&e.defaultProps){t=Ui({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function Xt(){su=au=ou=null}function Jt(e){var t=iu.current;Rt(iu),e.type._context._currentValue=t}function Zt(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function en(e,t){ou=e,su=au=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ju=!0),e.firstContext=null)}function tn(e,t){if(su!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(su=e,t=1073741823),t={context:e,observedBits:t,next:null},null===au){if(null===ou)throw Error(r(308));au=t,ou.dependencies={expirationTime:0,firstContext:t,responders:null}}else au=au.next=t;return e._currentValue}function nn(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function rn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function on(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function an(e,t){if(null!==(e=e.updateQueue)){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function sn(e,t){var n=e.alternate;null!==n&&rn(n,e),e=e.updateQueue,n=e.baseQueue,null===n?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function un(e,t,n,r){var i=e.updateQueue;uu=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,s=e.alternate,null!==s&&null!==(s=s.updateQueue)&&(s.baseQueue=a)}if(null!==o){s=o.next;var u=i.baseState,c=0,l=null,f=null,h=null;if(null!==s)for(var p=s;;){if((a=p.expirationTime)<r){var d={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(f=h=d,l=u):h=h.next=d,a>c&&(c=a)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Xr(a,p.suspenseConfig);e:{var m=e,y=p;switch(a=t,d=n,y.tag){case 1:if("function"===typeof(m=y.payload)){u=m.call(d,u,a);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(m=y.payload,null===(a="function"===typeof m?m.call(d,u,a):m)||void 0===a)break e;u=Ui({},u,a);break e;case 2:uu=!0}}null!==p.callback&&(e.effectTag|=32,a=i.effects,null===a?i.effects=[p]:a.push(p))}if(null===(p=p.next)||p===s){if(null===(a=i.shared.pending))break;p=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===h?l=u:h.next=f,i.baseState=l,i.baseQueue=h,Jr(c),e.expirationTime=c,e.memoizedState=u}}function cn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=n,"function"!==typeof i)throw Error(r(191,i));i.call(o)}}}function ln(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:Ui({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}function fn(e,t,n,r,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!At(n,r)||!At(i,o))}function hn(e,t,n){var r=!1,i=js,o=t.contextType;return"object"===typeof o&&null!==o?o=tn(o):(i=Mt(t)?Fs:Ms.current,r=t.contextTypes,o=(r=null!==r&&void 0!==r)?jt(e,i):js),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fu,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function pn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fu.enqueueReplaceState(t,t.state,null)}function dn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=lu,nn(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=tn(o):(o=Mt(t)?Fs:Ms.current,i.context=jt(e,o)),un(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,"function"===typeof o&&(ln(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fu.enqueueReplaceState(i,i.state,null),un(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}function mn(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===lu&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function yn(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function vn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return e=gi(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=wi(n,e.mode,r),t.return=e,t):(t=o(t,n),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props),r.ref=mn(e,t,n),r.return=e,r):(r=bi(n.type,n.key,n.props,null,e.mode,r),r.ref=mn(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ei(n,e.mode,r),t.return=e,t):(t=o(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?(t=_i(n,e.mode,r,i),t.return=e,t):(t=o(t,n),t.return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return t=wi(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case bo:return n=bi(t.type,t.key,t.props,null,e.mode,n),n.ref=mn(e,null,t),n.return=e,n;case _o:return t=Ei(t,e.mode,n),t.return=e,t}if(hu(t)||O(t))return t=_i(t,e.mode,n,null),t.return=e,t;yn(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case bo:return n.key===i?n.type===wo?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _o:return n.key===i?l(e,t,n,r):null}if(hu(n)||O(n))return null!==i?null:f(e,t,n,r,null);yn(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case bo:return e=e.get(null===r.key?n:r.key)||null,r.type===wo?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _o:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i)}if(hu(r)||O(r))return e=e.get(n)||null,f(t,e,r,i,null);yn(t,r)}return null}function m(r,o,s,u){for(var c=null,l=null,f=o,m=o=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=p(r,f,s[m],u);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(r,f),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v,f=y}if(m===s.length)return n(r,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(r,s[m],u))&&(o=a(f,o,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=i(r,f);m<s.length;m++)null!==(y=d(f,r,m,s[m],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),o=a(y,o,m),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach(function(e){return t(r,e)}),c}function y(o,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(r(150));if(null==(u=l.call(u)))throw Error(r(151));for(var f=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=p(o,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,y),null===f?l=b:f.sibling=b,f=b,m=v}if(g.done)return n(o,m),l;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=h(o,g.value,c))&&(s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(m=i(o,m);!g.done;y++,g=u.next())null!==(g=d(m,o,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach(function(e){return t(o,e)}),l}return function(e,i,a,u){var c="object"===typeof a&&null!==a&&a.type===wo&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case bo:e:{for(l=a.key,c=i;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===wo){n(e,c.sibling),i=o(c,a.props.children),i.return=e,e=i;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),i=o(c,a.props),i.ref=mn(e,c,a),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===wo?(i=_i(a.props.children,e.mode,u,a.key),i.return=e,e=i):(u=bi(a.type,a.key,a.props,null,e.mode,u),u.ref=mn(e,i,a),u.return=e,e=u)}return s(e);case _o:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[]),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=Ei(a,e.mode,u),i.return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a),i.return=e,e=i):(n(e,i),i=wi(a,e.mode,u),i.return=e,e=i),s(e);if(hu(a))return m(e,i,a,u);if(O(a))return y(e,i,a,u);if(l&&yn(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(r(152,e.displayName||e.name||"Component"))}return n(e,i)}}function gn(e){if(e===mu)throw Error(r(174));return e}function bn(e,t){switch(Dt(gu,t),Dt(vu,e),Dt(yu,mu),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:G(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=G(t,e)}Rt(yu),Dt(yu,t)}function _n(){Rt(yu),Rt(vu),Rt(gu)}function wn(e){gn(gu.current);var t=gn(yu.current),n=G(t,e.type);t!==n&&(Dt(vu,e),Dt(yu,n))}function En(e){vu.current===e&&(Rt(yu),Rt(vu))}function Tn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===wa||n.data===Ea))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Sn(e,t){return{responder:e,props:t}}function On(){throw Error(r(321))}function Cn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!us(e[n],t[n]))return!1;return!0}function Nn(e,t,n,i,o,a){if(Eu=a,Tu=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,_u.current=null===e||null===e.memoizedState?Iu:ku,e=n(i,o),t.expirationTime===Eu){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(r(301));a+=1,Ou=Su=null,t.updateQueue=null,_u.current=Au,e=n(i,o)}while(t.expirationTime===Eu)}if(_u.current=Nu,t=null!==Su&&null!==Su.next,Eu=0,Ou=Su=Tu=null,Cu=!1,t)throw Error(r(300));return e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ou?Tu.memoizedState=Ou=e:Ou=Ou.next=e,Ou}function kn(){if(null===Su){var e=Tu.alternate;e=null!==e?e.memoizedState:null}else e=Su.next;var t=null===Ou?Tu.memoizedState:Ou.next;if(null!==t)Ou=t,Su=e;else{if(null===e)throw Error(r(310));Su=e,e={memoizedState:Su.memoizedState,baseState:Su.baseState,baseQueue:Su.baseQueue,queue:Su.queue,next:null},null===Ou?Tu.memoizedState=Ou=e:Ou=Ou.next=e}return Ou}function An(e,t){return"function"===typeof t?t(e):t}function xn(e){var t=kn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=Su,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var u=s=a=null,c=o;do{var l=c.expirationTime;if(l<Eu){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=i):u=u.next=f,l>Tu.expirationTime&&(Tu.expirationTime=l,Jr(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Xr(l,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==o);null===u?a=i:u.next=s,us(i,t.memoizedState)||(ju=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Pn(e){var t=kn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);us(a,t.memoizedState)||(ju=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Rn(e){var t=In();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},e=e.dispatch=Gn.bind(null,Tu,e),[t.memoizedState,e]}function Dn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Tu.updateQueue,null===t?(t={lastEffect:null},Tu.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jn(){return kn().memoizedState}function Mn(e,t,n,r){var i=In();Tu.effectTag|=e,i.memoizedState=Dn(1|t,n,void 0,void 0===r?null:r)}function Ln(e,t,n,r){var i=kn();r=void 0===r?null:r;var o=void 0;if(null!==Su){var a=Su.memoizedState;if(o=a.destroy,null!==r&&Cn(r,a.deps))return void Dn(t,n,o,r)}Tu.effectTag|=e,i.memoizedState=Dn(1|t,n,o,r)}function Fn(e,t){return Mn(516,4,e,t)}function Un(e,t){return Ln(516,4,e,t)}function qn(e,t){return Ln(4,2,e,t)}function Vn(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bn(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ln(4,2,Vn.bind(null,t,e),n)}function Wn(){}function zn(e,t){return In().memoizedState=[e,void 0===t?null:t],e}function Hn(e,t){var n=kn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qn(e,t){var n=kn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kn(e,t,n){var r=Bt();zt(98>r?98:r,function(){e(!0)}),zt(97<r?97:r,function(){var r=wu.suspense;wu.suspense=void 0===t?null:t;try{e(!1),n()}finally{wu.suspense=r}})}function Gn(e,t,n){var r=Lr(),i=cu.suspense;r=Fr(r,e,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Tu||null!==o&&o===Tu)Cu=!0,i.expirationTime=Eu,Tu.expirationTime=Eu;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,us(s,a))return}catch(e){}Ur(e,r)}}function Yn(e,t){var n=mi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $n(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Xn(e){if(Ru){var t=Pu;if(t){var n=t;if(!$n(e,t)){if(!(t=Qe(n.nextSibling))||!$n(e,t))return e.effectTag=-1025&e.effectTag|2,Ru=!1,void(xu=e);Yn(xu,n)}xu=e,Pu=Qe(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ru=!1,xu=e}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xu=e}function Zn(e){if(e!==xu)return!1;if(!Ru)return Jn(e),Ru=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!He(t,e.memoizedProps))for(t=Pu;t;)Yn(e,t),t=Qe(t.nextSibling);if(Jn(e),13===e.tag){if(e=e.memoizedState,!(e=null!==e?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===_a){if(0===t){Pu=Qe(e.nextSibling);break e}t--}else n!==ba&&n!==Ea&&n!==wa||t++}e=e.nextSibling}Pu=null}}else Pu=xu?Qe(e.stateNode.nextSibling):null;return!0}function er(){Pu=xu=null,Ru=!1}function tr(e,t,n,r){t.child=null===e?du(t,null,n,r):pu(t,e.child,n,r)}function nr(e,t,n,r,i){n=n.render;var o=t.ref;return en(t,i),r=Nn(e,t,n,r,o,i),null===e||ju?(t.effectTag|=1,tr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),dr(e,t,i))}function rr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||yi(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=bi(n.type,null,r,null,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ir(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,n=n.compare,(n=null!==n?n:At)(i,r)&&e.ref===t.ref)?dr(e,t,o):(t.effectTag|=1,e=gi(a,r),e.ref=t.ref,e.return=t,t.child=e)}function ir(e,t,n,r,i,o){return null!==e&&At(e.memoizedProps,r)&&e.ref===t.ref&&(ju=!1,i<o)?(t.expirationTime=e.expirationTime,dr(e,t,o)):ar(e,t,n,r,o)}function or(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ar(e,t,n,r,i){var o=Mt(n)?Fs:Ms.current;return o=jt(t,o),en(t,i),n=Nn(e,t,n,r,o,i),null===e||ju?(t.effectTag|=1,tr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),dr(e,t,i))}function sr(e,t,n,r,i){if(Mt(n)){var o=!0;qt(t)}else o=!1;if(en(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),hn(t,n,r),dn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=tn(c):(c=Mt(n)?Fs:Ms.current,c=jt(t,c));var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&pn(t,a,r,c),uu=!1;var h=t.memoizedState;a.state=h,un(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Ls.current||uu?("function"===typeof l&&(ln(t,n,l,r),u=t.memoizedState),(s=uu||fn(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,rn(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:$t(t.type,s),u=a.context,c=n.contextType,"object"===typeof c&&null!==c?c=tn(c):(c=Mt(n)?Fs:Ms.current,c=jt(t,c)),l=n.getDerivedStateFromProps,(f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&pn(t,a,r,c),uu=!1,u=t.memoizedState,a.state=u,un(t,r,a,i),h=t.memoizedState,s!==r||u!==h||Ls.current||uu?("function"===typeof l&&(ln(t,n,l,r),h=t.memoizedState),(l=uu||fn(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ur(e,t,n,r,o,i)}function ur(e,t,n,r,i,o){or(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Vt(t,n,!1),dr(e,t,o);r=t.stateNode,Du.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=pu(t,e.child,null,o),t.child=pu(t,null,s,o)):tr(e,t,s,o),t.memoizedState=r.state,i&&Vt(t,n,!0),t.child}function cr(e){var t=e.stateNode;t.pendingContext?Ft(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ft(e,t.context,!1),bn(e,t.containerInfo)}function lr(e,t,n){var r,i=t.mode,o=t.pendingProps,a=bu.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Dt(bu,1&a),null===e){if(void 0!==o.fallback&&Xn(t),s){if(s=o.fallback,o=_i(null,i,0,null),o.return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return n=_i(s,i,n,null),n.return=t,o.sibling=n,t.memoizedState=Mu,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=du(t,null,i,n)}if(null!==e.memoizedState){if(e=e.child,i=e.sibling,s){if(o=o.fallback,n=gi(e,e.pendingProps),n.return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return i=gi(i,o),i.return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Mu,t.child=n,i}return n=pu(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,o=_i(null,i,0,null),o.return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return n=_i(s,i,n,null),n.return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Mu,t.child=o,n}return t.memoizedState=null,t.child=pu(t,e,o.children,n)}function fr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Zt(e.return,t)}function hr(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function pr(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(tr(e,t,r.children,n),0!==(2&(r=bu.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&fr(e,n);else if(19===e.tag)fr(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Dt(bu,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===Tn(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hr(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Tn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hr(t,!0,n,null,o,t.lastEffect);break;case"together":hr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function dr(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&Jr(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(e=t.child,n=gi(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mr(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yr(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Mt(t.type)&&Lt(),null;case 3:return _n(),Rt(Ls),Rt(Ms),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Zn(t)||(t.effectTag|=4),As(t),null;case 5:En(t),n=gn(gu.current);var o=t.type;if(null!==e&&null!=t.stateNode)xs(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(r(166));return null}if(e=gn(yu.current),Zn(t)){i=t.stateNode,o=t.type;var a=t.memoizedProps;switch(i[Ia]=t,i[ka]=a,o){case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(e=0;e<Qo.length;e++)Ce(Qo[e],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"form":Ce("reset",i),Ce("submit",i);break;case"details":Ce("toggle",i);break;case"input":j(i,a),Ce("invalid",i),Me(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ce("invalid",i),Me(n,"onChange");break;case"textarea":z(i,a),Ce("invalid",i),Me(n,"onChange")}De(o,a),e=null;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"===typeof u?i.textContent!==u&&(e=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(e=["children",""+u]):Zi.hasOwnProperty(s)&&null!=u&&Me(n,s)}switch(o){case"input":P(i),F(i,a,!0);break;case"textarea":P(i),Q(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Le)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===ga&&(e=K(o)),e===ga?"script"===o?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=s.createElement(o,{is:i.is}):(e=s.createElement(o),"select"===o&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,o),e[Ia]=t,e[ka]=i,ks(e,t,!1,!1),t.stateNode=e,s=je(o,i),o){case"iframe":case"object":case"embed":Ce("load",e),u=i;break;case"video":case"audio":for(u=0;u<Qo.length;u++)Ce(Qo[u],e);u=i;break;case"source":Ce("error",e),u=i;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),u=i;break;case"form":Ce("reset",e),Ce("submit",e),u=i;break;case"details":Ce("toggle",e),u=i;break;case"input":j(e,i),u=D(e,i),Ce("invalid",e),Me(n,"onChange");break;case"option":u=V(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=Ui({},i,{value:void 0}),Ce("invalid",e),Me(n,"onChange");break;case"textarea":z(e,i),u=W(e,i),Ce("invalid",e),Me(n,"onChange");break;default:u=i}De(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?Re(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&jo(e,l):"children"===a?"string"===typeof l?("textarea"!==o||""!==l)&&Y(e,l):"number"===typeof l&&Y(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Zi.hasOwnProperty(a)?null!=l&&Me(n,a):null!=l&&S(e,a,l,s))}switch(o){case"input":P(e),F(e,i,!1);break;case"textarea":P(e),Q(e);break;case"option":null!=i.value&&e.setAttribute("value",""+k(i.value));break;case"select":e.multiple=!!i.multiple,n=i.value,null!=n?B(e,!!i.multiple,n,!1):null!=i.defaultValue&&B(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=Le)}ze(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(r(166));n=gn(gu.current),gn(yu.current),Zn(t)?(n=t.stateNode,i=t.memoizedProps,n[Ia]=t,n.nodeValue!==i&&(t.effectTag|=4)):(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i),n[Ia]=t,t.stateNode=n)}return null;case 13:return Rt(bu),(i=t.memoizedState,0!==(64&t.effectTag))?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Zn(t):(o=e.memoizedState,i=null!==o,n||null===o||null!==(o=e.child.sibling)&&(a=t.firstEffect,null!==a?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&bu.current)?rc===Ku&&(rc=$u):(rc!==Ku&&rc!==$u||(rc=Xu),0!==uc&&null!==ec&&(Oi(ec,nc),Ci(ec,uc)))),(n||i)&&(t.effectTag|=4),null);case 4:return _n(),As(t),null;case 10:return Jt(t),null;case 17:return Mt(t.type)&&Lt(),null;case 19:if(Rt(bu),null===(i=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(a=i.rendering)){if(o)mr(i,!1);else if(rc!==Ku||null!==e&&0!==(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=Tn(a))){for(t.effectTag|=64,mr(i,!1),o=e.updateQueue,null!==o&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)o=i,a=n,o.effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,e=o.alternate,null===e?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return Dt(bu,1&bu.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=Tn(a))){if(t.effectTag|=64,o=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.effectTag|=4),mr(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return t=t.lastEffect=i.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*ru()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,mr(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,null!==n?n.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=ru()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=ru(),n.sibling=null,t=bu.current,Dt(bu,o?1&t|2:1&t),n):null}throw Error(r(156,t.tag))}function vr(e){switch(e.tag){case 1:Mt(e.type)&&Lt();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(_n(),Rt(Ls),Rt(Ms),0!==(64&(t=e.effectTag)))throw Error(r(285));return e.effectTag=-4097&t|64,e;case 5:return En(e),null;case 13:return Rt(bu),t=e.effectTag,4096&t?(e.effectTag=-4097&t|64,e):null;case 19:return Rt(bu),null;case 4:return _n(),null;case 10:return Jt(e),null;default:return null}}function gr(e,t){return{value:e,source:t,stack:I(t)}}function br(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=I(n)),null!==n&&N(n.type),t=t.value,null!==e&&1===e.tag&&N(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function _r(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){li(e,t)}}function wr(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){li(e,t)}else t.current=null}function Er(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:$t(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Tr(e,t){if(t=t.updateQueue,null!==(t=null!==t?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Sr(e,t){if(t=t.updateQueue,null!==(t=null!==t?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Or(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Sr(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:$t(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&cn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}cn(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&ze(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&Se(n));case 19:case 17:case 20:case 21:return}throw Error(r(163))}function Cr(e,t,n){switch("function"===typeof Sc&&Sc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;zt(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){li(i,e)}}e=e.next}while(e!==r)})}break;case 1:wr(t),n=t.stateNode,"function"===typeof n.componentWillUnmount&&_r(t,n);break;case 5:wr(t);break;case 4:Pr(e,t,n)}}function Nr(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Nr(t)}function Ir(e){return 5===e.tag||3===e.tag||4===e.tag}function kr(e){e:{for(var t=e.return;null!==t;){if(Ir(t)){var n=t;break e}t=t.return}throw Error(r(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(r(161))}16&n.effectTag&&(Y(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ir(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?Ar(e,n,t):xr(e,n,t)}function Ar(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Le));else if(4!==r&&null!==(e=e.child))for(Ar(e,t,n),e=e.sibling;null!==e;)Ar(e,t,n),e=e.sibling}function xr(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xr(e,t,n),e=e.sibling;null!==e;)xr(e,t,n),e=e.sibling}function Pr(e,t,n){for(var i,o,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(r(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=n,f=c;;)if(Cr(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(u=i,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(Cr(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return,4===a.tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Rr(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Tr(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,o=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[ka]=i,"input"===e&&"radio"===i.type&&null!=i.name&&M(n,i),je(e,o),t=je(e,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?Re(n,u):"dangerouslySetInnerHTML"===s?jo(n,u):"children"===s?Y(n,u):S(n,s,u,t)}switch(e){case"input":L(n,i);break;case"textarea":H(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,e=i.value,null!=e?B(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?B(n,!!i.multiple,i.defaultValue,!0):B(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return t=t.stateNode,void(t.hydrate&&(t.hydrate=!1,Se(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,lc=ru()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,i?(a=a.style,"function"===typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(a=e.stateNode,o=e.memoizedProps.style,o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,a.style.display=Pe("display",o));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){a=e.child.sibling,a.return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Dr(t);case 19:return void Dr(t);case 17:return}throw Error(r(163))}function Dr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Fu),t.forEach(function(t){var r=hi.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function jr(e,t,n){n=on(n,null),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pc||(pc=!0,dc=r),br(e,t)},n}function Mr(e,t,n){n=on(n,null),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return br(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===mc?mc=new Set([this]):mc.add(this),br(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function Lr(){return(Zu&(Hu|Qu))!==Wu?1073741821-(ru()/10|0):0!==Ec?Ec:Ec=1073741821-(ru()/10|0)}function Fr(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var i=Bt();if(0===(4&t))return 99===i?1073741823:1073741822;if((Zu&Hu)!==Wu)return nc;if(null!==n)e=Yt(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Yt(e,150,100);break;case 97:case 96:e=Yt(e,5e3,250);break;case 95:e=2;break;default:throw Error(r(326))}return null!==ec&&e===nc&&--e,e}function Ur(e,t){if(50<_c)throw _c=0,wc=null,Error(r(185));if(null!==(e=qr(e,t))){var n=Bt();1073741823===t?(Zu&zu)!==Wu&&(Zu&(Hu|Qu))===Wu?zr(e):(Br(e),Zu===Wu&&Kt()):Br(e),(4&Zu)===Wu||98!==n&&99!==n||(null===bc?bc=new Map([[e,t]]):(void 0===(n=bc.get(e))||n>t)&&bc.set(e,t))}}function qr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ec===i&&(Jr(t),rc===Xu&&Oi(i,nc)),Ci(i,t)),i}function Vr(e){var t=e.lastExpiredTime;if(0!==t)return t;if(t=e.firstPendingTime,!Si(e,t))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function Br(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qt(zr.bind(null,e));else{var t=Vr(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Lr();if(1073741823===t?r=99:1===t||2===t?r=95:(r=10*(1073741821-t)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==$s&&Vs(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Qt(zr.bind(null,e)):Ht(r,Wr.bind(null,e),{timeout:10*(1073741821-t)-ru()}),e.callbackNode=t}}}function Wr(e,t){if(Ec=0,t)return t=Lr(),Ni(e,t),Br(e),null;var n=Vr(e);if(0!==n){if(t=e.callbackNode,(Zu&(Hu|Qu))!==Wu)throw Error(r(327));if(si(),e===ec&&n===nc||Gr(e,n),null!==tc){var i=Zu;Zu|=Hu;for(var o=$r();;)try{ei();break}catch(t){Yr(e,t)}if(Xt(),Zu=i,Vu.current=o,rc===Gu)throw t=ic,Gr(e,n),Oi(e,n),Br(e),t;if(null===tc)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=rc,ec=null,i){case Ku:case Gu:throw Error(r(345));case Yu:Ni(e,2<n?2:n);break;case $u:if(Oi(e,n),i=e.lastSuspendedTime,n===i&&(e.nextKnownPendingLevel=ri(o)),1073741823===oc&&10<(o=lc+fc-ru())){if(cc){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,Gr(e,n);break}}if(0!==(a=Vr(e))&&a!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=Oa(ii.bind(null,e),o);break}ii(e);break;case Xu:if(Oi(e,n),i=e.lastSuspendedTime,n===i&&(e.nextKnownPendingLevel=ri(o)),cc&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,Gr(e,n);break}if(0!==(o=Vr(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==ac?i=10*(1073741821-ac)-ru():1073741823===oc?i=0:(i=10*(1073741821-oc)-5e3,o=ru(),n=10*(1073741821-n)-o,i=o-i,0>i&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qu(i/1960))-i,n<i&&(i=n)),10<i){e.timeoutHandle=Oa(ii.bind(null,e),i);break}ii(e);break;case Ju:if(1073741823!==oc&&null!==sc){a=oc;var s=sc;if(i=0|s.busyMinDurationMs,0>=i?i=0:(o=0|s.busyDelayMs,a=ru()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)),i=a<=o?0:o+i-a),10<i){Oi(e,n),e.timeoutHandle=Oa(ii.bind(null,e),i);break}}ii(e);break;default:throw Error(r(329))}if(Br(e),e.callbackNode===t)return Wr.bind(null,e)}}return null}function zr(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Zu&(Hu|Qu))!==Wu)throw Error(r(327));if(si(),e===ec&&t===nc||Gr(e,t),null!==tc){var n=Zu;Zu|=Hu;for(var i=$r();;)try{Zr();break}catch(t){Yr(e,t)}if(Xt(),Zu=n,Vu.current=i,rc===Gu)throw n=ic,Gr(e,t),Oi(e,t),Br(e),n;if(null!==tc)throw Error(r(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ec=null,ii(e),Br(e)}return null}function Hr(){if(null!==bc){var e=bc;bc=null,e.forEach(function(e,t){Ni(t,e),Br(t)}),Kt()}}function Qr(e,t){var n=Zu;Zu|=1;try{return e(t)}finally{(Zu=n)===Wu&&Kt()}}function Kr(e,t){var n=Zu;Zu&=-2,Zu|=zu;try{return e(t)}finally{(Zu=n)===Wu&&Kt()}}function Gr(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ca(n)),null!==tc)for(n=tc.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Lt();break;case 3:_n(),Rt(Ls),Rt(Ms);break;case 5:En(r);break;case 4:_n();break;case 13:case 19:Rt(bu);break;case 10:Jt(r)}n=n.return}ec=e,tc=gi(e.current,null),nc=t,rc=Ku,ic=null,ac=oc=1073741823,sc=null,uc=0,cc=!1}function Yr(e,t){for(;;){try{if(Xt(),_u.current=Nu,Cu)for(var n=Tu.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Eu=0,Ou=Su=Tu=null,Cu=!1,null===tc||null===tc.return)return rc=Gu,ic=t,tc=null;e:{var i=e,o=tc.return,a=tc,s=t;if(t=nc,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&bu.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var d=f.memoizedProps;h=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(h){var m=f.updateQueue;if(null===m){var y=new Set;y.add(u),f.updateQueue=y}else m.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=on(1073741823,null);v.tag=2,an(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new Uu,s=new Set,g.set(u,s)):void 0===(s=g.get(u))&&(s=new Set,g.set(u,s)),!s.has(a)){s.add(a);var b=fi.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((N(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+I(a))}rc!==Ju&&(rc=Yu),s=gr(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t;sn(f,jr(f,u,t));break e;case 1:u=s;var _=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===mc||!mc.has(w)))){f.effectTag|=4096,f.expirationTime=t;sn(f,Mr(f,u,t));break e}}f=f.return}while(null!==f)}tc=ni(tc)}catch(e){t=e;continue}break}}function $r(){var e=Vu.current;return Vu.current=Nu,null===e?Nu:e}function Xr(e,t){e<oc&&2<e&&(oc=e),null!==t&&e<ac&&2<e&&(ac=e,sc=t)}function Jr(e){e>uc&&(uc=e)}function Zr(){for(;null!==tc;)tc=ti(tc)}function ei(){for(;null!==tc&&!Xs();)tc=ti(tc)}function ti(e){var t=Lu(e.alternate,e,nc);return e.memoizedProps=e.pendingProps,null===t&&(t=ni(e)),Bu.current=null,t}function ni(e){tc=e;do{var t=tc.alternate;if(e=tc.return,0===(2048&tc.effectTag)){if(t=yr(t,tc,nc),1===nc||1!==tc.childExpirationTime){for(var n=0,r=tc.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}tc.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=tc.firstEffect),null!==tc.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=tc.firstEffect),e.lastEffect=tc.lastEffect),1<tc.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=tc:e.firstEffect=tc,e.lastEffect=tc))}else{if(null!==(t=vr(tc)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=tc.sibling))return t;tc=e}while(null!==tc);return rc===Ku&&(rc=Ju),null}function ri(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function ii(e){var t=Bt();return zt(99,oi.bind(null,e,t)),null}function oi(e,t){do{si()}while(null!==vc);if((Zu&(Hu|Qu))!==Wu)throw Error(r(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=ri(n);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ec&&(tc=ec=null,nc=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var a=Zu;Zu|=Qu,Bu.current=null,Ta=da;var s=Be();if(We(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(e){u=null;break e}var h=0,p=-1,d=-1,m=0,y=0,v=s,g=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(p=h+l),v!==f||0!==c&&3!==v.nodeType||(d=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===u&&++m===l&&(p=h),g===f&&++y===c&&(d=h),null!==(b=v.nextSibling))break;v=g,g=v.parentNode}v=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;Sa={activeElementDetached:null,focusedElem:s,selectionRange:u},da=!1,hc=o;do{try{ai()}catch(e){if(null===hc)throw Error(r(330));li(hc,e),hc=hc.nextEffect}}while(null!==hc);hc=o;do{try{for(s=e,u=t;null!==hc;){var _=hc.effectTag;if(16&_&&Y(hc.stateNode,""),128&_){var w=hc.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&_){case 2:kr(hc),hc.effectTag&=-3;break;case 6:kr(hc),hc.effectTag&=-3,Rr(hc.alternate,hc);break;case 1024:hc.effectTag&=-1025;break;case 1028:hc.effectTag&=-1025,Rr(hc.alternate,hc);break;case 4:Rr(hc.alternate,hc);break;case 8:l=hc,Pr(s,l,u),Nr(l)}hc=hc.nextEffect}}catch(e){if(null===hc)throw Error(r(330));li(hc,e),hc=hc.nextEffect}}while(null!==hc);if(E=Sa,w=Be(),_=E.focusedElem,u=E.selectionRange,w!==_&&_&&_.ownerDocument&&Ve(_.ownerDocument.documentElement,_)){null!==u&&We(_)&&(w=u.start,E=u.end,void 0===E&&(E=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(E,_.value.length)):(E=(w=_.ownerDocument||document)&&w.defaultView||window,E.getSelection&&(E=E.getSelection(),l=_.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=qe(_,s),f=qe(_,u),l&&f&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&(w=w.createRange(),w.setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(w),E.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),E.addRange(w)))))),w=[];for(E=_;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)E=w[_],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}da=!!Ta,Sa=Ta=null,e.current=n,hc=o;do{try{for(_=e;null!==hc;){var T=hc.effectTag;if(36&T&&Or(_,hc.alternate,hc),128&T){w=void 0;var S=hc.ref;if(null!==S){var O=hc.stateNode;switch(hc.tag){case 5:w=O;break;default:w=O}"function"===typeof S?S(w):S.current=w}}hc=hc.nextEffect}}catch(e){if(null===hc)throw Error(r(330));li(hc,e),hc=hc.nextEffect}}while(null!==hc);hc=null,Js(),Zu=a}else e.current=n;if(yc)yc=!1,vc=e,gc=t;else for(hc=o;null!==hc;)t=hc.nextEffect,hc.nextEffect=null,hc=t;if(t=e.firstPendingTime,0===t&&(mc=null),1073741823===t?e===wc?_c++:(_c=0,wc=e):_c=0,"function"===typeof Tc&&Tc(n.stateNode,i),Br(e),pc)throw pc=!1,e=dc,dc=null,e;return(Zu&zu)!==Wu?null:(Kt(),null)}function ai(){for(;null!==hc;){var e=hc.effectTag;0!==(256&e)&&Er(hc.alternate,hc),0===(512&e)||yc||(yc=!0,Ht(97,function(){return si(),null})),hc=hc.nextEffect}}function si(){if(90!==gc){var e=97<gc?97:gc;return gc=90,zt(e,ui)}}function ui(){if(null===vc)return!1;var e=vc;if(vc=null,(Zu&(Hu|Qu))!==Wu)throw Error(r(331));var t=Zu;for(Zu|=Qu,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Tr(5,n),Sr(5,n)}}catch(t){if(null===e)throw Error(r(330));li(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Zu=t,Kt(),!0}function ci(e,t,n){t=gr(n,t),t=jr(e,t,1073741823),an(e,t),null!==(e=qr(e,1073741823))&&Br(e)}function li(e,t){if(3===e.tag)ci(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ci(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===mc||!mc.has(r))){e=gr(t,e),e=Mr(n,e,1073741823),an(n,e),n=qr(n,1073741823),null!==n&&Br(n);break}}n=n.return}}function fi(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ec===e&&nc===n?rc===Xu||rc===$u&&1073741823===oc&&ru()-lc<fc?Gr(e,nc):cc=!0:Si(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Br(e)))}function hi(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=Lr(),t=Fr(t,e,null)),null!==(e=qr(e,t))&&Br(e)}function pi(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Tc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(e){}},Sc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function di(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function mi(e,t,n,r){return new di(e,t,n,r)}function yi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function vi(e){if("function"===typeof e)return yi(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===No)return 11;if(e===Ao)return 14}return 2}function gi(e,t){var n=e.alternate;return null===n?(n=mi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bi(e,t,n,i,o,a){var s=2;if(i=e,"function"===typeof e)yi(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case wo:return _i(n.children,o,a,t);case Co:s=8,o|=7;break;case Eo:s=8,o|=1;break;case To:return e=mi(12,n,t,8|o),e.elementType=To,e.type=To,e.expirationTime=a,e;case Io:return e=mi(13,n,t,o),e.type=Io,e.elementType=Io,e.expirationTime=a,e;case ko:return e=mi(19,n,t,o),e.elementType=ko,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case So:s=10;break e;case Oo:s=9;break e;case No:s=11;break e;case Ao:s=14;break e;case xo:s=16,i=null;break e;case Po:s=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return t=mi(s,n,t,o),t.elementType=e,t.type=i,t.expirationTime=a,t}function _i(e,t,n,r){return e=mi(7,e,r,t),e.expirationTime=n,e}function wi(e,t,n){return e=mi(6,e,null,t),e.expirationTime=n,e}function Ei(e,t,n){return t=mi(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ti(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Si(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Oi(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ci(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ni(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ii(e,t,n,i){var o=t.current,a=Lr(),s=cu.suspense;a=Fr(a,o,s);e:if(n){n=n._reactInternalFiber;t:{if(Z(n)!==n||1!==n.tag)throw Error(r(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Mt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(r(171))}if(1===n.tag){var c=n.type;if(Mt(c)){n=Ut(n,c,u);break e}}n=u}else n=js;return null===t.context?t.context=n:t.pendingContext=n,t=on(a,s),t.payload={element:e},i=void 0===i?null:i,null!==i&&(t.callback=i),an(o,t),Ur(o,a),a}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ai(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function xi(e,t){Ai(e,t),(e=e.alternate)&&Ai(e,t)}function Pi(e,t,n){n=null!=n&&!0===n.hydrate;var r=new Ti(e,t,n),i=mi(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,nn(i),e[Aa]=r.current,n&&0!==t&&de(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ri(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Di(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Pi(e,0,t?{hydrate:!0}:void 0)}function ji(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ki(a);s.call(e)}}Ii(t,a,e,i)}else{if(o=n._reactRootContainer=Di(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ki(a);u.call(e)}}Kr(function(){Ii(t,a,e,i)})}return ki(a)}function Mi(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Li(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ri(t))throw Error(r(200));return Mi(e,t,null,n)}var Fi=n(0),Ui=n(92),qi=n(290);if(!Fi)throw Error(r(227));var Vi=!1,Bi=null,Wi=!1,zi=null,Hi={onError:function(e){Vi=!0,Bi=e}},Qi=null,Ki=null,Gi=null,Yi=null,$i={},Xi=[],Ji={},Zi={},eo={},to=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),no=null,ro=null,io=null,oo=d,ao=!1,so=!1,uo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,co=Object.prototype.hasOwnProperty,lo={},fo={},ho={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ho[e]=new E(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ho[t]=new E(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ho[e]=new E(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ho[e]=new E(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ho[e]=new E(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ho[e]=new E(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ho[e]=new E(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ho[e]=new E(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ho[e]=new E(e,5,!1,e.toLowerCase(),null,!1)});var po=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(po,T);ho[t]=new E(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(po,T);ho[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(po,T);ho[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ho[e]=new E(e,1,!1,e.toLowerCase(),null,!1)}),ho.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ho[e]=new E(e,1,!1,e.toLowerCase(),null,!0)});var mo=Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;mo.hasOwnProperty("ReactCurrentDispatcher")||(mo.ReactCurrentDispatcher={current:null}),mo.hasOwnProperty("ReactCurrentBatchConfig")||(mo.ReactCurrentBatchConfig={suspense:null});var yo,vo=/^(.*)[\\\/]/,go="function"===typeof Symbol&&Symbol.for,bo=go?Symbol.for("react.element"):60103,_o=go?Symbol.for("react.portal"):60106,wo=go?Symbol.for("react.fragment"):60107,Eo=go?Symbol.for("react.strict_mode"):60108,To=go?Symbol.for("react.profiler"):60114,So=go?Symbol.for("react.provider"):60109,Oo=go?Symbol.for("react.context"):60110,Co=go?Symbol.for("react.concurrent_mode"):60111,No=go?Symbol.for("react.forward_ref"):60112,Io=go?Symbol.for("react.suspense"):60113,ko=go?Symbol.for("react.suspense_list"):60120,Ao=go?Symbol.for("react.memo"):60115,xo=go?Symbol.for("react.lazy"):60116,Po=go?Symbol.for("react.block"):60121,Ro="function"===typeof Symbol&&Symbol.iterator,Do={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},jo=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Do.svg||"innerHTML"in e)e.innerHTML=t;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Mo={animationend:$("Animation","AnimationEnd"),animationiteration:$("Animation","AnimationIteration"),animationstart:$("Animation","AnimationStart"),transitionend:$("Transition","TransitionEnd")},Lo={},Fo={};to&&(Fo=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);var Uo,qo,Vo,Bo=X("animationend"),Wo=X("animationiteration"),zo=X("animationstart"),Ho=X("transitionend"),Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ko=new("function"===typeof WeakMap?WeakMap:Map),Go=null,Yo=[],$o=!1,Xo=[],Jo=null,Zo=null,ea=null,ta=new Map,na=new Map,ra=[],ia="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),oa="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),aa={},sa=new Map,ua=new Map,ca=["abort","abort",Bo,"animationEnd",Wo,"animationIteration",zo,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ho,"transitionEnd","waiting","waiting"];Oe("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Oe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Oe(ca,2);for(var la="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),fa=0;fa<la.length;fa++)ua.set(la[fa],0);var ha=qi.unstable_UserBlockingPriority,pa=qi.unstable_runWithPriority,da=!0,ma={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ya=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(e){ya.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ma[t]=ma[e]})});var va=Ui({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ga=Do.html,ba="$",_a="/$",wa="$?",Ea="$!",Ta=null,Sa=null,Oa="function"===typeof setTimeout?setTimeout:void 0,Ca="function"===typeof clearTimeout?clearTimeout:void 0,Na=Math.random().toString(36).slice(2),Ia="__reactInternalInstance$"+Na,ka="__reactEventHandlers$"+Na,Aa="__reactContainere$"+Na,xa=null,Pa=null,Ra=null;Ui(ut.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),ut.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ut.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return Ui(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Ui({},r.Interface,e),n.extend=r.extend,ft(n),n},ft(ut);var Da=ut.extend({data:null}),ja=ut.extend({data:null}),Ma=[9,13,27,32],La=to&&"CompositionEvent"in window,Fa=null;to&&"documentMode"in document&&(Fa=document.documentMode);var Ua=to&&"TextEvent"in window&&!Fa,qa=to&&(!La||Fa&&8<Fa&&11>=Fa),Va=String.fromCharCode(32),Ba={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Wa=!1,za=!1,Ha={eventTypes:Ba,extractEvents:function(e,t,n,r){var i;if(La)e:{switch(e){case"compositionstart":var o=Ba.compositionStart;break e;case"compositionend":o=Ba.compositionEnd;break e;case"compositionupdate":o=Ba.compositionUpdate;break e}o=void 0}else za?ht(e,n)&&(o=Ba.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Ba.compositionStart);return o?(qa&&"ko"!==n.locale&&(za||o!==Ba.compositionStart?o===Ba.compositionEnd&&za&&(i=ot()):(xa=r,Pa="value"in xa?xa.value:xa.textContent,za=!0)),o=Da.getPooled(o,t,n,r),i?o.data=i:null!==(i=pt(n))&&(o.data=i),it(o),i=o):i=null,(e=Ua?dt(e,n):mt(e,n))?(t=ja.getPooled(Ba.beforeInput,t,n,r),t.data=e,it(t)):t=null,null===i?t:null===t?i:[i,t]}},Qa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ka={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Ga=null,Ya=null,$a=!1;to&&($a=ce("input")&&(!document.documentMode||9<document.documentMode));var Xa={eventTypes:Ka,_isInputEventSupported:$a,extractEvents:function(e,t,n,r){var i=t?$e(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=_t;else if(yt(i))if($a)a=Ct;else{a=St;var s=Tt}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Ot);if(a&&(a=a(e,t)))return vt(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&U(i,"number",i.value)}},Ja=ut.extend({view:null,detail:null}),Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},es=0,ts=0,ns=!1,rs=!1,is=Ja.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:It,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=es;return es=e.screenX,ns?"mousemove"===e.type?e.screenX-t:0:(ns=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=ts;return ts=e.screenY,rs?"mousemove"===e.type?e.screenY-t:0:(rs=!0,0)}}),os=is.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),as={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ss={eventTypes:as,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Ge(t):null)){var s=Z(t);(t!==s||5!==t.tag&&6!==t.tag)&&(t=null)}}else a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var u=is,c=as.mouseLeave,l=as.mouseEnter,f="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=os,c=as.pointerLeave,l=as.pointerEnter,f="pointer");if(e=null==a?o:$e(a),o=null==t?o:$e(t),c=u.getPooled(c,a,n,r),c.type=f+"leave",c.target=e,c.relatedTarget=o,n=u.getPooled(l,t,n,r),n.type=f+"enter",n.target=o,n.relatedTarget=e,r=a,f=t,r&&f)e:{for(u=r,l=f,a=0,e=u;e;e=Je(e))a++;for(e=0,t=l;t;t=Je(t))e++;for(;0<a-e;)u=Je(u),a--;for(;0<e-a;)l=Je(l),e--;for(;a--;){if(u===l||u===l.alternate)break e;u=Je(u),l=Je(l)}u=null}else u=null;for(l=u,u=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)u.push(r),r=Je(r);for(r=[];f&&f!==l&&(null===(a=f.alternate)||a!==l);)r.push(f),f=Je(f);for(f=0;f<u.length;f++)nt(u[f],"bubbled",c);for(f=r.length;0<f--;)nt(r[f],"captured",n);return 0===(64&i)?[c]:[c,n]}},us="function"===typeof Object.is?Object.is:kt,cs=Object.prototype.hasOwnProperty,ls=to&&"documentMode"in document&&11>=document.documentMode,fs={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},hs=null,ps=null,ds=null,ms=!1,ys={eventTypes:fs,extractEvents:function(e,t,n,r,i,o){if(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument),!(o=!i)){e:{i=J(i),o=eo.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?$e(t):window,e){case"focus":(yt(i)||"true"===i.contentEditable)&&(hs=i,ps=t,ds=null);break;case"blur":ds=ps=hs=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":return ms=!1,xt(n,r);case"selectionchange":if(ls)break;case"keydown":case"keyup":return xt(n,r)}return null}},vs=ut.extend({animationName:null,elapsedTime:null,pseudoElement:null}),gs=ut.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bs=Ja.extend({relatedTarget:null}),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Es=Ja.extend({key:function(e){if(e.key){var t=_s[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Pt(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?ws[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:It,charCode:function(e){return"keypress"===e.type?Pt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Pt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ts=is.extend({dataTransfer:null}),Ss=Ja.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:It}),Os=ut.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Cs=is.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ns={eventTypes:aa,extractEvents:function(e,t,n,r){var i=sa.get(e);if(!i)return null;switch(e){case"keypress":if(0===Pt(n))return null;case"keydown":case"keyup":e=Es;break;case"blur":case"focus":e=bs;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Ts;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ss;break;case Bo:case Wo:case zo:e=vs;break;case Ho:e=Os;break;case"scroll":e=Ja;break;case"wheel":e=Cs;break;case"copy":case"cut":case"paste":e=gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=os;break;default:e=ut}return t=e.getPooled(i,t,n,r),it(t),t}};if(Yi)throw Error(r(101));Yi=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),u();var Is=Ye;Qi=Xe,Ki=Is,Gi=$e,l({SimpleEventPlugin:Ns,EnterLeaveEventPlugin:ss,ChangeEventPlugin:Xa,SelectEventPlugin:ys,BeforeInputEventPlugin:Ha});var ks,As,xs,Ps,Rs=[],Ds=-1,js={},Ms={current:js},Ls={current:!1},Fs=js,Us=qi.unstable_runWithPriority,qs=qi.unstable_scheduleCallback,Vs=qi.unstable_cancelCallback,Bs=qi.unstable_requestPaint,Ws=qi.unstable_now,zs=qi.unstable_getCurrentPriorityLevel,Hs=qi.unstable_ImmediatePriority,Qs=qi.unstable_UserBlockingPriority,Ks=qi.unstable_NormalPriority,Gs=qi.unstable_LowPriority,Ys=qi.unstable_IdlePriority,$s={},Xs=qi.unstable_shouldYield,Js=void 0!==Bs?Bs:function(){},Zs=null,eu=null,tu=!1,nu=Ws(),ru=1e4>nu?Ws:function(){return Ws()-nu},iu={current:null},ou=null,au=null,su=null,uu=!1,cu=mo.ReactCurrentBatchConfig,lu=(new Fi.Component).refs,fu={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Z(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Lr(),i=cu.suspense;r=Fr(r,e,i),i=on(r,i),i.payload=t,void 0!==n&&null!==n&&(i.callback=n),an(e,i),Ur(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Lr(),i=cu.suspense;r=Fr(r,e,i),i=on(r,i),i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),an(e,i),Ur(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Lr(),r=cu.suspense;n=Fr(n,e,r),r=on(n,r),r.tag=2,void 0!==t&&null!==t&&(r.callback=t),an(e,r),Ur(e,n)}},hu=Array.isArray,pu=vn(!0),du=vn(!1),mu={},yu={current:mu},vu={current:mu},gu={current:mu},bu={current:0},_u=mo.ReactCurrentDispatcher,wu=mo.ReactCurrentBatchConfig,Eu=0,Tu=null,Su=null,Ou=null,Cu=!1,Nu={readContext:tn,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useResponder:On,useDeferredValue:On,useTransition:On},Iu={readContext:tn,useCallback:zn,useContext:tn,useEffect:Fn,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mn(4,2,Vn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mn(4,2,e,t)},useMemo:function(e,t){var n=In();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=In();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Gn.bind(null,Tu,e),[r.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:Rn,useDebugValue:Wn,useResponder:Sn,useDeferredValue:function(e,t){var n=Rn(e),r=n[0],i=n[1];return Fn(function(){var n=wu.suspense;wu.suspense=void 0===t?null:t;try{i(e)}finally{wu.suspense=n}},[e,t]),r},useTransition:function(e){var t=Rn(!1),n=t[0];return t=t[1],[zn(Kn.bind(null,t,e),[t,e]),n]}},ku={readContext:tn,useCallback:Hn,useContext:tn,useEffect:Un,useImperativeHandle:Bn,useLayoutEffect:qn,useMemo:Qn,useReducer:xn,useRef:jn,useState:function(){return xn(An)},useDebugValue:Wn,useResponder:Sn,useDeferredValue:function(e,t){var n=xn(An),r=n[0],i=n[1];return Un(function(){var n=wu.suspense;wu.suspense=void 0===t?null:t;try{i(e)}finally{wu.suspense=n}},[e,t]),r},useTransition:function(e){var t=xn(An),n=t[0];return t=t[1],[Hn(Kn.bind(null,t,e),[t,e]),n]}},Au={readContext:tn,useCallback:Hn,useContext:tn,useEffect:Un,useImperativeHandle:Bn,useLayoutEffect:qn,useMemo:Qn,useReducer:Pn,useRef:jn,useState:function(){return Pn(An)},useDebugValue:Wn,useResponder:Sn,useDeferredValue:function(e,t){var n=Pn(An),r=n[0],i=n[1];return Un(function(){var n=wu.suspense;wu.suspense=void 0===t?null:t;try{i(e)}finally{wu.suspense=n}},[e,t]),r},useTransition:function(e){var t=Pn(An),n=t[0];return t=t[1],[Hn(Kn.bind(null,t,e),[t,e]),n]}},xu=null,Pu=null,Ru=!1,Du=mo.ReactCurrentOwner,ju=!1,Mu={dehydrated:null,retryTime:0};ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},xs=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a=t.stateNode;switch(gn(yu.current),e=null,n){case"input":o=D(a,o),r=D(a,r),e=[];break;case"option":o=V(a,o),r=V(a,r),e=[];break;case"select":o=Ui({},o,{value:void 0}),r=Ui({},r,{value:void 0}),e=[];break;case"textarea":o=W(a,o),r=W(a,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(a.onclick=Le)}De(n,r);var s,u;n=null;for(s in o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in a=o[s])a.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(Zi.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(a=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==a&&(null!=c||null!=a))if("style"===s)if(a){for(u in a)!a.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&a[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,a=a?a.__html:void 0,null!=c&&a!==c&&(e=e||[]).push(s,c)):"children"===s?a===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(Zi.hasOwnProperty(s)?(null!=c&&Me(i,s),e||a===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Ps=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Lu,Fu="function"===typeof WeakSet?WeakSet:Set,Uu="function"===typeof WeakMap?WeakMap:Map,qu=Math.ceil,Vu=mo.ReactCurrentDispatcher,Bu=mo.ReactCurrentOwner,Wu=0,zu=8,Hu=16,Qu=32,Ku=0,Gu=1,Yu=2,$u=3,Xu=4,Ju=5,Zu=Wu,ec=null,tc=null,nc=0,rc=Ku,ic=null,oc=1073741823,ac=1073741823,sc=null,uc=0,cc=!1,lc=0,fc=500,hc=null,pc=!1,dc=null,mc=null,yc=!1,vc=null,gc=90,bc=null,_c=0,wc=null,Ec=0;Lu=function(e,t,n){var i=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||Ls.current)ju=!0;else{if(i<n){switch(ju=!1,t.tag){case 3:cr(t),er();break;case 5:if(wn(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Mt(t.type)&&qt(t);break;case 4:bn(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,o=t.type._context,Dt(iu,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?lr(e,t,n):(Dt(bu,1&bu.current),t=dr(e,t,n),null!==t?t.sibling:null);Dt(bu,1&bu.current);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return pr(e,t,n);t.effectTag|=64}if(o=t.memoizedState,null!==o&&(o.rendering=null,o.tail=null),Dt(bu,bu.current),!i)return null}return dr(e,t,n)}ju=!1}}else ju=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=jt(t,Ms.current),en(t,n),o=Nn(null,t,i,e,o,n),t.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(i)){var a=!0;qt(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,nn(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&ln(t,i,s,e),o.updater=fu,t.stateNode=o,o._reactInternalFiber=t,dn(t,i,e,n),t=ur(null,t,i,!0,a,n)}else t.tag=0,tr(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,C(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,a=t.tag=vi(o),e=$t(o,e),a){case 0:t=ar(null,t,o,e,n);break e;case 1:t=sr(null,t,o,e,n);break e;case 11:t=nr(null,t,o,e,n);break e;case 14:t=rr(null,t,o,$t(o.type,e),i,n);break e}throw Error(r(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:$t(i,o),ar(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:$t(i,o),sr(e,t,i,o,n);case 3:if(cr(t),i=t.updateQueue,null===e||null===i)throw Error(r(282));if(i=t.pendingProps,o=t.memoizedState,o=null!==o?o.element:null,rn(e,t),un(t,i,null,n),(i=t.memoizedState.element)===o)er(),t=dr(e,t,n);else{if((o=t.stateNode.hydrate)&&(Pu=Qe(t.stateNode.containerInfo.firstChild),xu=t,o=Ru=!0),o)for(n=du(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else tr(e,t,i,n),er();t=t.child}return t;case 5:return wn(t),null===e&&Xn(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,He(i,o)?s=null:null!==a&&He(i,a)&&(t.effectTag|=16),or(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(tr(e,t,s,n),t=t.child),t;case 6:return null===e&&Xn(t),null;case 13:return lr(e,t,n);case 4:return bn(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=pu(t,null,i,n):tr(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:$t(i,o),nr(e,t,i,o,n);case 7:return tr(e,t,t.pendingProps,n),t.child;case 8:case 12:return tr(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var u=t.type._context;if(Dt(iu,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=us(u,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Ls.current){t=dr(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===i&&0!==(l.observedBits&a)){1===u.tag&&(l=on(n,null),l.tag=2,an(u,l)),u.expirationTime<n&&(u.expirationTime=n),l=u.alternate,null!==l&&l.expirationTime<n&&(l.expirationTime=n),Zt(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}tr(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps,i=a.children,en(t,n),o=tn(o,a.unstable_observedBits),i=i(o),t.effectTag|=1,tr(e,t,i,n),t.child;case 14:return o=t.type,a=$t(o,t.pendingProps),a=$t(o.type,a),rr(e,t,o,a,i,n);case 15:return ir(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:$t(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mt(i)?(e=!0,qt(t)):e=!1,en(t,n),hn(t,i,o),dn(t,i,o,n),ur(null,t,i,!0,e,n);case 19:return pr(e,t,n)}throw Error(r(156,t.tag))};var Tc=null,Sc=null;Pi.prototype.render=function(e){Ii(e,this._internalRoot,null,null)},Pi.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ii(null,e,null,function(){t[Aa]=null})},Uo=function(e){if(13===e.tag){var t=Yt(Lr(),150,100);Ur(e,t),xi(e,t)}},qo=function(e){13===e.tag&&(Ur(e,3),xi(e,3))},Vo=function(e){if(13===e.tag){var t=Lr();t=Fr(t,e,null),Ur(e,t),xi(e,t)}},no=function(e,t,n){switch(t){case"input":if(L(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Xe(i);if(!o)throw Error(r(90));R(i),L(i,o)}}}break;case"textarea":H(e,n);break;case"select":null!=(t=n.value)&&B(e,!!n.multiple,t,!1)}},d=Qr,m=function(e,t,n,r,i){var o=Zu;Zu|=4;try{return zt(98,e.bind(null,t,n,r,i))}finally{(Zu=o)===Wu&&Kt()}},y=function(){(Zu&(1|Hu|Qu))===Wu&&(Hr(),si())},oo=function(e,t){var n=Zu;Zu|=2;try{return e(t)}finally{(Zu=n)===Wu&&Kt()}};var Oc={Events:[Ye,$e,Xe,l,Ji,it,function(e){oe(e,rt)},h,p,Ae,se,si,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;pi(Ui({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=re(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ge,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oc,t.createPortal=Li,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=re(t),e=null===e?null:e.stateNode},t.flushSync=function(e,t){if((Zu&(Hu|Qu))!==Wu)throw Error(r(187));var n=Zu;Zu|=1;try{return zt(99,e.bind(null,t))}finally{Zu=n,Kt()}},t.hydrate=function(e,t,n){if(!Ri(t))throw Error(r(200));return ji(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ri(t))throw Error(r(200));return ji(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ri(e))throw Error(r(40));return!!e._reactRootContainer&&(Kr(function(){ji(null,null,e,!1,function(){e._reactRootContainer=null,e[Aa]=null})}),!0)},t.unstable_batchedUpdates=Qr,t.unstable_createPortal=function(e,t){return Li(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ri(n))throw Error(r(200));if(null==e||void 0===e._reactInternalFiber)throw Error(r(38));return ji(e,t,n,!1,i)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(291)},function(e,t,n){"use strict";function r(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function i(e){return e=e[0],void 0===e?null:e}function o(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],u=o+1,c=e[u];if(void 0!==s&&0>a(s,n))void 0!==c&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==c&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}return null}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function s(e){for(var t=i(D);null!==t;){if(null===t.callback)o(D);else{if(!(t.startTime<=e))break;o(D),t.sortIndex=t.expirationTime,r(R,t)}t=i(D)}}function u(e){if(q=!1,s(e),!U)if(null!==i(R))U=!0,f(c);else{var t=i(D);null!==t&&h(u,t.startTime-e)}}function c(e,n){U=!1,q&&(q=!1,p()),F=!0;var r=L;try{for(s(n),M=i(R);null!==M&&(!(M.expirationTime>n)||e&&!d());){var a=M.callback;if(null!==a){M.callback=null,L=M.priorityLevel;var c=a(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?M.callback=c:M===i(R)&&o(R),s(n)}else o(R);M=i(R)}if(null!==M)var l=!0;else{var f=i(D);null!==f&&h(u,f.startTime-n),l=!1}return l}finally{M=null,L=r,F=!1}}function l(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var f,h,p,d,m;if("undefined"===typeof window||"function"!==typeof MessageChannel){var y=null,v=null,g=function(){if(null!==y)try{var e=t.unstable_now();y(!0,e),y=null}catch(e){throw setTimeout(g,0),e}},b=Date.now();t.unstable_now=function(){return Date.now()-b},f=function(e){null!==y?setTimeout(f,0,e):(y=e,setTimeout(g,0))},h=function(e,t){v=setTimeout(e,t)},p=function(){clearTimeout(v)},d=function(){return!1},m=t.unstable_forceFrameRate=function(){}}else{var _=window.performance,w=window.Date,E=window.setTimeout,T=window.clearTimeout;if("undefined"!==typeof console){var S=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof S&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof _&&"function"===typeof _.now)t.unstable_now=function(){return _.now()};else{var O=w.now();t.unstable_now=function(){return w.now()-O}}var C=!1,N=null,I=-1,k=5,A=0;d=function(){return t.unstable_now()>=A},m=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,P=x.port2;x.port1.onmessage=function(){if(null!==N){var e=t.unstable_now();A=e+k;try{N(!0,e)?P.postMessage(null):(C=!1,N=null)}catch(e){throw P.postMessage(null),e}}else C=!1},f=function(e){N=e,C||(C=!0,P.postMessage(null))},h=function(e,n){I=E(function(){e(t.unstable_now())},n)},p=function(){T(I),I=-1}}var R=[],D=[],j=1,M=null,L=3,F=!1,U=!1,q=!1,V=m;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){U||F||(U=!0,f(c))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return i(R)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,n,o){var a=t.unstable_now();if("object"===typeof o&&null!==o){var s=o.delay;s="number"===typeof s&&0<s?a+s:a,o="number"===typeof o.timeout?o.timeout:l(e)}else o=l(e),s=a;return o=s+o,e={id:j++,callback:n,priorityLevel:e,startTime:s,expirationTime:o,sortIndex:-1},s>a?(e.sortIndex=s,r(D,e),null===i(R)&&e===i(D)&&(q?p():q=!0,h(u,s-a))):(e.sortIndex=o,r(R,e),U||F||(U=!0,f(c))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();s(e);var n=i(R);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||d()},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(8),c=n(319),l=n(336),f=n(524),h=n(525),p=n(526),d=n(527),m=n(528),y=n(530),v=n(548),g=n(550),b=n(553),_=n(554),w=n(557),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),E(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"APP"},s.a.createElement(u.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(c.a,null),s.a.createElement(u.f,null,s.a.createElement(u.e,{exact:!0,path:"/",component:l.a}),s.a.createElement(u.e,{path:"/project/:id",component:f.a}),s.a.createElement(u.e,{path:"/classes/:id",component:h.a}),s.a.createElement(u.e,{path:"/signin",component:p.a}),s.a.createElement(u.e,{path:"/signup",component:d.a}),s.a.createElement(u.e,{path:"/create",component:m.a}),s.a.createElement(u.e,{path:"/add",component:y.a}),s.a.createElement(u.e,{exact:!0,path:"/attendanceSuccess",component:l.a}),s.a.createElement(u.e,{path:"/attendance/",component:v.a}),s.a.createElement(u.e,{path:"/admin",component:b.a}),s.a.createElement(u.e,{path:"/teacherAttendance/",component:g.a}),s.a.createElement(u.e,{path:"/:id/view",component:_.a}),s.a.createElement(u.e,{path:"/:id/list",component:w.a})))))}}]),t}(a.Component);t.a=T},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(22),s=n.n(a),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(40),p=n(93),d=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=Object(h.a)(o.props),a=n,i(o,a)}return o(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(p.a,{history:this.history,children:this.props.children})},t}(c.a.Component);d.propTypes={basename:f.a.string,forceRefresh:f.a.bool,getUserConfirmation:f.a.func,keyLength:f.a.number,children:f.a.node},t.a=d},function(e,t,n){"use strict";function r(){}function i(){}var o=n(296);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function o(e,t){void 0===t&&(t="");var n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),u=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c;if(o.length){var l=o[o.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=o.length;h>=0;h--){var p=o[h];"."===p?i(o,h):".."===p?(i(o,h),f++):f&&(i(o,h),f--)}if(!u)for(;f--;f)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var d=o.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d}t.a=o},function(e,t,n){"use strict";function r(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function i(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return i(e,t[n])});if("object"===typeof e||"object"===typeof t){var n=r(e),o=r(t);return n!==e||o!==t?i(n,o):Object.keys(Object.assign({},e,t)).every(function(n){return i(e[n],t[n])})}return!1}t.a=i},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e,t){if(!e){if(i)throw new Error(o);throw new Error(o+": "+(t||""))}}var i=!0,o="Invariant failed";t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(22),s=n.n(a),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(40),p=n(93),d=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=Object(h.b)(o.props),a=n,i(o,a)}return o(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(p.a,{history:this.history,children:this.props.children})},t}(c.a.Component);d.propTypes={basename:f.a.string,getUserConfirmation:f.a.func,hashType:f.a.oneOf(["hashbang","noslash","slash"]),children:f.a.node}},function(e,t,n){"use strict";var r=n(303);r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(22),s=n.n(a),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(40),p=n(94),d=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=Object(h.d)(o.props),a=n,i(o,a)}return o(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(p.a,{history:this.history,children:this.props.children})},t}(c.a.Component);d.propTypes={initialEntries:f.a.array,initialIndex:f.a.number,getUserConfirmation:f.a.func,keyLength:f.a.number,children:f.a.node},t.a=d},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(160),c=n(159),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e){var t=e.to,n=e.exact,i=e.strict,a=e.location,s=e.activeClassName,h=e.className,p=e.activeStyle,d=e.style,m=e.isActive,y=e["aria-current"],v=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),g="object"===("undefined"===typeof t?"undefined":f(t))?t.pathname:t,b=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return o.a.createElement(u.a,{path:b,exact:n,strict:i,location:a,children:function(e){var n=e.location,r=e.match,i=!!(m?m(r,n):r);return o.a.createElement(c.a,l({to:t,className:i?[h,s].filter(function(e){return e}).join(" "):h,style:i?l({},d,p):d,"aria-current":i&&y||null},v))}})};h.propTypes={to:c.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,"aria-current":s.a.oneOf(["page","step","location","date","time","true"])},h.defaultProps={activeClassName:"active","aria-current":"page"},t.a=h},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(307);r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(28),f=n.n(l),h=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.a.Component);h.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},h.defaultProps={when:!0},h.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},t.a=h},function(e,t,n){"use strict";var r=n(309);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(22),f=n.n(l),h=n(28),p=n.n(h),d=n(40),m=n(163),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(d.c)(e.to),n=Object(d.c)(this.props.to);if(Object(d.f)(t,n))return void f()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?Object(m.a)(n,t.params):y({},n,{pathname:Object(m.a)(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(s.a.Component);v.propTypes={computedMatch:c.a.object,push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},v.defaultProps={push:!1},v.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},t.a=v},function(e,t,n){"use strict";var r=n(311);r.a},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(22),u=n.n(s),c=n(28),l=n.n(c),f=n(0),h=n.n(f),p=n(1),d=n.n(p),m=n(40),y=n(94),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e){return"/"===e.charAt(0)?e:"/"+e},b=function(e,t){return e?v({},t,{pathname:g(e)+t.pathname}):t},_=function(e,t){if(!e)return t;var n=g(e);return 0!==t.pathname.indexOf(n)?t:v({},t,{pathname:t.pathname.substr(n.length)})},w=function(e){return"string"===typeof e?e:Object(m.e)(e)},E=function(e){return function(){l()(!1,"You cannot %s with <StaticRouter>",e)}},T=function(){},S=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.createHref=function(e){return g(r.props.basename+w(e))},r.handlePush=function(e){var t=r.props,n=t.basename,i=t.context;i.action="PUSH",i.location=b(n,Object(m.c)(e)),i.url=w(i.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,i=t.context;i.action="REPLACE",i.location=b(n,Object(m.c)(e)),i.url=w(i.location)},r.handleListen=function(){return T},r.handleBlock=function(){return T},a=n,o(r,a)}return a(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){u()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),i=r(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:_(t,Object(m.c)(n)),push:this.handlePush,replace:this.handleReplace,go:E("go"),goBack:E("goBack"),goForward:E("goForward"),listen:this.handleListen,block:this.handleBlock};return h.a.createElement(y.a,v({},i,{history:o}))},t}(h.a.Component);S.propTypes={basename:d.a.string,context:d.a.object.isRequired,location:d.a.oneOfType([d.a.string,d.a.object])},S.defaultProps={basename:"",location:"/"},S.childContextTypes={router:d.a.object.isRequired},t.a=S},function(e,t,n){"use strict";var r=n(313);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(22),f=n.n(l),h=n(28),p=n.n(h),d=n(95),m=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){f()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),f()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,i=void 0;return s.a.Children.forEach(t,function(t){if(null==r&&s.a.isValidElement(t)){var o=t.props,a=o.path,u=o.exact,c=o.strict,l=o.sensitive,f=o.from,h=a||f;i=t,r=Object(d.a)(n.pathname,{path:h,exact:u,strict:c,sensitive:l},e.match)}}),r?s.a.cloneElement(i,{location:n,computedMatch:r}):null},t}(s.a.Component);m.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},m.propTypes={children:c.a.node,location:c.a.object},t.a=m},function(e,t,n){"use strict";var r=n(163);r.a},function(e,t,n){"use strict";var r=n(95);r.a},function(e,t,n){"use strict";var r=n(317);r.a},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(318),c=n.n(u),l=n(161),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){var t=function(t){var n=t.wrappedComponentRef,i=r(t,["wrappedComponentRef"]);return o.a.createElement(l.a,{children:function(t){return o.a.createElement(e,f({},i,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s.a.func},c()(t,e)};t.a=h},function(e,t,n){"use strict";function r(e,t,n){if("string"!==typeof t){if(f){var h=l(t);h&&h!==f&&r(e,h,n)}var p=s(t);u&&(p=p.concat(u(t)));for(var d=0;d<p.length;++d){var m=p[d];if(!i[m]&&!o[m]&&(!n||!n[m])){var y=c(t,m);try{a(e,m,y)}catch(e){}}}return e}return e}var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,s=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,f=l&&l(Object);e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=(n(8),n(320)),a=n(334),s=n(11),u=n(335),c=n.n(u),l=function(e){var t=e.auth,n=e.profile,r=t.uid?i.a.createElement(o.a,{profile:n}):i.a.createElement(a.a,null);return console.log("const Navbar = (props) => {",t),console.log("profile) => {",n),i.a.createElement("nav",{className:"nav-wrapper grey darken-3"},i.a.createElement("div",{className:"container"},i.a.createElement("a",{href:"/"},i.a.createElement("img",{className:"LOGO",src:c.a,width:"300px",height:"60px"})),i.a.createElement("div",{className:"links"}," ",r," ")))},f=function(e){return console.log("mapStateToProps)(Navbar",e),{auth:e.firebase.auth,profile:e.firebase.profile}};t.a=Object(s.b)(f)(l)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(8),a=n(11),s=n(97),u=function(e){return e&&e.profile&&e.profile.role?"student"===e.profile.role.toLowerCase()?i.a.createElement("div",null,i.a.createElement("ul",{className:"right"},i.a.createElement("li",null,i.a.createElement(o.c,{to:"/add"},"Add Class")),i.a.createElement("li",null,i.a.createElement("a",{onClick:e.signOut},"Log Out")),i.a.createElement("li",null,i.a.createElement(o.c,{to:"/",className:"btn btn-floating pink lighten-1"},e.profile.initials)))):"teacher"===e.profile.role.toLowerCase()?i.a.createElement("div",null,i.a.createElement("ul",{className:"right"},i.a.createElement("li",null,i.a.createElement(o.c,{to:"/add"},"Add Class")),i.a.createElement("li",null,i.a.createElement("a",{onClick:e.signOut},"Log Out")),i.a.createElement("li",null,i.a.createElement(o.c,{to:"/",className:"btn btn-floating blue lighten-1"},e.profile.initials)))):void 0:i.a.createElement("div",null)},c=function(e){return{signOut:function(){return e(Object(s.b)())}}};t.a=Object(a.b)(null,c)(u)},function(e,t,n){"use strict";var r=n(7),i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(164);n(96),o.a.forwardRef;t.a=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",o=function(t){function o(n,r){var i;return i=t.call(this,n,r)||this,i[e]=n.store,i}Object(r.a)(o,t);var a=o.prototype;return a.getChildContext=function(){var t;return t={},t[e]=this[e],t[n]=null,t},a.render=function(){return i.Children.only(this.props.children)},o}(i.Component);return o.propTypes={store:u.a.isRequired,children:s.a.element.isRequired},o.childContextTypes=(t={},t[e]=u.a.isRequired,t[n]=u.b,t),o}()},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=r},function(e,t,n){"use strict";function r(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case p:case d:case u:case l:case c:case y:return e;default:switch(e=e&&e.$$typeof){case h:case m:case b:case g:case f:return e;default:return t}}case s:return t}}}function i(e){return r(e)===d}var o="function"===typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,f=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.async_mode"):60111,d=o?Symbol.for("react.concurrent_mode"):60111,m=o?Symbol.for("react.forward_ref"):60112,y=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,b=o?Symbol.for("react.lazy"):60116,_=o?Symbol.for("react.block"):60121,w=o?Symbol.for("react.fundamental"):60117,E=o?Symbol.for("react.responder"):60118,T=o?Symbol.for("react.scope"):60119;t.AsyncMode=p,t.ConcurrentMode=d,t.ContextConsumer=h,t.ContextProvider=f,t.Element=a,t.ForwardRef=m,t.Fragment=u,t.Lazy=b,t.Memo=g,t.Portal=s,t.Profiler=l,t.StrictMode=c,t.Suspense=y,t.isAsyncMode=function(e){return i(e)||r(e)===p},t.isConcurrentMode=i,t.isContextConsumer=function(e){return r(e)===h},t.isContextProvider=function(e){return r(e)===f},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return r(e)===m},t.isFragment=function(e){return r(e)===u},t.isLazy=function(e){return r(e)===b},t.isMemo=function(e){return r(e)===g},t.isPortal=function(e){return r(e)===s},t.isProfiler=function(e){return r(e)===l},t.isStrictMode=function(e){return r(e)===c},t.isSuspense=function(e){return r(e)===y},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===u||e===d||e===l||e===c||e===y||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===f||e.$$typeof===h||e.$$typeof===m||e.$$typeof===w||e.$$typeof===E||e.$$typeof===T||e.$$typeof===_)},t.typeOf=r},function(e,t,n){"use strict";function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return a});var i=null,o={notify:function(){}},a=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=o}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}()},function(e,t,n){"use strict";function r(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function i(e,t){return e===t}var o=n(2),a=n(4),s=n(165),u=n(326),c=n(327),l=n(330),f=n(331),h=n(332);t.a=function(e){var t=void 0===e?{}:e,n=t.connectHOC,p=void 0===n?s.a:n,d=t.mapStateToPropsFactories,m=void 0===d?l.a:d,y=t.mapDispatchToPropsFactories,v=void 0===y?c.a:y,g=t.mergePropsFactories,b=void 0===g?f.a:g,_=t.selectorFactory,w=void 0===_?h.a:_;return function(e,t,n,s){void 0===s&&(s={});var c=s,l=c.pure,f=void 0===l||l,h=c.areStatesEqual,d=void 0===h?i:h,y=c.areOwnPropsEqual,g=void 0===y?u.a:y,_=c.areStatePropsEqual,E=void 0===_?u.a:_,T=c.areMergedPropsEqual,S=void 0===T?u.a:T,O=Object(a.a)(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=r(e,m,"mapStateToProps"),N=r(t,v,"mapDispatchToProps"),I=r(n,b,"mergeProps");return p(w,Object(o.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:N,initMergeProps:I,pure:f,areStatesEqual:d,areOwnPropsEqual:g,areStatePropsEqual:E,areMergedPropsEqual:S},O))}}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}t.a=i;var o=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"===typeof e?Object(s.b)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:Object(s.a)(function(e){return{dispatch:e}})}function o(e){return e&&"object"===typeof e?Object(s.a)(function(t){return Object(a.b)(e,t)}):void 0}var a=n(14),s=n(167);t.a=[r,i,o]},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(o.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.a=i;var o=n(15)},function(e,t,n){"use strict";function r(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}t.a=r},function(e,t,n){"use strict";function r(e){return"function"===typeof e?Object(o.b)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:Object(o.a)(function(){return{}})}var o=n(167);t.a=[r,i]},function(e,t,n){"use strict";function r(e,t,n){return Object(s.a)({},n,e,t)}function i(e){return function(t,n){var r,i=(n.displayName,n.pure),o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}function o(e){return"function"===typeof e?i(e):void 0}function a(e){return e?void 0:function(){return r}}var s=n(2);n(168);t.a=[o,a]},function(e,t,n){"use strict";function r(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function i(e,t,n,r,i){function o(i,o){return l=i,f=o,h=e(l,f),p=t(r,f),d=n(h,p,f),g=!0,d}function a(){return h=e(l,f),t.dependsOnOwnProps&&(p=t(r,f)),d=n(h,p,f)}function s(){return e.dependsOnOwnProps&&(h=e(l,f)),t.dependsOnOwnProps&&(p=t(r,f)),d=n(h,p,f)}function u(){var t=e(l,f),r=!v(t,h);return h=t,r&&(d=n(h,p,f)),d}function c(e,t){var n=!y(t,f),r=!m(e,l);return l=e,f=t,n&&r?a():n?s():r?u():d}var l,f,h,p,d,m=i.areStatesEqual,y=i.areOwnPropsEqual,v=i.areStatePropsEqual,g=!1;return function(e,t){return g?c(e,t):o(e,t)}}function o(e,t){var n=t.initMapStateToProps,o=t.initMapDispatchToProps,s=t.initMergeProps,u=Object(a.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,u),l=o(e,u),f=s(e,u);return(u.pure?i:r)(c,l,f,e,u)}t.a=o;var a=n(4);n(333)},function(e,t,n){"use strict";n(96)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(8),a=function(){return i.a.createElement("div",null,i.a.createElement("ul",{className:"right"},i.a.createElement("li",null,i.a.createElement(o.c,{to:"/signup"},"Signup")),i.a.createElement("li",null,i.a.createElement(o.c,{to:"/signin"},"Login"))))};t.a=a},function(e,t,n){e.exports=n.p+"static/media/long_attend.360da290.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=(n(337),n(338)),c=n(339),l=(n(523),n(11)),f=n(18),h=(n.n(f),n(14)),p=n(8),d=n(20),m=(n.n(d),n(241)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=(e.projects,e.auth),n=e.notifications,r=e.studentClasses,i=e.teacherClasses,o=e.courses,a=e.profile;return t.uid?(console.log("auth",a),console.log("studentClasses",o),a&&a.role?"student"===a.role.toLowerCase()?s.a.createElement("div",{className:"dashboard container"},s.a.createElement("h3",null,"Student Dashboard"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"projectsContainer col s12 m7"},s.a.createElement(c.a,{auth:t,courses:o,studentClasses:r})),s.a.createElement("div",{className:"col s12 m4 offset-1"},s.a.createElement(u.a,{notifications:n})))):"teacher"===a.role.toLowerCase()?s.a.createElement("div",{className:"dashboard container"},s.a.createElement("h3",null,"Teacher Dashboard"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"projectsContainer col s12 m7"},s.a.createElement(m.a,{auth:t,courses:o,teacherClasses:i})),s.a.createElement("div",{className:"col s12 m4 offset-1"},s.a.createElement(u.a,{notifications:n})))):void 0:s.a.createElement("div",null,"     ",s.a.createElement("div",null,s.a.createElement("p",null," ")),"  ")):s.a.createElement(p.d,{to:"/signin"})}}]),t}(a.Component),g=function(e){return{state:e}},b=function(e){return console.log("STATATA",e),{projects:e.firestore.ordered.projects,auth:e.firebase.auth,profile:e.firebase.profile,courses:e.firestore.ordered.courses,notifications:e.firestore.ordered.notifications,studentClasses:e.firestore.ordered.studentClasses,teacherClasses:e.firestore.ordered.teacherClasses}};t.a=Object(h.d)(Object(l.b)(g),Object(l.b)(b),Object(f.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"studentClasses"},{collection:"teacherClasses"},{collection:"courses"},{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(v)},function(e,t,n){"use strict";var r=n(0);n.n(r),n(98),n(8)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(29),a=n.n(o),s=function(e){var t=e.notifications;return i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"card z-depth-0"},i.a.createElement("div",{className:"card-content"},i.a.createElement("span",{className:"card-title"},"Notifications"),i.a.createElement("ul",{className:"online-users"},t&&t.map(function(e){return i.a.createElement("li",{key:e.id},i.a.createElement("span",{className:"pink-text"},e.user," "),i.a.createElement("span",null,e.content),i.a.createElement("div",{className:"note-date grey-text"},a()(e.time.toDate()).fromNow()))})))))};t.a=s},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=(n(98),n(169)),a=n(20),s=(n.n(a),n(8),n(27)),u=(n.n(s),function(e){var t=e.courses,n=e.studentClasses,r=e.auth;console.log("courses",r),console.log("courses",t),console.log("studentClasses",n);var a=[];return t&&n&&r&&t.forEach(function(e){n.forEach(function(t){t.courseId==e.id&&t.studentId==r.uid&&a.push(e)})}),i.a.createElement("div",{className:"project-list section"},a&&a.map(function(e){return i.a.createElement(o.a,{key:e.courseName,course:e})}))});t.a=u},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(41),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getEventsFromInput=t.pathStrToObj=void 0;var i=n(343),o=r(i),a=n(32),s=r(a),u=n(10),c=r(u),l=n(6),f=r(l),h=n(393),p=r(h),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=n(77),y=n(197),v=t.pathStrToObj=function(e){var t={path:e,type:"value",isQuery:!1},n=(0,y.getQueryIdFromPath)(e);if(n){var r=e.split("#");t=d({},t,{queryId:n,isQuery:!0,path:r[0],queryParams:r[1].split("&")}),(0,m.getPopulates)(r[1].split("&"))&&(t.populates=(0,m.getPopulates)(r[1].split("&")),t.queryParams=(0,o.default)(r[1].split("&"),function(e){return-1===e.indexOf("populate")}))}return t},g=t.getEventsFromInput=function(e){return(0,p.default)(e,function(e){if((0,s.default)(e))return[v(e)];if((0,f.default)(e))return[{type:"first_child",path:e[0]},{type:"child_added",path:e[0]},{type:"child_removed",path:e[0]},{type:"child_moved",path:e[0]},{type:"child_changed",path:e[0]}];if((0,c.default)(e)){if(!e.path)throw new Error("Path is a required parameter within definition object");var t=e.path;return e.storeAs&&(t+="@"+e.storeAs),e.queryParams&&(t+="#"+e.queryParams.join("&")),e=d({},v(t),e),[e]}throw new Error("Invalid Path Definition: "+e+". Only strings, objects, and arrays accepted.")})};t.default={getEventsFromInput:g}},function(e,t,n){function r(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],s=e.length;for(t=i(t,3);++r<s;){var u=e[r];t(u,r,e)&&(n.push(u),a.push(r))}return o(e,a),n}var i=n(19),o=n(392);e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(345),o=n(385),a=n(184);e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){f=n[u];var h=f[0],p=e[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in e))return!1}else{var m=new i;if(r)var y=r(p,d,h,e,t,m);if(!(void 0===y?o(d,p,a|s,r,m):y))return!1}}return!0}var i=n(66),o=n(101),a=1,s=2;e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var i=n(68),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(68);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(68);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(68);e.exports=r},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(67);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var i=n(67),o=n(99),a=n(100),s=200;e.exports=r},function(e,t,n){function r(e){return!(!a(e)||o(e))&&(i(e)?d:c).test(s(e))}var i=n(12),o=n(357),a=n(10),s=n(172),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,h=l.toString,p=f.hasOwnProperty,d=RegExp("^"+h.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return!!o&&o in e}var i=n(358),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(16),i=r["__core-js_shared__"];e.exports=i},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(361),o=n(67),a=n(99);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(362),o=n(363),a=n(364),s=n(365),u=n(366);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(69);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(69),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=n(69),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(69),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(70);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(70);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(70);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(70);e.exports=r},function(e,t,n){function r(e,t,n,r,y,g){var b=c(e),_=c(t),w=b?d:u(e),E=_?d:u(t);w=w==p?m:w,E=E==p?m:E;var T=w==m,S=E==m,O=w==E;if(O&&l(e)){if(!l(t))return!1;b=!0,T=!1}if(O&&!T)return g||(g=new i),b||f(e)?o(e,t,n,r,y,g):a(e,t,w,n,r,y,g);if(!(n&h)){var C=T&&v.call(e,"__wrapped__"),N=S&&v.call(t,"__wrapped__");if(C||N){var I=C?e.value():e,k=N?t.value():t;return g||(g=new i),y(I,k,n,r,g)}}return!!O&&(g||(g=new i),s(e,t,n,r,y,g))}var i=n(66),o=n(173),a=n(375),s=n(377),u=n(44),c=n(6),l=n(72),f=n(108),h=1,p="[object Arguments]",d="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t,n,r,i,T,O){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!T(new o(e),new o(t)));case h:case p:case y:return a(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case m:var C=u;case g:var N=r&l;if(C||(C=c),e.size!=t.size&&!N)return!1;var I=O.get(e);if(I)return I==t;r|=f,O.set(e,t);var k=s(C(e),C(t),r,i,T,O);return O.delete(e),k;case _:if(S)return S.call(e)==S.call(t)}return!1}var i=n(41),o=n(175),a=n(50),s=n(173),u=n(376),c=n(104),l=1,f=2,h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",T=i?i.prototype:void 0,S=T?T.valueOf:void 0;e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e,t,n,r,a,u){var c=n&o,l=i(e),f=l.length;if(f!=i(t).length&&!c)return!1;for(var h=f;h--;){var p=l[h];if(!(c?p in t:s.call(t,p)))return!1}var d=u.get(e),m=u.get(t);if(d&&m)return d==t&&m==e;var y=!0;u.set(e,t),u.set(t,e);for(var v=c;++h<f;){p=l[h];var g=e[p],b=t[p];if(r)var _=c?r(b,g,p,t,e,u):r(g,b,p,e,t,u);if(!(void 0===_?g===b||a(g,b,n,r,u):_)){y=!1;break}v||(v="constructor"==p)}if(y&&!v){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(y=!1)}return u.delete(e),u.delete(t),y}var i=n(176),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(23),o=n(13),a="[object Arguments]";e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!s[i(e)]}var i=n(23),o=n(109),a=n(13),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){var r=n(180),i=r(Object.keys,Object);e.exports=i},function(e,t,n){var r=n(34),i=n(16),o=r(i,"DataView");e.exports=o},function(e,t,n){var r=n(34),i=n(16),o=r(i,"Promise");e.exports=o},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}var i=n(183),o=n(42);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?a(n,e):i(t,r,f|h)}}var i=n(101),o=n(35),a=n(186),s=n(112),u=n(183),c=n(184),l=n(31),f=1,h=2;e.exports=r},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var i=n(388),o=500;e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(100),o="Expected a function";r.Cache=i,e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return a(e)?i(s(e)):o(e)}var i=n(188),o=n(391),a=n(112),s=n(31);e.exports=r},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(75);e.exports=r},function(e,t,n){function r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==u){var u=a;o(a)?s.call(e,a,1):i(e,a)}}return e}var i=n(114),o=n(43),a=Array.prototype,s=a.splice;e.exports=r},function(e,t,n){function r(e,t){return i(o(e,t),1)}var i=n(76),o=n(54);e.exports=r},function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(41),o=n(71),a=n(6),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(38),o=n(30);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(30);e.exports=r},function(e,t,n){function r(e,t){var n;return i(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}var i=n(38);e.exports=r},function(e,t){function n(e,t){return null!=e&&i.call(e,t)}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e){return"function"==typeof e?e:i}var i=n(52);e.exports=r},function(e,t,n){function r(e){return o(e)?a(e):i(e)}var i=n(402),o=n(119),a=n(403);e.exports=r},function(e,t,n){var r=n(188),i=r("length");e.exports=i},function(e,t){function n(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",o,a].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,o,a,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t,n){function r(e){return i(e)&&e!=+e}var i=n(405);e.exports=r},function(e,t,n){function r(e){return"number"==typeof e||o(e)&&i(e)==a}var i=n(23),o=n(13),a="[object Number]";e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n=t._.config,r=n.onProfileListenerError,i=n.logErrors;return function(e){if(i&&console.error("Error with profile listener: "+(e.message||""),e),(0,v.default)(r)){var n=r(e,t);if((0,v.default)(n.then))return n}return Promise.reject(e)}}function a(e,t,n,r){if(n({type:T.actionTypes.AUTH_LINK_START}),!r.auth().currentUser){var o=new Error("User must be logged in to link with credential.");return n({type:T.actionTypes.AUTH_LINK_ERROR,error:o}),Promise.reject(o)}return e.apply(void 0,i(t)).then(function(e){return n({type:T.actionTypes.AUTH_LINK_SUCCESS,payload:e}),e}).catch(function(e){return n({type:T.actionTypes.AUTH_LINK_ERROR,error:e}),Promise.reject(e)})}function s(e,t,n){return a(t.auth().currentUser.linkAndRetrieveDataWithCredential,[n],e,t)}function u(e,t,n){return a(t.auth().currentUser.linkWithPopup,[n],e,t)}function c(e,t,n){return a(t.auth().currentUser.linkWithRedirect,[n],e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.signInWithPhoneNumber=t.linkWithCredential=t.reloadAuth=t.updateEmail=t.updateAuth=t.updateProfile=t.verifyPasswordResetCode=t.confirmPasswordReset=t.resetPassword=t.createUser=t.logout=t.login=t.init=t.handleRedirectResult=t.createUserProfile=t.watchUserProfile=t.handleProfileWatchResponse=t.unWatchUserProfile=void 0;var l=n(81),f=r(l),h=n(82),p=r(h),d=n(79),m=r(d),y=n(12),v=r(y),g=n(32),b=r(g),_=n(6),w=r(_),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.linkAndRetrieveDataWithCredential=s,t.linkWithPopup=u,t.linkWithRedirect=c;var T=n(17),S=n(208),O=n(138),C=n(77),N=function(e,t){return e({type:T.actionTypes.LOGIN_ERROR,authError:t})},I=t.unWatchUserProfile=function(e){var t=e._,n=t.authUid,r=t.config,i=r.userProfile,o=r.useFirestoreForProfile;e._.profileWatch&&(o&&e.firestore?e._.profileWatch():e.database().ref().child(i+"/"+n).off("value",e._.profileWatch),e._.profileWatch=null)},k=function(e){return e&&e.val?e.val():e&&e.data&&e.exists?e.data():null},A=t.handleProfileWatchResponse=function(e,t,n,r){var i=t._.config,o=i.profileParamsToPopulate,a=i.autoPopulateProfile,s=i.useFirestoreForProfile,u=i.logErrors,c=k(n);!o||s||!(0,w.default)(o)&&!(0,b.default)(o)?(s&&o&&console.warn("Profile population is not yet supported for Firestore"),e({type:T.actionTypes.SET_PROFILE,profile:r?E({},c,{token:r}):c})):(0,C.promisesForPopulate)(t,n.key,c,o).then(function(t){if((0,m.default)(t,function(t,n){e({type:T.actionTypes.SET,path:n,data:t,timestamp:Date.now(),requesting:!1,requested:!0})}),a){var i=(0,C.getPopulateObjs)(o),s=n.val();e({type:T.actionTypes.SET_PROFILE,profile:(0,S.populate)({profile:r?E({},s,{token:r}):s,data:t},"profile",i)})}else e({type:T.actionTypes.SET_PROFILE,profile:c})}).catch(function(t){u&&console.error("RRF: Error retrieving data for profile population. Firebase:",t),e({type:T.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: "+t.message}),e({type:T.actionTypes.SET_PROFILE,profile:c})})},x=t.watchUserProfile=function(e,t){var n=t._,r=n.authUid,i=n.config,a=i.userProfile,s=i.useFirestoreForProfile,u=i.enableClaims;if(I(t),a)if(s&&t.firestore)t._.profileWatch=t.firestore().collection(a).doc(r).onSnapshot(function(n){return u?t.auth().currentUser.getIdTokenResult(!0).then(function(r){return A(e,t,n,r)}):A(e,t,n)},o(e,t));else{if(!t.database)throw new Error("Real Time Database or Firestore must be included to enable user profile");t._.profileWatch=t.database().ref().child(a+"/"+r).on("value",function(n){return u?t.auth().currentUser.getIdTokenResult(!0).then(function(r){return A(e,t,n,r)}):A(e,t,n)},o(e,t))}},P=t.createUserProfile=function(e,t,n,r){var i=t._.config;if(!i.userProfile||!t.database&&!t.firestore)return Promise.resolve(n);if((0,v.default)(i.profileFactory))try{r=i.profileFactory(n,r)}catch(e){return console.error("Error occured within profileFactory function:",e.message||e),Promise.reject(e)}return i.useFirestoreForProfile?t.firestore().collection(i.userProfile).doc(n.uid||n.user.uid).get().then(function(e){if(!i.updateProfileOnLogin&&e.exists)return e.data();var t=r;if(!t){var o=n.uid?n.toJSON?n.toJSON():n:n.user.toJSON?n.user.toJSON():n.user;t=E({},(0,p.default)(o,i.keysToRemoveFromAuth),{avatarUrl:o.photoURL})}return(0,w.default)(t.providerData)&&t.providerData.length&&(t.providerData=t.providerData.map(function(e){return(0,f.default)(e,i.keysToPreserveFromProviderData)})),e.ref.set(t,{merge:!0}).then(function(){return t})}).catch(function(t){return e({type:T.actionTypes.UNAUTHORIZED_ERROR,authError:t}),Promise.reject(t)}):t.database().ref().child(i.userProfile+"/"+(n.user?n.user.uid:n.uid)).once("value").then(function(e){return i.updateProfileOnLogin||null===e.val()?e.ref.update(r).then(function(){return r}):e.val()}).catch(function(n){return e({type:T.actionTypes.UNAUTHORIZED_ERROR,authError:n}),(0,v.default)(i.onProfileWriteError)&&i.onProfileWriteError(n,t),Promise.reject(n)})},R=function(e,t,n){var r=t._.config;n?(t._.authUid=n.uid,r.presence&&(0,O.setupPresence)(e,t),e({type:T.actionTypes.LOGIN,auth:n,preserve:r.preserveOnLogin}),x(e,t),(0,v.default)(r.onAuthStateChanged)&&r.onAuthStateChanged(n,t,e)):((0,v.default)(r.onAuthStateChanged)&&t._.config.onAuthStateChanged(n,t,e),e({type:T.actionTypes.AUTH_EMPTY_CHANGE,preserve:r.preserveOnEmptyAuthChange}))},D=t.handleRedirectResult=function(e,t,n){if("function"===typeof t._.config.onRedirectResult&&t._.config.onRedirectResult(n,t,e),n&&n.user){var r=n.user;return t._.authUid=r.uid,x(e,t),e({type:T.actionTypes.LOGIN,auth:r,preserve:t._.config.preserveOnLogin}),P(e,t,r,{email:r.email,displayName:r.providerData[0].displayName||r.email,avatarUrl:r.providerData[0].photoURL,providerData:r.providerData})}},j=t.init=function(e,t){t.auth&&(e({type:T.actionTypes.AUTHENTICATION_INIT_STARTED}),t.auth().onAuthStateChanged(function(n){return R(e,t,n)}),t._.config.enableRedirectHandling&&(0,v.default)(t.auth().getRedirectResult)&&"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("http")&&t.auth().getRedirectResult().then(function(n){return D(e,t,n)}).catch(function(t){return N(e,t),Promise.reject(t)}),t.auth().currentUser,e({type:T.actionTypes.AUTHENTICATION_INIT_FINISHED}))},M=t.login=function(e,t,n){var r;t._.config.resetBeforeLogin&&N(e,null);var o=(0,O.getLoginMethodAndParams)(t,n),a=o.method,s=o.params;return(r=t.auth())[a].apply(r,i(s)).then(function(r){if(!r)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword"].includes(a))return{user:r};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(a))return t._.config.updateProfileOnLogin?P(e,t,r,n.profile):{user:r};if("signInWithPhoneNumber"===a)return E({},r,{confirm:function(n){return r.confirm(n).then(function(n){var r=n.user,i=n.additionalUserInfo;return P(e,t,r,{phoneNumber:r.providerData[0].phoneNumber,providerData:r.providerData}).then(function(e){return{profile:e,user:r,additionalUserInfo:i}})})}});var i=r.user||r;return P(e,t,i,n.profile||{email:i.email,displayName:i.providerData[0].displayName||i.email,avatarUrl:i.providerData[0].photoURL,providerData:i.providerData}).then(function(e){return E({profile:e},r)})}).catch(function(t){return N(e,t),Promise.reject(t)})},L=t.logout=function(e,t){return I(t),t.auth().signOut().then(function(){var n={type:T.actionTypes.LOGOUT};return t._.config.preserveOnLogout&&(n.preserve=t._.config.preserveOnLogout),e(n),t._.authUid=null,t})},F=t.createUser=function(e,t,n,r){var i=n.email,o=n.password,a=n.signIn;if(N(e,null),!i||!o){var s=new Error("Email and Password are required to create user");return N(e,s),Promise.reject(s)}return t.auth().createUserWithEmailAndPassword(i,o).then(function(n){return t.auth().currentUser||a&&!1===a?P(e,t,n,r||{email:i}):M(e,t,{email:i,password:o}).then(function(){return P(e,t,n,r||{email:i})}).catch(function(t){if(t)switch(t.code){case"auth/user-not-found":N(e,new Error("The specified user account does not exist."));break;default:N(e,t)}return Promise.reject(t)})}).catch(function(t){return N(e,t),Promise.reject(t)})},U=t.resetPassword=function(e,t,n){return N(e,null),t.auth().sendPasswordResetEmail(n).catch(function(t){if(t){switch(t.code){case"auth/user-not-found":N(e,new Error("The specified user account does not exist."));break;default:N(e,t)}return Promise.reject(t)}})},q=t.confirmPasswordReset=function(e,t,n,r){return N(e,null),t.auth().confirmPasswordReset(n,r).catch(function(t){if(t){switch(t.code){case"auth/expired-action-code":N(e,new Error("The action code has expired."));break;case"auth/invalid-action-code":N(e,new Error("The action code is invalid."));break;case"auth/user-disabled":N(e,new Error("The user is disabled."));break;case"auth/user-not-found":N(e,new Error("The user is not found."));break;case"auth/weak-password":N(e,new Error("The password is not strong enough."));break;default:N(e,t)}return Promise.reject(t)}})},V=t.verifyPasswordResetCode=function(e,t,n){return N(e,null),t.auth().verifyPasswordResetCode(n).catch(function(t){return t&&N(e,t),Promise.reject(t)})},B=t.updateProfile=function(e,t,n,r){var i=t._.config;return e({type:T.actionTypes.PROFILE_UPDATE_START,payload:n}),(i.useFirestoreForProfile?O.updateProfileOnFirestore:O.updateProfileOnRTDB)(t,n,r).then(function(t){return e({type:T.actionTypes.PROFILE_UPDATE_SUCCESS,payload:i.useFirestoreForProfile?t.data():t.val()}),t}).catch(function(t){return e({type:T.actionTypes.PROFILE_UPDATE_ERROR,error:t}),Promise.reject(t)})},W=t.updateAuth=function(e,t,n,r){if(e({type:T.actionTypes.AUTH_UPDATE_START,payload:n}),!t.auth().currentUser){var i=new Error("User must be logged in to update auth.");return e({type:T.actionTypes.AUTH_UPDATE_ERROR,payload:i}),Promise.reject(i)}return t.auth().currentUser.updateProfile(n).then(function(i){return e({type:T.actionTypes.AUTH_UPDATE_SUCCESS,auth:t.auth().currentUser}),r?B(e,t,n):i}).catch(function(t){return e({type:T.actionTypes.AUTH_UPDATE_ERROR,error:t}),Promise.reject(t)})},z=t.updateEmail=function(e,t,n,r){if(e({type:T.actionTypes.EMAIL_UPDATE_START,payload:n}),!t.auth().currentUser){var i=new Error("User must be logged in to update email.");return e({type:T.actionTypes.EMAIL_UPDATE_ERROR,error:i}),Promise.reject(i)}return t.auth().currentUser.updateEmail(n).then(function(i){return e({type:T.actionTypes.EMAIL_UPDATE_SUCCESS,payload:n}),r?B(e,t,{email:n}):i}).catch(function(t){return e({type:T.actionTypes.EMAIL_UPDATE_ERROR,error:t}),Promise.reject(t)})},H=t.reloadAuth=function(e,t){if(e({type:T.actionTypes.AUTH_RELOAD_START}),!t.auth().currentUser){var n=new Error("User must be logged in to reload auth.");return e({type:T.actionTypes.AUTH_RELOAD_ERROR,error:n}),Promise.reject(n)}return t.auth().currentUser.reload().then(function(){var n=t.auth().currentUser;return e({type:T.actionTypes.AUTH_RELOAD_SUCCESS,payload:n}),n}).catch(function(t){return e({type:T.actionTypes.AUTH_RELOAD_ERROR,error:t}),Promise.reject(t)})},Q=(t.linkWithCredential=function(e,t,n){if(e({type:T.actionTypes.AUTH_LINK_START}),!t.auth().currentUser){var r=new Error("User must be logged in to link with credential.");return e({type:T.actionTypes.AUTH_LINK_ERROR,error:r}),Promise.reject(r)}return t.auth().currentUser.linkWithCredential(n).then(function(t){return e({type:T.actionTypes.AUTH_LINK_SUCCESS,payload:t}),t}).catch(function(t){return e({type:T.actionTypes.AUTH_LINK_ERROR,error:t}),Promise.reject(t)})},t.signInWithPhoneNumber=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return M(t,e,E({phoneNumber:n,applicationVerifier:r},i))});t.default={dispatchLoginError:N,unWatchUserProfile:I,watchUserProfile:x,init:j,createUserProfile:P,login:M,logout:L,createUser:F,resetPassword:U,confirmPasswordReset:q,verifyPasswordResetCode:V,updateAuth:W,updateProfile:B,updateEmail:z,reloadAuth:H,signInWithPhoneNumber:Q}},function(e,t,n){function r(e,t){return i(e,t,function(t,n){return o(e,n)})}var i=n(200),o=n(186);e.exports=r},function(e,t,n){function r(e){return(null==e?0:e.length)?i(e,1):[]}var i=n(76);e.exports=r},function(e,t,n){var r=n(410),i=n(194),o=n(52),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(39),o=n(58);e.exports=r},function(e,t,n){function r(e){if(!i(e))return a(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var i=n(10),o=n(74),a=n(413),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(39),o=n(106);e.exports=r},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(39),o=n(205);e.exports=r},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case v:return i(e);case c:case l:return new r(+e);case g:return o(e,n);case b:case _:case w:case E:case T:case S:case O:case C:case N:return u(e,n);case f:return new r;case h:case m:return new r(e);case p:return a(e);case d:return new r;case y:return s(e)}}var i=n(126),o=n(418),a=n(419),s=n(420),u=n(206),c="[object Boolean]",l="[object Date]",f="[object Map]",h="[object Number]",p="[object RegExp]",d="[object Set]",m="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(126);e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var i=n(41),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.exports=r},function(e,t,n){var r=n(422),i=n(73),o=n(110),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(44),o=n(13),a="[object Map]";e.exports=r},function(e,t,n){var r=n(424),i=n(73),o=n(110),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(44),o=n(13),a="[object Set]";e.exports=r},function(e,t,n){function r(e){return i(e)?void 0:e}var i=n(127);e.exports=r},function(e,t){function n(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}e.exports=n},function(e,t,n){var r=n(57),i=n(60),o=n(428),a=n(431),s=i(function(e){return e.push(void 0,o),r(a,void 0,e)});e.exports=s},function(e,t,n){function r(e,t,n,a,s,u){return o(e)&&o(t)&&(u.set(t,e),i(e,t,void 0,r,u),u.delete(t)),e}var i=n(128),o=n(10);e.exports=r},function(e,t,n){function r(e,t,n,r,b,_,w){var E=v(e,n),T=v(t,n),S=w.get(T);if(S)return void i(e,n,S);var O=_?_(E,T,n+"",e,t,w):void 0,C=void 0===O;if(C){var N=l(T),I=!N&&h(T),k=!N&&!I&&y(T);O=T,N||I||k?l(E)?O=E:f(E)?O=s(E):I?(C=!1,O=o(T,!0)):k?(C=!1,O=a(T,!0)):O=[]:m(T)||c(T)?(O=E,c(E)?O=g(E):d(E)&&!p(E)||(O=u(T))):C=!1}C&&(w.set(T,O),b(O,T,r,_,w),w.delete(T)),i(e,n,O)}var i=n(209),o=n(204),a=n(206),s=n(59),u=n(207),c=n(71),l=n(6),f=n(129),h=n(72),p=n(12),d=n(10),m=n(127),y=n(108),v=n(210),g=n(430);e.exports=r},function(e,t,n){function r(e){return i(e,o(e))}var i=n(39),o=n(58);e.exports=r},function(e,t,n){var r=n(128),i=n(130),o=i(function(e,t,n,i){r(e,t,n,i)});e.exports=o},function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t){function n(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}e.exports=n},function(e,t,n){function r(e,t){var n=!0;return i(e,function(e,r,i){return n=!!t(e,r,i)}),n}var i=n(38);e.exports=r},function(e,t,n){var r=n(84),i=r("unset",n(468));i.placeholder=n(61),e.exports=i},function(e,t,n){function r(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function i(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function o(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function a(e){return function(t){return e({},t)}}function s(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[t],a=i.slice(0,t);return o&&h.apply(a,o),t!=r&&h.apply(a,i.slice(t+1)),e.apply(this,a)}}function u(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}function c(e,t,n,h){function p(e,t){if(C.cap){var n=l.iterateeRearg[e];if(n)return w(t,n);var r=!S&&l.iterateeAry[e];if(r)return _(t,r)}return t}function d(e,t,n){return I||C.curry&&n>1?M(t,n):t}function m(e,t,n){if(C.fixed&&(k||!l.skipFixed[e])){var r=l.methodSpread[e],i=r&&r.start;return void 0===i?R(t,n):s(t,i)}return t}function y(e,t,n){return C.rearg&&n>1&&(A||!l.skipRearg[e])?W(t,l.methodRearg[e]||l.aryRearg[n]):t}function v(e,t){t=H(t);for(var n=-1,r=t.length,i=r-1,o=j(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],u=a[s];null==u||q(u)||U(u)||V(u)||(a[s]=j(n==i?u:Object(u))),a=a[s]}return o}function g(e){return G.runInContext.convert(e)(void 0)}function b(e,t){var n=l.aliasToReal[e]||e,r=l.remap[n]||n,i=h;return function(e){var o=S?x:P,a=S?x[r]:t,s=D(D({},i),e);return c(o,n,a,s)}}function _(e,t){return E(e,function(e){return"function"==typeof e?i(e,t):e})}function w(e,t){return E(e,function(e){var n=t.length;return r(W(i(e,n),t),n)})}function E(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=C.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function T(e,t,n){var r,i=l.aliasToReal[e]||e,s=t,c=K[i];return c?s=c(t):C.immutable&&(l.mutate.array[i]?s=u(t,o):l.mutate.object[i]?s=u(t,a(t)):l.mutate.set[i]&&(s=u(t,v))),L(Q,function(e){return L(l.aryMethod[e],function(t){if(i==t){var n=l.methodSpread[i],o=n&&n.afterRearg;return r=o?m(i,y(i,s,e),e):y(i,m(i,s,e),e),r=p(i,r),r=d(i,r,e),!1}}),!r}),r||(r=s),r==t&&(r=I?M(r,1):function(){return t.apply(this,arguments)}),r.convert=b(i,t),r.placeholder=t.placeholder=n,r}var S="function"==typeof t,O=t===Object(t);if(O&&(h=n,n=t,t=void 0),null==n)throw new TypeError;h||(h={});var C={cap:!("cap"in h)||h.cap,curry:!("curry"in h)||h.curry,fixed:!("fixed"in h)||h.fixed,immutable:!("immutable"in h)||h.immutable,rearg:!("rearg"in h)||h.rearg},N=S?n:f,I="curry"in h&&h.curry,k="fixed"in h&&h.fixed,A="rearg"in h&&h.rearg,x=S?n.runInContext():void 0,P=S?n:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},R=P.ary,D=P.assign,j=P.clone,M=P.curry,L=P.forEach,F=P.isArray,U=P.isError,q=P.isFunction,V=P.isWeakMap,B=P.keys,W=P.rearg,z=P.toInteger,H=P.toPath,Q=B(l.aryMethod),K={castArray:function(e){return function(){var t=arguments[0];return F(t)?e(o(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),o=r.length;return C.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:i(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!q(n))return e(n,Object(t));var r=[];return L(B(t),function(e){q(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),L(r,function(e){var t=e[1];q(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:z(t)+1;return M(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return M(e(t,n),r)}},runInContext:function(t){return function(n){return c(e,t(n),h)}}};if(!O)return T(t,n,N);var G=n,Y=[];return L(Q,function(e){L(l.aryMethod[e],function(e){var t=G[l.remap[e]||e];t&&Y.push([e,T(e,t,G)])})}),L(B(G),function(e){var t=G[e];if("function"==typeof t){for(var n=Y.length;n--;)if(Y[n][0]==e)return;t.convert=b(e,t),Y.push([e,t])}}),L(Y,function(e){G[e[0]]=e[1]}),G.convert=g,G.placeholder=G,L(B(G),function(e){L(l.realToAlias[e]||[],function(t){G[t]=G[e]})}),G}var l=n(438),f=n(61),h=Array.prototype.push;e.exports=c},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(440),assign:n(203),clone:n(461),curry:n(462),forEach:n(80),isArray:n(6),isError:n(463),isFunction:n(12),isWeakMap:n(464),iteratee:n(465),keys:n(111),rearg:n(466),toInteger:n(225),toPath:n(467)}},function(e,t,n){function r(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,i(e,o,void 0,void 0,void 0,void 0,t)}var i=n(132),o=128;e.exports=r},function(e,t,n){function r(e,t,n){function r(){return(this&&this!==o&&this instanceof r?u:e).apply(s?n:this,arguments)}var s=t&a,u=i(e);return r}var i=n(85),o=n(16),a=1;e.exports=r},function(e,t,n){function r(e,t,n){function r(){for(var o=arguments.length,h=Array(o),p=o,d=u(r);p--;)h[p]=arguments[p];var m=o<3&&h[0]!==d&&h[o-1]!==d?[]:c(h,d);return(o-=m.length)<n?s(e,t,a,r.placeholder,void 0,h,m,void 0,void 0,n-o):i(this&&this!==l&&this instanceof r?f:e,this,h)}var f=o(e);return r}var i=n(57),o=n(85),a=n(215),s=n(218),u=n(224),c=n(137),l=n(16);e.exports=r},function(e,t){function n(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}e.exports=n},function(e,t,n){function r(e){var t=a(e),n=s[t];if("function"!=typeof n||!(t in i.prototype))return!1;if(e===n)return!0;var r=o(n);return!!r&&e===r[0]}var i=n(133),o=n(219),a=n(445),s=n(447);e.exports=r},function(e,t,n){function r(e){for(var t=e.name+"",n=i[t],r=a.call(i,t)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==e)return o.name}return t}var i=n(446),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t){var n={};e.exports=n},function(e,t,n){function r(e){if(u(e)&&!s(e)&&!(e instanceof i)){if(e instanceof o)return e;if(f.call(e,"__wrapped__"))return c(e)}return new o(e)}var i=n(133),o=n(221),a=n(134),s=n(6),u=n(13),c=n(448),l=Object.prototype,f=l.hasOwnProperty;r.prototype=a.prototype,r.prototype.constructor=r,e.exports=r},function(e,t,n){function r(e){if(e instanceof i)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var i=n(133),o=n(221),a=n(59);e.exports=r},function(e,t){function n(e){var t=e.match(r);return t?t[1].split(i):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;e.exports=n},function(e,t){function n(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=n},function(e,t,n){function r(e,t){return i(a,function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)}),e.sort()}var i=n(80),o=n(135),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=r},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e,t){for(var n=e.length,r=a(t.length,n),s=i(e);r--;){var u=t[r];e[r]=o(u,n)?s[u]:void 0}return e}var i=n(59),o=n(43),a=Math.min;e.exports=r},function(e,t,n){function r(e,t,n,r){function u(){for(var t=-1,o=arguments.length,s=-1,f=r.length,h=Array(f+o),p=this&&this!==a&&this instanceof u?l:e;++s<f;)h[s]=r[s];for(;o--;)h[s++]=arguments[++t];return i(p,c?n:this,h)}var c=t&s,l=o(e);return u}var i=n(57),o=n(85),a=n(16),s=1;e.exports=r},function(e,t,n){function r(e,t){var n=e[1],r=t[1],m=n|r,y=m<(u|c|h),v=r==h&&n==f||r==h&&n==p&&e[7].length<=t[8]||r==(h|p)&&t[7].length<=t[8]&&n==f;if(!y&&!v)return e;r&u&&(e[2]=t[2],m|=n&u?0:l);var g=t[3];if(g){var b=e[3];e[3]=b?i(b,g,t[4]):g,e[4]=b?a(e[3],s):t[4]}return g=t[5],g&&(b=e[5],e[5]=b?o(b,g,t[6]):g,e[6]=b?a(e[5],s):t[6]),g=t[7],g&&(e[7]=g),r&h&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var i=n(216),o=n(217),a=n(137),s="__lodash_placeholder__",u=1,c=2,l=4,f=8,h=128,p=256,d=Math.min;e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=i(e))===o||e===-o){return(e<0?-1:1)*a}return e===e?e:0}var i=n(459),o=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return s;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=c.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):u.test(e)?s:+e}var i=n(226),o=n(10),a=n(51),s=NaN,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t){function n(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}var r=/\s/;e.exports=n},function(e,t,n){function r(e){return i(e,o)}var i=n(123),o=4;e.exports=r},function(e,t,n){function r(e,t,n){t=n?void 0:t;var a=i(e,o,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=r.placeholder,a}var i=n(132),o=8;r.placeholder={},e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==u||t==s||"string"==typeof e.message&&"string"==typeof e.name&&!a(e)}var i=n(23),o=n(13),a=n(127),s="[object DOMException]",u="[object Error]";e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(44),o=n(13),a="[object WeakMap]";e.exports=r},function(e,t,n){function r(e){return o("function"==typeof e?e:i(e,a))}var i=n(123),o=n(19),a=1;e.exports=r},function(e,t,n){var r=n(132),i=n(121),o=i(function(e,t){return r(e,256,void 0,void 0,void 0,t)});e.exports=o},function(e,t,n){function r(e){return a(e)?i(e,c):s(e)?[e]:o(u(l(e)))}var i=n(45),o=n(59),a=n(6),s=n(51),u=n(185),c=n(31),l=n(37);e.exports=r},function(e,t,n){function r(e,t){return null==e||i(e,t)}var i=n(114);e.exports=r},function(e,t,n){function r(e){return o(i(e).toLowerCase())}var i=n(37),o=n(470);e.exports=r},function(e,t,n){var r=n(471),i=r("toUpperCase");e.exports=i},function(e,t,n){function r(e){return function(t){t=s(t);var n=o(t)?a(t):void 0,r=n?n[0]:t.charAt(0),u=n?i(n,1).join(""):t.slice(1);return r[e]()+u}}var i=n(139),o=n(119),a=n(140),s=n(37);e.exports=r},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e){return e.match(f)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",o,a].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,o,a,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=t.uploadFiles=t.uploadFile=void 0;var o=n(12),a=r(o),s=n(54),u=r(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(17),f=n(198),h=n(475),p=l.actionTypes.FILE_UPLOAD_START,d=l.actionTypes.FILE_UPLOAD_ERROR,m=l.actionTypes.FILE_UPLOAD_COMPLETE,y=l.actionTypes.FILE_DELETE_START,v=l.actionTypes.FILE_DELETE_ERROR,g=l.actionTypes.FILE_DELETE_COMPLETE,b=t.uploadFile=function(e,t,n){if(!t.storage)throw new Error("Firebase storage is required to upload files");var r=n||{},i=r.path,o=r.file,s=r.dbPath,u=r.options,l=void 0===u?{progress:!1}:u,f=l.metadata,y=t._.config.logErrors,v=(0,a.default)(l.name)?l.name(o,t,n):l.name,g=v||o.name,b=c({},n,{filename:g});e({type:p,payload:c({},n,{filename:g})});return function(){return l.progress?(0,h.uploadFileWithProgress)(e,t,{path:i,file:o,filename:g,meta:b,fileMetadata:f}):t.storage().ref(i+"/"+g).put(o,f)}().then(function(r){return s&&(t.database||t.firestore)?(0,h.writeMetadataToDb)({firebase:t,uploadTaskSnapshot:r,dbPath:s,options:l}).then(function(t){return e({type:m,meta:c({},n,{filename:g}),payload:t}),t}):(e({type:m,meta:c({},n,{filename:g}),payload:{uploadTaskSnapshot:r,uploadTaskSnaphot:r}}),{uploadTaskSnapshot:r,uploadTaskSnaphot:r})}).catch(function(t){return y&&console.error&&console.error("RRF: Error uploading file: "+(t.message||t),t),e({type:d,path:i,payload:t}),Promise.reject(t)})},_=function(e,t,n){var r=n.files,o=i(n,["files"]);return Promise.all((0,u.default)(r,function(n){return b(e,t,c({file:n},o))}))};t.uploadFiles=_;t.deleteFile=function(e,t,n){var r=n.path,i=n.dbPath;return(0,f.wrapInDispatch)(e,{method:h.deleteFile,args:[t,{path:r,dbPath:i}],types:[y,g,v]})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t.path,r=t.dbPath;return e.storage().ref(n).delete().then(function(){if(!r||!e.database&&!e.firestore)return{path:n};return function(){return e._.config.useFirestoreForStorageMeta?e.firestore().doc(r).delete():e.database().ref(r).remove()}().then(function(){return{path:n,dbPath:r}})})}function o(e){var t=e.fileData,n=e.firebase,r=e.uploadTaskSnapshot,i=e.downloadURL;return function(e){var o=n._.config.useFirestoreForStorageMeta,a={snapshot:e,key:e.key||e.id,File:t,metaDataSnapshot:e,uploadTaskSnapshot:r,uploadTaskSnaphot:r,createdAt:o?n.firestore.FieldValue.serverTimestamp():n.database.ServerValue.TIMESTAMP};return e.id&&(a.id=e.id),i&&(a.downloadURL=i),a}}function a(e){return e.ref&&"function"===typeof e.ref.getDownloadURL?e.ref.getDownloadURL():Promise.resolve(e.downloadURLs&&e.downloadURLs[0])}function s(e){var t=e.firebase,n=e.uploadTaskSnapshot,r=e.dbPath,i=e.options,s=t._.config,u=s.fileMetadataFactory,c=s.useFirestoreForStorageMeta,f=i.metadataFactory,p=f||u;return a(n).then(function(e){var i=(0,d.default)(p)?p(n,t,n.metadata,e):(0,h.default)(n.metadata,l.default),a=o({fileData:i,firebase:t,uploadTaskSnapshot:n,downloadURL:e});return function(e){if(c)return t.firestore().collection(r).add(e);var n=t.database().ref(r).push();return n.set(e).then(function(e){return n})}(i).then(a)})}function u(e,t,n){var r=n.path,i=n.file,o=n.filename,a=n.meta,s=n.fileMetadata,u=t.storage().ref(r+"/"+o).put(i,s),c=u.on(t.storage.TaskEvent.STATE_CHANGED,{next:function(t){e({type:v,meta:a,payload:{snapshot:t,percent:Math.floor(t.bytesTransferred/t.totalBytes*100)}})},error:function(t){e({type:y,meta:a,payload:t}),c()},complete:function(){c()}});return u}Object.defineProperty(t,"__esModule",{value:!0});var c=n(476),l=r(c),f=n(477),h=r(f),p=n(12),d=r(p);t.deleteFile=i,t.writeMetadataToDb=s,t.uploadFileWithProgress=u;var m=n(17),y=m.actionTypes.FILE_UPLOAD_ERROR,v=m.actionTypes.FILE_UPLOAD_PROGRESS},function(e,t){function n(e){return void 0===e}e.exports=n},function(e,t,n){function r(e,t){return a(e,o(i(t)))}var i=n(19),o=n(230),a=n(478);e.exports=r},function(e,t,n){function r(e,t){if(null==e)return{};var n=i(s(e),function(e){return[e]});return t=o(t),a(e,n,function(e,n){return t(e,n[0])})}var i=n(45),o=n(19),a=n(200),s=n(125);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseConnect=void 0;var u=n(480),c=r(u),l=n(141),f=r(l),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),m=r(d),y=n(1),v=r(y),g=n(48),b=r(g),_=n(229),w=n(49),E=n(17),T=t.createFirebaseConnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var r=function(r){function i(){var t,n,r,s;o(this,i);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(c))),r.firebaseEvents=[],r.firebase=null,r.prevData=null,r.store=r.context[e],s=n,a(r,s)}return s(i,r),p(i,[{key:"UNSAFE_componentWillMount",value:function(){if(!this.context||!this.context[e])throw new Error(E.v3ErrorMessage);var n=this.store,r=n.firebase,i=n.dispatch,o=(0,w.createCallable)(t);this.prevData=o(this.props,this.store);var a=r.ref,s=r.helpers,u=r.storage,c=r.database,l=r.auth;this.firebase=h({ref:a,storage:u,database:c,auth:l},s),this._firebaseEvents=(0,w.getEventsFromInput)(this.prevData),(0,_.watchEvents)(r,i,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var e=this.store,t=e.firebase,n=e.dispatch;(0,_.unWatchEvents)(t,n,this._firebaseEvents)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=this.store,r=n.firebase,i=n.dispatch,o=(0,w.createCallable)(t),a=o(e,this.store);if(!(0,f.default)(a,this.prevData)){var s=(0,c.default)(a,this.prevData,f.default),u=(0,c.default)(this.prevData,a,f.default);this.prevData=a,(0,_.unWatchEvents)(r,i,(0,w.getEventsFromInput)(u)),this._firebaseEvents=(0,w.getEventsFromInput)(a),(0,_.watchEvents)(r,i,(0,w.getEventsFromInput)(s))}}},{key:"render",value:function(){return m.default.createElement(n,h({},this.props,this.state,{firebase:this.firebase}))}}]),i}(d.Component);return r.displayName="FirebaseConnect("+(0,w.getDisplayName)(n)+")",r.wrappedComponent=n,r.contextTypes=i({},e,v.default.object.isRequired),(0,b.default)(r,n)}}};t.default=T()},function(e,t,n){var r=n(481),i=n(76),o=n(60),a=n(129),s=n(53),u=o(function(e,t){var n=s(t);return a(n)&&(n=void 0),a(e)?r(e,i(t,1,a,!0),void 0,n):[]});e.exports=u},function(e,t,n){function r(e,t,n,r){var f=-1,h=o,p=!0,d=e.length,m=[],y=t.length;if(!d)return m;n&&(t=s(t,u(n))),r?(h=a,p=!1):t.length>=l&&(h=c,p=!1,t=new i(t));e:for(;++f<d;){var v=e[f],g=null==n?v:n(v);if(v=r||0!==v?v:0,p&&g===g){for(var b=y;b--;)if(t[b]===g)continue e;m.push(v)}else h(t,g,r)||m.push(v)}return m}var i=n(102),o=n(135),a=n(231),s=n(45),u=n(73),c=n(103),l=200;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createFirestoreConnect=void 0;var u=n(195),c=r(u),l=n(115),f=r(l),h=n(141),p=r(h),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(0),v=r(y),g=n(1),b=r(g),_=n(48),w=r(_),E=n(49),T=n(17),S=t.createFirestoreConnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var r=function(r){function i(){var t,n,r,s;o(this,i);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(c))),r.prevData=null,r.store=r.context[e],s=n,a(r,s)}return s(i,r),m(i,[{key:"UNSAFE_componentWillMount",value:function(){if(!this.context||!this.context[e])throw new Error(T.v3ErrorMessage);var n=this.store.firestore;if(this.firestoreIsEnabled){var r=(0,E.createCallable)(t);this.prevData=r(this.props,this.store),n.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){var e=this.store.firestore;this.firestoreIsEnabled&&this.prevData&&e.unsetListeners(this.prevData)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=this.store.firestore,r=(0,E.createCallable)(t),i=r(e,this.store);if(this.firestoreIsEnabled&&!(0,p.default)(i,this.prevData)){var o=this.getChanges(i,this.prevData);this.prevData=i,n.unsetListeners(o.removed),n.setListeners(o.added)}}},{key:"getChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return n.added=(0,c.default)(e,function(e){return!(0,f.default)(t,function(t){return(0,p.default)(e,t)})}),n.removed=(0,c.default)(t,function(t){return!(0,f.default)(e,function(e){return(0,p.default)(t,e)})}),n}},{key:"render",value:function(){var e=this.store,t=e.firebase,r=e.firestore,i=d({},this.props,{firestore:r});return t&&(i.firebase=d({},t,t.helpers)),v.default.createElement(n,i)}},{key:"firestoreIsEnabled",get:function(){return!!this.store.firestore}}]),i}(y.Component);return r.wrappedComponent=n,r.displayName=(0,E.wrapDisplayName)(n,"FirestoreConnect"),r.contextTypes=i({},e,b.default.object.isRequired),(0,w.default)(r,n)}}};t.default=S()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createWithFirebase=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=r(l),h=n(1),p=r(h),d=n(48),m=r(d),y=n(49),v=n(17),g=t.createWithFirebase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(t){var n=function(n){function r(){var t,n,i,s;o(this,r);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=a(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(c))),i.store=i.context[e],s=n,a(i,s)}return s(r,n),c(r,[{key:"render",value:function(){if(!this.context||!this.context[e])throw new Error(v.v3ErrorMessage);return f.default.createElement(t,u({},this.props,this.state,{dispatch:this.store.dispatch,firebase:this.store.firebase}))}}]),r}(l.Component);return n.wrappedComponent=t,n.displayName=(0,y.wrapDisplayName)(t,"withFirebase"),n.contextTypes=i({},e,p.default.object.isRequired),(0,m.default)(n,t)}};t.default=g()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createWithFirestore=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=r(l),h=n(1),p=r(h),d=n(48),m=r(d),y=n(49),v=n(17),g=t.createWithFirestore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(t){var n=function(n){function r(){var t,n,i,s;o(this,r);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=a(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(c))),i.store=i.context[e],s=n,a(i,s)}return s(r,n),c(r,[{key:"render",value:function(){if(!this.context||!this.context[e])throw new Error(v.v3ErrorMessage);return f.default.createElement(t,u({},this.props,{dispatch:this.store.dispatch,firestore:this.store.firestore,firebase:this.store.firebase}))}}]),r}(l.Component);return n.wrappedComponent=t,n.displayName=(0,y.wrapDisplayName)(t,"withFirestore"),n.contextTypes=i({},e,p.default.object.isRequired),(0,m.default)(n,t)}};t.default=g()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFirebase=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(170),o=n(138),a=n(17),s=n(199),u=void 0;t.default=function(e,t){return function(n){return function(c,l,f){var h=n(c,l,f);if(!e.SDK_VERSION&&!e.firebase_&&!e.database)throw new Error("v2.0.0-beta and higher require passing a firebase app instance or a firebase library instance. View the migration guide for details.");var p=e&&e._||{},d=r({},p,a.defaultConfig,t);return u=(0,i.createFirebaseInstance)(e.firebase_||e,d,h.dispatch),s.authActions.init(h.dispatch,u),h.firebase=u,d.attachAuthIsReady&&(h.firebaseAuthIsReady=(0,o.createAuthIsReady)(h,d)),h}}};t.getFirebase=function(){if(!u)throw new Error("Firebase instance does not yet exist. Check your compose function.");return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131),i=n(487);t.default=(0,r.combineReducers)({requesting:i.requestingReducer,requested:i.requestedReducer,timestamps:i.timestampsReducer,data:i.dataReducer,ordered:i.orderedReducer,auth:i.authReducer,authError:i.authErrorReducer,profile:i.profileReducer,listeners:i.listenersReducer,isInitializing:i.isInitializingReducer,errors:i.errorsReducer}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.orderedReducer=t.dataReducer=t.listenersReducer=t.errorsReducer=t.profileReducer=t.authErrorReducer=t.authReducer=t.timestampsReducer=t.requestedReducer=t.requestingReducer=t.isInitializingReducer=void 0;var a=n(232),s=r(a),u=n(233),c=r(u),l=n(10),f=r(l),h=n(6),p=r(h),d=n(35),m=r(d),y=n(82),v=r(y),g=n(81),b=r(g),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=n(17),E=n(131),T=w.actionTypes.START,S=w.actionTypes.SET,O=w.actionTypes.SET_PROFILE,C=w.actionTypes.MERGE,N=w.actionTypes.LOGIN,I=w.actionTypes.LOGOUT,k=w.actionTypes.LOGIN_ERROR,A=w.actionTypes.CLEAR_ERRORS,x=w.actionTypes.REMOVE,P=w.actionTypes.NO_VALUE,R=w.actionTypes.SET_LISTENER,D=w.actionTypes.UNSET_LISTENER,j=w.actionTypes.AUTHENTICATION_INIT_STARTED,M=w.actionTypes.AUTHENTICATION_INIT_FINISHED,L=w.actionTypes.AUTH_EMPTY_CHANGE,F=w.actionTypes.AUTH_LINK_SUCCESS,U=w.actionTypes.UNAUTHORIZED_ERROR,q=w.actionTypes.AUTH_UPDATE_SUCCESS,V=w.actionTypes.AUTH_RELOAD_SUCCESS,B=w.actionTypes.PROFILE_UPDATE_SUCCESS,W=(t.isInitializingReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case j:return!0;case M:return!1;default:return e}},t.requestingReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case T:return _({},e,o({},(0,E.getSlashStrPath)(r),!0));case P:case S:return _({},e,o({},(0,E.getSlashStrPath)(r),!1));default:return e}},t.requestedReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case T:return _({},e,o({},(0,E.getSlashStrPath)(r),!1));case P:case S:return _({},e,o({},(0,E.getSlashStrPath)(r),!0));default:return e}},t.timestampsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case T:case P:case S:return _({},e,o({},(0,E.getSlashStrPath)(r),Date.now()));default:return e}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case S:return(0,c.default)(Object,(0,E.getDotStrPath)(n.path),n[e],t);case C:var r=(0,m.default)(t,(0,E.getDotStrPath)(n.path),{}),i=(0,s.default)(r,n[e]);return(0,c.default)(Object,(0,E.getDotStrPath)(n.path),i,t);case P:return(0,c.default)(Object,(0,E.getDotStrPath)(n.path),null,t);case x:return"data"===e?(0,E.recursiveUnset)((0,E.getDotStrPath)(n.path),t):t;case I:if(n.preserve){if((0,p.default)(n.preserve))return(0,b.default)(t,n.preserve);if((0,f.default)(n.preserve))return n.preserve[e]?(0,E.preserveValuesFromState)(t,n.preserve[e],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return t}}}),z=(t.authReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=arguments[1];switch(t.type){case N:case q:if(!t.auth)return{isEmpty:!0,isLoaded:!0};var n=t.auth.toJSON?t.auth.toJSON():t.auth;return t.preserve&&t.preserve.auth?(0,E.preserveValuesFromState)(e,t.preserve.auth,_({},n,{isEmpty:!1,isLoaded:!0})):_({},n,{isEmpty:!1,isLoaded:!0});case F:case V:return t.payload?_({},t.payload.toJSON?t.payload.toJSON():t.payload,{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case k:case L:case I:return t.preserve&&t.preserve.auth?(0,E.preserveValuesFromState)(e,t.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.authErrorReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case N:case I:return null;case k:case U:return t.authError;default:return e}},t.profileReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=arguments[1];switch(t.type){case O:return t.profile?_({},t.profile,{isEmpty:!1,isLoaded:!0}):_({},e,{isEmpty:!0,isLoaded:!0});case B:return _({},e,t.payload);case N:return t.preserve&&t.preserve.profile?(0,E.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case I:case L:return t.preserve&&t.preserve.profile?(0,E.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.errorsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case k:case U:if(!(0,p.default)(e))throw new Error("Errors state must be an array");return[].concat(i(e),[t.authError]);case I:case A:if(t.preserve&&t.preserve.errors){if("function"!==typeof t.preserve.errors)throw new Error("Preserve for the errors state currently only supports functions");return e.filter(t.preserve.errors)}return[];default:return e}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path,i=t.payload;switch(n){case R:return _({},e,o({},i.id,{id:i.id,path:r}));case D:return(0,v.default)(e,[i.id]);default:return e}}),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.type,r=(t.path,t.payload);switch(n){case R:return[].concat(i(e),[r.id]);case D:return e.filter(function(e){return e!==r.id});default:return e}};t.listenersReducer=(0,E.combineReducers)({byId:z,allIds:H}),t.dataReducer=W(),t.orderedReducer=W("ordered")},function(e,t,n){var r=n(78),i=n(39),o=n(130),a=n(30),s=n(74),u=n(42),c=Object.prototype,l=c.hasOwnProperty,f=o(function(e,t){if(s(t)||a(t))return void i(t,u(t),e);for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=f},function(e,t,n){function r(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:i(e,t,n,r)}var i=n(118);e.exports=r},function(e,t,n){"use strict";(function(r){function i(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function o(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}function a(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=w.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):V("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function s(e,t){return K(e.name,t.name)}function u(e,t){return K(e,t)}function c(e,t){if(void 0===t&&(t=null),null===e)return Je.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),E.assert(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new qe(e,c(t))}if(e instanceof Array||!tt){var n=Je.EMPTY_NODE;return i(e,function(t,r){if(E.contains(e,t)&&"."!==t.substring(0,1)){var i=c(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(c(t))}var r=[],o=!1;if(i(e,function(e,t){if("."!==e.substring(0,1)){var n=c(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new De(e,n)))}}),0==r.length)return Je.EMPTY_NODE;var a=Ye(r,s,function(e){return e.name},u);if(o){var l=Ye(r,Be.getCompare());return new Je(a,c(t),new Xe({".priority":l},{".priority":Be}))}return new Je(a,c(t),Xe.Default)}function l(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(t,i){".priority"===t?(E.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=l(e.child(t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(e.child(".priority"),r)),n}function f(e){fn=e}function h(t){f(t.SDK_VERSION);var n=t.INTERNAL.registerService("database",function(e,t,n){return An.getInstance().databaseFromApp(e,n)},{Reference:On,Query:ht,Database:xn,DataSnapshot:st,enableLogging:M,INTERNAL:Vn,ServerValue:Yn,TEST_ACCESS:Gn},null,!0);E.isNodeSdk()&&(e.exports=n)}Object.defineProperty(t,"__esModule",{value:!0});var p,d,m,y,v,g,b,_=function(e){return e&&"object"===typeof e&&"default"in e?e.default:e}(n(24)),w=n(26),E=n(46),T=n(87),S=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),E.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:E.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),O=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return E.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),C=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new S(t)}}catch(e){}return new O},N=C("localStorage"),I=C("sessionStorage"),k=new T.Logger("@firebase/database"),A="FIREBASE_DATABASE_EMULATOR_HOST",x=function(){var e=1;return function(){return e++}}(),P=function(e){var t=E.stringToByteArray(e),n=new E.Sha1;n.update(t);var r=n.digest();return E.base64.encodeByteArray(r)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"===typeof e[r]&&"number"===typeof e[r].length?n+=R.apply(null,e[r]):"object"===typeof e[r]?n+=E.stringify(e[r]):n+=e[r],n+=" ";return n},D=null,j=!0,M=function(e,t){E.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(k.logLevel=T.LogLevel.VERBOSE,D=k.log.bind(k),t&&I.set("logging_enabled",!0)):"function"===typeof e?D=e:(D=null,I.remove("logging_enabled"))},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===j&&(j=!1,null===D&&!0===I.get("logging_enabled")&&M(!0)),D){var n=R.apply(null,e);D(n)}},F=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];L.apply(void 0,w.__spread([e],t))}},U=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+R.apply(void 0,w.__spread(e));k.error(n)},q=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+R.apply(void 0,w.__spread(e));throw k.error(n),new Error(n)},V=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+R.apply(void 0,w.__spread(e));k.warn(n)},B=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&V("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},W=function(e){return"number"===typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},z=function(e){if(E.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},H="[MIN_NAME]",Q="[MAX_NAME]",K=function(e,t){if(e===t)return 0;if(e===H||t===Q)return-1;if(t===H||e===Q)return 1;var n=re(e),r=re(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},G=function(e,t){return e===t?0:e<t?-1:1},Y=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+E.stringify(t))},$=function(e){if("object"!==typeof e||null===e)return E.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=E.stringify(t[i]),r+=":",r+=$(e[t[i]]);return r+="}"},X=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},J=function(e){E.assert(!W(e),"Invalid JSON number");var t,n,r,i,o,a,s;for(0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse(),s=a.join("");var u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},Z=function(){return!("object"!==typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},ee=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},te=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},ne=new RegExp("^-?\\d{1,10}$"),re=function(e){if(ne.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ie=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw V("Exception was thrown by user callback.",t),e},Math.floor(0))}},oe=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ae=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},se=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=K(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),ue=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=E.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=E.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=E.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),ce="long_polling",le=function(){function e(e,t,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=N.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&N.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){E.assert("string"===typeof e,"typeof type must == string"),E.assert("object"===typeof t,"typeof params must == object");var n;if("websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==ce)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return i(t,function(e,t){r.push(e+"="+t)}),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),fe=function(e){var t=he(e),n=t.namespace;"firebase"===t.domain&&q(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||q("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||B();var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new le(t.host,t.secure,n,r,"",n!=t.subdomain),path:new se(t.pathString)}},he=function(e){var t="",n="",r="",i="",s="",u=!0,c="https",l=443;if("string"===typeof e){var f=e.indexOf("//");f>=0&&(c=e.substring(0,f-1),e=e.substring(f+2));var h=e.indexOf("/");-1===h&&(h=e.length);var p=e.indexOf("?");-1===p&&(p=e.length),t=e.substring(0,Math.min(h,p)),h<p&&(i=o(e.substring(h,p)));var d=a(e.substring(Math.min(e.length,p)));f=t.indexOf(":"),f>=0?(u="https"===c||"wss"===c,l=parseInt(t.substring(f+1),10)):f=e.length;var m=t.split(".");3===m.length?(n=m[1],r=m[0].toLowerCase(),s=r):2===m.length?n=m[0]:"localhost"===m[0].slice(0,f).toLowerCase()&&(n="localhost"),"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:u,scheme:c,pathString:i,namespace:s}},pe=/[\[\].#$\/\u0000-\u001F\u007F]/,de=/[\[\].#$\u0000-\u001F\u007F]/,me=function(e){return"string"===typeof e&&0!==e.length&&!pe.test(e)},ye=function(e){return"string"===typeof e&&0!==e.length&&!de.test(e)},ve=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ye(e)},ge=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!W(e)||e&&"object"===typeof e&&E.contains(e,".sv")},be=function(e,t,n,r,i){i&&void 0===n||_e(E.errorPrefix(e,t,i),n,r)},_e=function(e,t,n){var r=n instanceof se?new ue(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"===typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(W(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"===typeof t&&t.length>10485760/3&&E.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var o=!1,a=!1;if(i(t,function(t,n){if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!me(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),_e(e,n,r),r.pop()}),o&&a)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},we=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!me(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(se.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Ee=function(e,t,n,r,o){if(!o||void 0!==n){var a=E.errorPrefix(e,t,o);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];i(n,function(e,t){var n=new se(e);if(_e(a,t,r.child(n)),".priority"===n.getBack()&&!ge(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),we(a,s)}},Te=function(e,t,n,r){if(!r||void 0!==n){if(W(n))throw new Error(E.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ge(n))throw new Error(E.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Se=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(E.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Oe=function(e,t,n,r){if((!r||void 0!==n)&&!me(n))throw new Error(E.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ce=function(e,t,n,r){if((!r||void 0!==n)&&!ye(n))throw new Error(E.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ne=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ce(e,t,n,r)},Ie=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ke=function(e,t,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!me(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!ve(r))throw new Error(E.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ae=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(E.errorPrefix(e,t,r)+"must be a boolean.")},xe=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){E.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),E.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new E.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){E.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Ie("OnDisconnect.remove",this.path_),E.validateCallback("OnDisconnect.remove",1,e,!0);var t=new E.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){E.validateArgCount("OnDisconnect.set",1,2,arguments.length),Ie("OnDisconnect.set",this.path_),be("OnDisconnect.set",1,e,this.path_,!1),E.validateCallback("OnDisconnect.set",2,t,!0);var n=new E.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){E.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Ie("OnDisconnect.setWithPriority",this.path_),be("OnDisconnect.setWithPriority",1,e,this.path_,!1),Te("OnDisconnect.setWithPriority",2,t,!1),E.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new E.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(E.validateArgCount("OnDisconnect.update",1,2,arguments.length),Ie("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,V("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ee("OnDisconnect.update",1,e,this.path_,!1),E.validateCallback("OnDisconnect.update",2,t,!0);var i=new E.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),Pe=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return E.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Re=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var i=r===t;t=r;var o,a=new Array(8);for(o=7;o>=0;o--)a[o]=e.charAt(r%64),r=Math.floor(r/64);E.assert(0===r,"Cannot push at time == 0");var s=a.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)s+=e.charAt(n[o]);return E.assert(20===s.length,"nextPushId: Length should be 20."),s}}(),De=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),je=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new De(H,e),r=new De(H,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return De.MIN},e}(),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return K(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw E.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return new De(Q,p)},t.prototype.makePost=function(e,t){return E.assert("string"===typeof e,"KeyIndex indexValue must always be a string."),new De(e,p)},t.prototype.toString=function(){return".key"},t}(je),Le=new Me,Fe=function(e){return"number"===typeof e?"number:"+J(e):"string:"+e},Ue=function(e){if(e.isLeafNode()){var t=e.val();E.assert("string"===typeof t||"number"===typeof t||"object"===typeof t&&E.contains(t,".sv"),"Priority must be a string or number.")}else E.assert(e===d||e.isEmpty(),"priority of unexpected type.");E.assert(e===d||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},qe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,E.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ue(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(E.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?J(this.value_):this.value_,this.lazyHash_=P(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(E.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return E.assert(i>=0,"Unknown leaf type: "+n),E.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?K(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return new De(Q,new qe("[PRIORITY-POST]",v))},t.prototype.makePost=function(e,t){var n=y(e);return new De(t,new qe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(je),Be=new Ve,We=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ze=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Qe.EMPTY_NODE,this.right=null!=o?o:Qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),He=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ze(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new We(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new We(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new We(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new We(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new He,e}(),Ke=Math.log(2),Ge=function(){function e(e){this.count=function(e){return parseInt(Math.log(e)/Ke,10)}(e+1),this.current_=this.count-1;var t=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ye=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0==s)return null;if(1==s)return o=e[t],a=n?n(o):o,new ze(a,o.node,ze.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new ze(a,o.node,ze.BLACK,c,l)},o=new Ge(e.length),a=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new ze(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,ze.BLACK):(s(f,ze.BLACK),s(f,ze.RED))}return o}(o);return new Qe(r||t,a)},$e={},Xe=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return E.assert($e&&Be,"ChildrenNode.ts has not been loaded"),g=g||new e({".priority":$e},{".priority":Be})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=E.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qe?t:null},e.prototype.hasIndex=function(e){return E.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){E.assert(t!==Le,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(De.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();var s;s=i?Ye(r,t.getCompare()):$e;var u=t.toString(),c=w.__assign({},this.indexSet_);c[u]=t;var l=w.__assign({},this.indexes_);return l[u]=s,new e(l,c)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(E.map(this.indexes_,function(e,i){var o=E.safeGet(r.indexSet_,i);if(E.assert(o,"Missing index implementation for "+i),e===$e){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(De.Wrap),u=s.getNext();u;)u.name!=t.name&&a.push(u),u=s.getNext();return a.push(t),Ye(a,o.getCompare())}return $e}var c=n.get(t.name),l=e;return c&&(l=l.remove(new De(t.name,c))),l.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(E.map(this.indexes_,function(e){if(e===$e)return e;var r=n.get(t.name);return r?e.remove(new De(t.name,r)):e}),this.indexSet_)},e}(),Je=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ue(this.priorityNode_),this.children_.isEmpty()&&E.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return b||(b=new e(new Qe(u),null,Xe.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||b},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?b:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(E.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new De(t,n),i=void 0,o=void 0,a=void 0;return n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_)),a=i.isEmpty()?b:this.priorityNode_,new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;E.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Be,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Fe(this.getPriority().val())+":"),this.forEachChild(Be,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":P(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new De(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new De(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new De(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,De.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,De.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===et?-1:0},e.prototype.withIndex=function(t){if(t===Le||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Le||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Be),r=t.getIterator(Be),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Le?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ze=function(e){function t(){return e.call(this,new Qe(u),Je.EMPTY_NODE,Xe.Default)||this}return w.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Je.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Je),et=new Ze;Object.defineProperties(De,{MIN:{value:new De(H,Je.EMPTY_NODE)},MAX:{value:new De(Q,et)}}),Me.__EMPTY_NODE=Je.EMPTY_NODE,qe.__childrenNodeConstructor=Je,function(e){d=e}(et),function(e){v=e}(et);var tt=!0;!function(e){y=e}(c);var nt,rt,it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?K(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return De.MAX},t.prototype.makePost=function(e,t){var n=c(e);return new De(t,n)},t.prototype.toString=function(){return".value"},t}(je),ot=new it,at=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,E.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return w.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?K(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=c(e),r=Je.EMPTY_NODE.updateChild(this.indexPath_,n);return new De(t,r)},t.prototype.maxPost=function(){var e=Je.EMPTY_NODE.updateChild(this.indexPath_,et);return new De(Q,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(je),st=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return E.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return E.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return E.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return E.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){E.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),Ce("DataSnapshot.child",1,t,!1);var n=new se(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Be)},e.prototype.hasChild=function(e){E.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Ce("DataSnapshot.hasChild",1,e,!1);var t=new se(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return E.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return E.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),E.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return t(new e(i,n.ref_.child(r),Be))})},e.prototype.hasChildren=function(){return E.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return E.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return E.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),ut=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+E.stringify(this.snapshot.exportVal())},e}(),ct=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),lt=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new ut("value",this,new st(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){E.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ct(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),ft=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,E.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ct(this,e,t):null},e.prototype.createEvent=function(e,t){E.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new ut(e.type,this,new st(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){E.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!t.callbacks_[a]||!this.callbacks_[s]||t.callbacks_[a]===this.callbacks_[s])}return i.every(function(e){return t.callbacks_[e]===n.callbacks_[e]})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),ht=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return E.assert(nt,"Reference.ts has not been loaded"),nt},set:function(e){nt=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Le){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=H)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!=Q)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Be){if(null!=t&&!ge(t)||null!=n&&!ge(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E.assert(e.getIndex()instanceof at||e.getIndex()===ot,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return E.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){E.validateArgCount("Query.on",2,4,arguments.length),Se("Query.on",1,t,!1),E.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new lt(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new ft(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){E.validateArgCount("Query.off",0,3,arguments.length),Se("Query.off",1,e,!0),E.validateCallback("Query.off",2,t,!0),E.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){r=new lt(t||null,null,n||null)}else e&&(t&&(i={},i[e]=t),r=new ft(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;E.validateArgCount("Query.once",1,4,arguments.length),Se("Query.once",1,t,!1),E.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new E.Deferred;u.promise.catch(function(){});var c=function(e){s&&(s=!1,o.off(t,c),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,c,function(e){o.off(t,c),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)}),u.promise},e.prototype.limitToFirst=function(t){if(E.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(E.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(E.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ce("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new se(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new at(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){E.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Le);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){E.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Be);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){E.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(ot);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),E.validateArgCount("Query.startAt",0,2,arguments.length),be("Query.startAt",1,t,this.path,!0),Oe("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),E.validateArgCount("Query.endAt",0,2,arguments.length),be("Query.endAt",1,t,this.path,!0),Oe("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(E.validateArgCount("Query.equalTo",1,2,arguments.length),be("Query.equalTo",1,e,this.path,!1),Oe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return E.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return E.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=$(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(E.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,E.validateCallback(e,3,r.cancel,!0),r.context=n,E.validateContextObject(e,4,r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(E.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),pt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();if(e=e.popFront(),this.children.has(t)){return this.children.get(t).find(e)}return null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Be,function(e,t){n.remember(new se(e),t)}),this.forget(e)}if(this.children.size>0){var r=e.getFront();if(e=e.popFront(),this.children.has(r)){this.children.get(r).forget(e)&&this.children.delete(r)}return 0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild(function(n,r){var i=new se(e.toString()+"/"+n);r.forEachTree(i,t)})},e.prototype.forEachChild=function(e){this.children.forEach(function(t,n){e(n,t)})},e}(),dt=function(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},mt=function(e,t){return e&&"object"===typeof e?(E.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},yt=function(e,t){var n=new pt;return e.forEachTree(new se(""),function(e,r){n.remember(e,vt(r,t))}),n},vt=function(e,t){var n,r=e.getPriority().val(),i=mt(r,t);if(e.isLeafNode()){var o=e,a=mt(o.getValue(),t);return a!==o.getValue()||i!==o.getPriority().val()?new qe(a,c(i)):e}var s=e;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new qe(i))),s.forEachChild(Be,function(e,r){var i=vt(r,t);i!==r&&(n=n.updateImmediateChild(e,i))}),n};!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(rt||(rt={}));var gt,bt,_t=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,E.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),wt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=rt.ACK_USER_WRITE,this.source=_t.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return E.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new se(t));return new e(se.Empty,n,this.revert)}return E.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),Et=function(){return gt||(gt=new Qe(G)),gt},Tt=function(){function e(e,t){void 0===t&&(t=Et()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return i(t,function(e,t){n=n.set(new se(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:se.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);if(null!=i){return{path:new se(n).child(i.path),value:i.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.set(t.popFront(),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.setTree(t.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(se.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(e.child(r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,se.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,se.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(se.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),St=function(){function e(e,t){this.source=e,this.path=t,this.type=rt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,se.Empty):new e(this.source,this.path.popFront())},e}(),Ot=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=rt.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,se.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),Ct=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=rt.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Ot(this.source,se.Empty,n.value):new e(this.source,se.Empty,n)}return E.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Nt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),It=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new Nt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new Nt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new Nt(Je.EMPTY_NODE,!1,!1),new Nt(Je.EMPTY_NODE,!1,!1)),e}(),kt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),At=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){E.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(kt.childRemovedChange(t,a)):E.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(kt.childAddedChange(t,n)):o.trackChildChange(kt.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Be,function(e,r){t.hasChild(e)||n.trackChildChange(kt.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(Be,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(kt.childChangedChange(t,r,i))}else n.trackChildChange(kt.childAddedChange(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Je.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),xt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;E.assert(t==kt.CHILD_ADDED||t==kt.CHILD_CHANGED||t==kt.CHILD_REMOVED,"Only child changes supported for tracking"),E.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t==kt.CHILD_ADDED&&i==kt.CHILD_REMOVED)this.changeMap.set(n,kt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t==kt.CHILD_REMOVED&&i==kt.CHILD_ADDED)this.changeMap.delete(n);else if(t==kt.CHILD_REMOVED&&i==kt.CHILD_CHANGED)this.changeMap.set(n,kt.childRemovedChange(n,r.oldSnap));else if(t==kt.CHILD_CHANGED&&i==kt.CHILD_ADDED)this.changeMap.set(n,kt.childAddedChange(n,e.snapshotNode));else{if(t!=kt.CHILD_CHANGED||i!=kt.CHILD_CHANGED)throw E.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,kt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Pt=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),Rt=new Pt,Dt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Nt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),jt=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}(),Mt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){E.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),E.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,a,s=new xt;if(n.type===rt.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(t,u.path,u.snap,r,i,s):(E.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(t,u.path,u.snap,r,i,a,s))}else if(n.type===rt.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(t,c.path,c.children,r,i,s):(E.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,c.path,c.children,r,i,a,s))}else if(n.type===rt.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(t,l.path,r,i,s):this.ackUserWrite_(t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==rt.LISTEN_COMPLETE)throw E.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,s)}var f=s.getChanges();return e.maybeAddValueEvent_(t,o,f),new jt(o,f)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(kt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,s=void 0;if(t.isEmpty())if(E.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),c=u instanceof Je?u:Je.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(e.getEventCache().getNode(),l,i)}else{var f=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),f,i)}else{var h=t.getFront();if(".priority"==h){E.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=e.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(t,p,s);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var m=t.popFront(),y=void 0;if(o.isCompleteForChild(h)){s=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),s);y=null!=v?o.getNode().getImmediateChild(h).updateChild(m,v):o.getNode().getImmediateChild(h)}else y=n.calcCompleteChild(h,e.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),h,y,m,r,i):o.getNode()}}return e.updateEventSnap(a,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var h=t.popFront(),p=u.getNode().getImmediateChild(f),d=p.updateChild(h,n);s=".priority"==f?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),f,d,h,Rt,null)}var m=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),y=new Dt(r,m,i);return this.generateEventCacheAfterServerEvent_(m,t,r,y,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),c=new Dt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var f=t.popFront(),h=u.getNode().getImmediateChild(l),p=void 0;if(f.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===f.getBack()&&d.getChild(f.parent()).isEmpty()?d:d.updateChild(f,n):Je.EMPTY_NODE}if(h.equals(p))a=e;else{var m=this.filter_.updateChild(u.getNode(),l,p,f,c,o);a=e.updateEventSnap(m,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach(function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:Tt.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new se(t),f,r,i,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var f=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(f,n);c=s.applyServerOverwrite_(c,new se(t),h,r,i,o,a)}}),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=Tt.Empty;return s.getNode().forEachChild(Le,function(e,t){u=u.set(new se(e),t)}),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var c=Tt.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))}),this.applyServerMerge_(e,t,c,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,Rt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var a=new Dt(n,e,r),s=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var l=e.getServerCache().getNode();E.assert(l instanceof Je,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,i)}else{var f=t.getFront(),h=n.calcCompleteChild(f,e.getServerCache());null==h&&e.getServerCache().isCompleteForChild(f)&&(h=s.getImmediateChild(f)),u=null!=h?this.filter_.updateChild(s,f,h,t.popFront(),a,i):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(s,f,Je.EMPTY_NODE,t.popFront(),a,i):s,u.isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap()),o.isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i)))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(se.Empty),e.updateEventSnap(u,o,this.filter_.filtersNodes())},e}(),Lt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach(function(e){e.type===kt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(kt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(i,kt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,kt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,kt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,kt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,kt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw E.assertionError("Should only compare child_ events.");var n=new De(e.childName,e.snapshotNode),r=new De(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),Ft=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new At(n.getIndex()),i=n.getNodeFilter();this.processor_=new Mt(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(Je.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Je.EMPTY_NODE,a.getNode(),null),c=new Nt(s,o.isFullyInitialized(),r.filtersNodes()),l=new Nt(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new It(l,c),this.eventGenerator_=new Lt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){E.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===rt.MERGE&&null!==e.source.queryId&&(E.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),E.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),E.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){t.getNode().forEachChild(Be,function(e,t){n.push(kt.childAddedChange(e,t))})}return t.isFullyInitialized()&&n.push(kt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Ut=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return E.assert(bt,"Reference.ts has not been loaded"),bt},set:function(e){E.assert(!bt,"__referenceConstructor has already been defined"),bt=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,o=e.source.queryId;if(null!==o){var a=this.views.get(o);return E.assert(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(e,t,n)}var s=[];try{for(var u=w.__values(this.views.values()),c=u.next();!c.done;c=u.next()){var a=c.value;s=s.concat(a.applyOperation(e,t,n))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Je?(s=n.calcCompleteEventChildren(r),u=!1):(s=Je.EMPTY_NODE,u=!1);var c=new It(new Nt(s,u,!1),new Nt(r,i,!1));a=new Ft(e,c),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,o,a=t.queryIdentifier(),s=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var l=w.__values(this.views.entries()),f=l.next();!f.done;f=l.next()){var h=w.__read(f.value,2),p=h[0],d=h[1];u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(p),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery()))}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else{var d=this.views.get(a);d&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery())))}return c&&!this.hasCompleteView()&&s.push(new e.__referenceConstructor(t.repo,t.path)),{removed:s,events:u}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=w.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=w.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=w.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),qt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new Tt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=se.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new Tt(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return i(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,Tt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(se.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Be,function(t,n){e.push(new De(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new De(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new Tt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return l(se.Empty,this.writeTree_,e)},e.Empty=new e(new Tt(null)),e}(),Vt=function(){function e(){this.visibleWrites_=qt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Bt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){E.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){E.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});E.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,a=!1,s=this.allWrites_.length-1;o&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?o=!1:r.path.contains(u.path)&&(a=!0)),s--}if(o){if(a)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{i(r.children,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(se.Empty)){var a=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},s=e.layerTree_(this.allWrites_,a,t),u=n||Je.EMPTY_NODE;return s.apply(u)}return null}var c=this.visibleWrites_.getCompleteNode(t);if(null!=c)return c;var l=this.visibleWrites_.childCompoundWrite(t);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(se.Empty)){var u=n||Je.EMPTY_NODE;return l.apply(u)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Je.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Be,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Be,function(e,t){var r=i.childCompoundWrite(new se(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){E.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(t)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t))}return null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(se.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),f=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=f.getNext();h&&c.length<r;)0!==l(h,n)&&c.push(h),h=f.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,se.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=qt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=se.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=se.relativePath(a,n),r=r.addWrite(se.Empty,o.snap.getChild(s)));else{if(!o.children)throw E.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=se.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if(s=se.relativePath(a,n),s.isEmpty())r=r.addWrites(se.Empty,o.children);else{var u=E.safeGet(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(se.Empty,c)}}}}}return r},e}(),Bt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Wt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=Tt.Empty,this.pendingWriteTree_=new Vt,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new Ot(_t.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=Tt.fromObject(t);return this.applyOperationToSyncPoints_(new Ct(_t.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=Tt.Empty;return null!=n.snap?r=r.set(se.Empty,!0):i(n.children,function(e,t){r=r.set(new se(e),t)}),this.applyOperationToSyncPoints_(new wt(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Ot(_t.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=Tt.fromObject(t);return this.applyOperationToSyncPoints_(new Ct(_t.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new St(_t.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=se.relativePath(a,t),c=new Ot(_t.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=se.relativePath(a,t),c=Tt.fromObject(n),l=new Ct(_t.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=se.relativePath(o,t),u=new St(_t.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=se.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(se.Empty)):(a=new Ut,this.syncPointTree_=this.syncPointTree_.set(r,a));var s;if(null!=i)s=!0;else{s=!1,i=Je.EMPTY_NODE;this.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=t.getCompleteServerCache(se.Empty);n&&(i=i.updateImmediateChild(e,n))})}var u=a.viewExistsForQuery(t);if(!u&&!t.getQueryParams().loadsAllData()){var c=e.makeQueryKey_(t);E.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=e.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var f=this.pendingWriteTree_.childWrites(r),h=a.addEventRegistration(t,n,f,i,s);if(!u&&!o){var p=a.viewForQuery(t);h=h.concat(this.setupListener_(t,p))}return h},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),f=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(l&&!f){var h=this.syncPointTree_.subtree(o);if(!h.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(h),d=0;d<p.length;++d){var m=p[d],y=m.getQuery(),v=this.createListenerForView_(m);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!f&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach(function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var r=se.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView()){return[t.getCompleteView()]}var r=[];return t&&(r=t.getQueryViews()),i(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,o=this.tagForQuery_(t),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),o,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(o)E.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),i(n,function(e,t){r=r.concat(t)}),r}),l=0;l<c.length;++l){var f=c[l];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Je.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=te(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return E.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);E.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(se.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(se.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(se.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(se.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(se.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),zt=function(){function e(){this.rootNode_=Je.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Ht=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(L("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',V(e)},e}(),Qt=function(){function e(e){this.accessToken=e}return e}(),Kt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return Promise.resolve(new Qt("owner"))},e.prototype.addTokenChangeListener=function(e){},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){V('Database emulator unexpectedly rejected fake "owner" credentials.')},e}(),Gt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),E.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return E.deepCopy(this.counters_)},e}(),Yt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Gt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),$t=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=w.__assign({},e);return this.last_&&i(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),Xt=1e4,Jt=3e4,Zt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new $t(e);var n=Xt+(Jt-Xt)*Math.random();ae(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;i(t,function(t,i){i>0&&E.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),ae(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),en=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new tn(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),tn=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();D&&L("event: "+t.toString()),ie(n)}}},e.prototype.getPath=function(){return this.path_},e}(),nn=function(){function e(e){this.allowedEvents_=e,this.listeners_={},E.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=w.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){E.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),rn=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return w.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return E.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(nn),on=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||E.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return w.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return E.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(nn),an=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&ie(function(){n.onMessage_(e[t])})}(t);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}())break}},e}(),sn="pLPCommand",un="pRTLPCB",cn=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=F(e),this.stats_=Yt.getCollection(t),this.urlFn=function(e){return t.connectionURL(ce,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new an(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),z(function(){if(!n.isClosed_){n.scriptTagHolder=new ln(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=w.__read(e,5),i=r[0],o=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=w.__read(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var e={};e.start="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!E.isNodeSdk()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!Z()&&!ee())},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=E.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=E.base64Encode(t),r=X(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!E.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=E.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ln=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,E.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=x(),window[sn+this.uniqueCallbackIdentifier]=t,window[un+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){o='<script>document.domain="'+document.domain+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(e){L("frame writing exception"),e.stack&&L(e.stack),L(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||L("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;E.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){L("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}(),fn="",hn=null;"undefined"!==typeof MozWebSocket?hn=MozWebSocket:"undefined"!==typeof WebSocket&&(hn=WebSocket);var pn=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=F(this.connId),this.stats_=Yt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={};return r.v="5",!E.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,N.set("previous_websocket_failure",!0);try{if(E.isNodeSdk()){var i=E.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+fn+"/"+r.platform+"/"+i}},a=Object({NODE_ENV:"production",PUBLIC_URL:""}),s=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(o.proxy={origin:s}),this.mySock=new hn(this.connURL,[],o)}else this.mySock=new hn(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==hn&&!e.forceDisallow_},e.previouslyFailed=function(){return N.isInMemoryStorage||!0===N.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){N.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=E.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(E.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=E.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=X(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),dn=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[cn,pn]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=pn&&pn.isAvailable(),o=i&&!pn.previouslyFailed();if(t.webSocketOnly&&(i||V("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[pn];else{var a=this.transports_=[];try{for(var s=w.__values(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),mn=function(){function e(e,t,n,r,i,o,a){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=F("c:"+this.id+":"),this.transportManager_=new dn(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ae(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=Y("t",e),n=Y("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=Y("t",e),n=Y("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},e.prototype.onControl_=function(e){var t=Y("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?U("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&V("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ae(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ae(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(N.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),yn=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),vn=1e3,gn=3e5,bn=function(e){function t(n,r,i,o,a,s){var u=e.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=s,u.id=t.nextPersistentConnectionId_++,u.log_=F("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=vn,u.maxReconnectDelay_=gn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!E.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),rn.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&on.getInstance().on("online",u.onOnline_,u),u}return w.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(E.stringify(i)),E.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),E.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),E.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&E.contains(e,"w")){var n=E.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();V("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||E.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=E.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),E.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+E.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):U("Unrecognized action received from server: "+E.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;E.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=vn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},l=function(e){E.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)};this.realtime_={close:c,sendRequest:l};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(t){s?L("getToken() completed but was canceled"):(L("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,u=new mn(i,o.repoInfo_,e,n,r,function(e){V(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(e){o.log_("Failed to get token: "+e),s||(E.CONSTANTS.NODE_ADMIN&&V(e),c())})}},t.prototype.interrupt=function(e){L("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){L("Resuming connection for reason: "+e),delete this.interruptReasons_[e],E.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=vn,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return $(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new se(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){L("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=w.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,w.__values(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";E.CONSTANTS.NODE_ADMIN?t="admin_node":E.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+fn.replace(/\./g,"-")]=1,E.isMobileCordova()?e["framework.cordova"]=1:E.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=on.getInstance().currentlyOnline();return E.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(yn),_n=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=F("p:rest:"),i.listens_={},i}return w.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(E.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(e,t){var n=t;if(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),E.safeGet(o.listens_,s)===u){var c;c=e?401==e?"permission_denied":"rest_error:"+e:"ok",i(c,null)}})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+E.querystring(t);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var e=null;if(s.status>=200&&s.status<300){try{e=E.jsonEval(s.responseText)}catch(e){V("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&V("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},t}(yn),wn=function(){function e(e,t,n){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new en,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new pt,this.persistentConnection_=null;var o;if(o="undefined"!==typeof r&&Object({NODE_ENV:"production",PUBLIC_URL:""})[A]?new Kt(n):new Ht(n),this.stats_=Yt.getCollection(e),t||oe())this.server_=new _n(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if("undefined"!==typeof a&&null!==a){if("object"!==typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{E.stringify(a)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new bn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(e){i.server_.refreshAuthToken(e)}),this.statsReporter_=Yt.getOrCreateReporter(e,function(){return new Zt(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new zt,this.infoSyncTree_=new Wt({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Wt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new se(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},e.prototype.generateServerValues=function(){return dt({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new se(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var a=E.map(t,function(e){return c(e)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=c(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=E.map(t,function(e){return c(e)});o=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=c(t);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var f=i;o.length>0&&(f=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(f,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;i(e,function(e,n){t.updateInfo_(e,n)})},e.prototype.updateInfo_=function(e,t){var n=new se("/.info/"+e),r=c(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=c(t,n),s=vt(a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,s,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(e.toString(),a.val(!0),function(t,n){var o="ok"===t;o||V("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)});var f=this.abortTransactions_(e);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var o=!0,a=this.generateServerValues(),s={};if(i(t,function(e,t){o=!1;var n=c(t);s[e]=vt(n,a)}),o)L("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,s,u);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,function(t,i){var o="ok"===t;o||V("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,t,i)}),i(t,function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=yt(this.onDisconnect_,t),r=[];n.forEachTree(se.Empty,function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)}),this.onDisconnect_=new pt,this.eventQueue_.raiseEventsForChangedPath(se.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)})},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=c(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=c(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(E.isEmpty(t))return L("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(o,a){"ok"===o&&i(t,function(t,n){var i=c(n);r.onDisconnect_.remember(e.child(t),i)}),r.callOnCompleteCallback(n,o,a)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var t;e?(this.statsListener_||(this.statsListener_=new $t(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);i(t,function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),L.apply(void 0,w.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&ie(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new xn(this))},enumerable:!0,configurable:!0}),e}(),En=function(){function e(t){this.indexedFilter_=new At(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new De(t,n))||(n=Je.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Je.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Je.EMPTY_NODE);var i=this;return t.forEachChild(Be,function(e,t){i.matches(new De(e,t))||(r=r.updateImmediateChild(e,Je.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Tn=function(){function e(e){this.rangedFilter_=new En(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new De(t,n))||(n=Je.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Je.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Je.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(!(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=t.withIndex(this.index_),r=r.updatePriority(Je.EMPTY_NODE);var u=void 0,c=void 0,l=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();l=function(e,t){return f(t,e)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var o=0,h=!1;i.hasNext();){var a=i.getNext();!h&&l(u,a)<=0&&(h=!0);var s=h&&o<this.limit_&&l(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,Je.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;E.assert(s.numChildren()==this.limit_,"");var u=new De(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name==t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var p=null==h?1:o(h,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(kt.childChangedChange(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(kt.childRemovedChange(t,f));var d=s.updateImmediateChild(t,Je.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(kt.childAddedChange(h.name,h.node)),d.updateImmediateChild(h.name,h.node)):d}return n.isEmpty()?e:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(kt.childRemovedChange(c.name,c.node)),i.trackChildChange(kt.childAddedChange(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Je.EMPTY_NODE)):e},e}(),Sn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return E.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return E.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:H},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return E.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return E.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Q},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return E.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Be&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Be},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new At(this.getIndex()):this.hasLimit()?new Tn(this):new En(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===Be?r=t.PRIORITY_INDEX:this.index_===ot?r=t.VALUE_INDEX:this.index_===Le?r=t.KEY_INDEX:(E.assert(this.index_ instanceof at,"Unrecognized index type!"),r=this.index_.toString()),n[t.ORDER_BY]=E.stringify(r),this.startSet_&&(n[t.START_AT]=E.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+E.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=E.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+E.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),On=function(e){function t(t,n){if(!(t instanceof wn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,Sn.DEFAULT,!1)||this}return w.__extends(t,e),t.prototype.getKey=function(){return E.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return E.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof e?e=String(e):e instanceof se||(null===this.path.getFront()?Ne("Reference.child",1,e,!1):Ce("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){E.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){E.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){E.validateArgCount("Reference.set",1,2,arguments.length),Ie("Reference.set",this.path),be("Reference.set",1,e,this.path,!1),E.validateCallback("Reference.set",2,t,!0);var n=new E.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(E.validateArgCount("Reference.update",1,2,arguments.length),Ie("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,V("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ee("Reference.update",1,e,this.path,!1),E.validateCallback("Reference.update",2,t,!0);var i=new E.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(E.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Ie("Reference.setWithPriority",this.path),be("Reference.setWithPriority",1,e,this.path,!1),Te("Reference.setWithPriority",2,t,!1),E.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new E.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return E.validateArgCount("Reference.remove",0,1,arguments.length),Ie("Reference.remove",this.path),E.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(E.validateArgCount("Reference.transaction",1,3,arguments.length),Ie("Reference.transaction",this.path),E.validateCallback("Reference.transaction",1,e,!1),E.validateCallback("Reference.transaction",2,t,!0),Ae("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new E.Deferred;"function"===typeof t&&r.promise.catch(function(){});var i=function(e,n,i){e?r.reject(e):r.resolve(new Pe(n,i)),"function"===typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){E.validateArgCount("Reference.setPriority",1,2,arguments.length),Ie("Reference.setPriority",this.path),Te("Reference.setPriority",1,e,!1),E.validateCallback("Reference.setPriority",2,t,!0);var n=new E.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){E.validateArgCount("Reference.push",0,2,arguments.length),Ie("Reference.push",this.path),be("Reference.push",1,e,this.path,!0),E.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=Re(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof t&&n.catch(function(){}),o},t.prototype.onDisconnect=function(){return Ie("Reference.onDisconnect",this.path),new xe(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(ht);ht.__referenceConstructor=On,Ut.__referenceConstructor=On;var Cn,Nn=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}(),In=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new Nn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof se?t:new se(t),i=this;null!==(n=r.getFront());){i=new e(n,i,E.safeGet(i.node_.children,n)||new Nn),r=r.popFront()}return i},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){E.assert("undefined"!==typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;i(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new se(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=E.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(Cn||(Cn={})),wn.MAX_TRANSACTION_RETRIES_=25,wn.prototype.transactions_init_=function(){this.transactionQueueTree_=new In},wn.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new On(this,e);o.on("value",i);var a=function(){o.off("value",i)},s={path:e,update:t,onComplete:n,status:null,order:x(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var f=new st(s.currentInputSnapshot,new On(this,s.path),Be);s.onComplete(null,!1,f)}}else{_e("transaction failed: Data returned ",l,s.path),s.status=Cn.RUN;var h=this.transactionQueueTree_.subTree(e),p=h.getValue()||[];p.push(s),h.setValue(p);var d=void 0;if("object"===typeof l&&null!==l&&E.contains(l,".priority"))d=E.safeGet(l,".priority"),E.assert(ge(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{d=(this.serverSyncTree_.calcCompleteEventCache(e)||Je.EMPTY_NODE).getPriority().val()}d=d;var m=this.generateServerValues(),y=c(l,d),v=vt(y,m);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(e,v,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,g),this.sendReadyTransactions_()}},wn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Je.EMPTY_NODE},wn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);E.assert(n.length>0,"Sending zero length transaction queue");n.every(function(e){return e.status===Cn.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},wn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map(function(e){return e.currentWriteId}),i=this.getLatestState_(e,r),o=i,a=i.hash(),s=0;s<t.length;s++){var u=t[s];E.assert(u.status===Cn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=Cn.SENT,u.retryCount++;var c=se.relativePath(e,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),f=e;this.server_.put(f.toString(),l,function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=Cn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new On(n,t[a].path),c=new st(s,u,Be);o.push(t[a].onComplete.bind(null,null,!0,c))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(var a=0;a<o.length;a++)ie(o[a])}else{if("datastale"===r)for(var a=0;a<t.length;a++)t[a].status===Cn.SENT_NEEDS_ABORT?t[a].status=Cn.NEEDS_ABORT:t[a].status=Cn.RUN;else{V("transaction at "+f.toString()+" failed: "+r);for(var a=0;a<t.length;a++)t[a].status=Cn.NEEDS_ABORT,t[a].abortReason=r}n.rerunTransactions_(e)}},a)},wn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},wn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter(function(e){return e.status===Cn.RUN}),o=i.map(function(e){return e.currentWriteId}),a=0;a<e.length;a++){var s=e[a],u=se.relativePath(t,s.path),l=!1,f=void 0;if(E.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===Cn.NEEDS_ABORT)l=!0,f=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===Cn.RUN)if(s.retryCount>=wn.MAX_TRANSACTION_RETRIES_)l=!0,f="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,o);s.currentInputSnapshot=h;var p=e[a].update(h.val());if(void 0!==p){_e("transaction failed: Data returned ",p,s.path);var d=c(p),m="object"===typeof p&&null!=p&&E.contains(p,".priority");m||(d=d.updatePriority(h.getPriority()));var y=s.currentWriteId,v=this.generateServerValues(),g=vt(d,v);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(y),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(y,!0))}else l=!0,f="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],l&&(e[a].status=Cn.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[a].unwatcher),e[a].onComplete))if("nodata"===f){var b=new On(this,e[a].path),_=e[a].currentInputSnapshot,w=new st(_,b,Be);n.push(e[a].onComplete.bind(null,null,!1,w))}else n.push(e[a].onComplete.bind(null,new Error(f),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)ie(n[a]);this.sendReadyTransactions_()}},wn.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},wn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},wn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},wn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Cn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},wn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},wn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)if(t[o].status===Cn.SENT_NEEDS_ABORT);else if(t[o].status===Cn.SENT)E.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=Cn.SENT_NEEDS_ABORT,t[o].abortReason="set";else if(E.assert(t[o].status===Cn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete){n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(var o=0;o<n.length;o++)ie(n[o])}};var kn,An=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return kn||(kn=new e),kn},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&q("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=fe(n),o=i.repoInfo,a=void 0;return"undefined"!==typeof r&&(a=Object({NODE_ENV:"production",PUBLIC_URL:""})[A]),a&&(n="http://"+a+"?ns="+o.namespace,i=fe(n),o=i.repoInfo),ke("Invalid Firebase Database URL",1,i),i.path.isEmpty()||q("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,e).database},e.prototype.deleteRepo=function(e){var t=E.safeGet(this.repos_,e.app.name);t&&E.safeGet(t,e.repoInfo_.toURLString())===e||q("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=E.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var r=E.safeGet(n,e.toURLString());return r&&q("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new wn(e,this.useRestClient_,t),n[e.toURLString()]=r,r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),xn=function(){function e(e){this.repo_=e,e instanceof wn||q("Don't call new Database() directly - please use firebase.database()."),this.root_=new On(e,se.Empty),this.INTERNAL=new Pn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),E.validateArgCount("database.ref",0,1,arguments.length),e instanceof On?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),E.validateArgCount(t,1,1,arguments.length);var n=fe(e);ke(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&q(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&q("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){E.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){E.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),Pn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return w.__awaiter(this,void 0,void 0,function(){return w.__generator(this,function(e){return this.database.checkDeleted_("delete"),An.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),Rn=function(){pn.forceDisallow(),cn.forceAllow()},Dn=function(){cn.forceDisallow()},jn=function(){return pn.isAvailable()},Mn=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},Ln=function(e,t){e.repo.stats(t)},Fn=function(e,t){e.repo.statsIncrementCounter(t)},Un=function(e){return e.repo.dataUpdateCount},qn=function(e,t){return e.repo.interceptServerData_(t)},Vn=Object.freeze({forceLongPolling:Rn,forceWebSockets:Dn,isWebSocketsAvailable:jn,setSecurityDebugCallback:Mn,stats:Ln,statsIncrementCounter:Fn,dataUpdateCount:Un,interceptServerData:qn}),Bn=bn;bn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},bn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Wn=mn,zn=function(e){var t=bn.prototype.put;return bn.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){bn.prototype.put=t}},Hn=le,Qn=function(e){return e.queryIdentifier()},Kn=function(e){An.getInstance().forceRestClient(e)},Gn=Object.freeze({DataConnection:Bn,RealTimeConnection:Wn,hijackHash:zn,ConnectionTarget:Hn,queryIdentifier:Qn,forceRestClient:Kn}),Yn=xn.ServerValue;h(_),t.DataSnapshot=st,t.Database=xn,t.OnDisconnect=xe,t.Query=ht,t.Reference=On,t.ServerValue=Yn,t.enableLogging=M,t.registerDatabase=h}).call(t,n(491))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):y=-1,d.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=d.length;t;){for(p=d,d=[];++y<t;)p&&p[y].run();y=-1,t=d.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,h=e.exports={};!function(){try{l="function"===typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,d=[],m=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e){return"string"==typeof e}function i(e){return"number"==typeof e}function o(e,t){e=e.split("."),t=t||_n;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function a(){}function s(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function u(e){return"array"==s(e)}function c(e){var t=s(e);return"array"==t||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function f(e,t,n){return e.call.apply(e.bind,arguments)}function h(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function p(e,t,n){return p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:h,p.apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function y(){this.j=this.j,this.i=this.i}function v(e){e:{for(var t=Mt,n=e.length,i=r(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:r(e)?e.charAt(t):e[t]}function g(e){return Array.prototype.concat.apply([],arguments)}function b(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e){return/^[\s\xa0]*$/.test(e)}function w(e,t){return-1!=e.indexOf(t)}function E(e,t){return e<t?-1:e>t?1:0}function T(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function S(e){var t,n={};for(t in e)n[t]=e[t];return n}function O(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<An.length;o++)n=An[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function C(e){return C[" "](e),e}function N(e,t){var n=Bn;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function I(){var e=_n.document;return e?e.documentMode:void 0}function k(e){return N(e,function(){for(var t=0,n=Nn(String(xn)).split("."),r=Nn(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=E(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||E(0==a[2].length,0==s[2].length)||E(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function A(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function x(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Mn){e:{try{C(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=r(e.pointerType)?e.pointerType:Kn[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++Yn,this.X=this.Z=!1}function R(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function D(e){this.src=e,this.a={},this.b=0}function j(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=On(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(R(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function M(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}function L(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(u(t)){for(var o=0;o<t.length;o++)L(e,t[o],n,r,i);return null}return n=K(n),e&&e[Gn]?e.Aa(t,n,l(r)?!!r.capture:!!r,i):F(e,t,n,!1,r,i)}function F(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=l(i)?!!i.capture:!!i;if(a&&!zn)return null;var s=Q(e);if(s||(e[$n]=s=new D(e)),n=s.add(t,n,r,a,o),n.proxy)return n;if(r=U(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(W(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function U(){var e=H,t=zn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function q(e,t,n,r,i){if(u(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=K(n),e&&e[Gn]?e.Ba(t,n,l(r)?!!r.capture:!!r,i):F(e,t,n,!0,r,i)}function V(e,t,n,r,i){if(u(t))for(var o=0;o<t.length;o++)V(e,t[o],n,r,i);else r=l(r)?!!r.capture:!!r,n=K(n),e&&e[Gn]?(e=e.c,(t=String(t).toString())in e.a&&(o=e.a[t],-1<(n=M(o,n,r,i))&&(R(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Q(e))&&(t=e.a[t.toString()],e=-1,t&&(e=M(t,n,r,i)),(n=-1<e?t[e]:null)&&B(n))}function B(e){if(!i(e)&&e&&!e.X){var t=e.src;if(t&&t[Gn])j(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(W(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(j(n,e),0==n.b&&(n.src=null,t[$n]=null)):R(e)}}}function W(e){return e in Xn?Xn[e]:Xn[e]="on"+e}function z(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&B(e),n.call(r,t)}function H(e,t){return!!e.X||(zn?z(e,new x(t,this)):(t=new x(t||o("window.event"),this),z(e,t)))}function Q(e){return e=e[$n],e instanceof D?e:null}function K(e){return"function"==s(e)?e:(e[Jn]||(e[Jn]=function(t){return e.handleEvent(t)}),e[Jn])}function G(){y.call(this),this.c=new D(this),this.J=this,this.B=null}function Y(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&j(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}function $(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function X(){this.b=this.a=null}function J(){var e=rr,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Z(){this.next=this.b=this.a=null}function ee(e){_n.setTimeout(function(){throw e},0)}function te(e,t){tr||ne(),nr||(tr(),nr=!0),rr.add(e,t)}function ne(){var e=_n.Promise.resolve(void 0);tr=function(){e.then(re)}}function re(){for(var e;e=J();){try{e.a.call(e.b)}catch(e){ee(e)}var t=er;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}nr=!1}function ie(e,t){G.call(this),this.b=e||1,this.a=t||_n,this.f=p(this.gb,this),this.g=Tn()}function oe(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function ae(e,t,n){if("function"==s(e))n&&(e=p(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=p(e.handleEvent,e)}return 2147483647<Number(t)?-1:_n.setTimeout(e,t||0)}function se(e,t,n){y.call(this),this.f=null!=n?p(e,n):e,this.c=t,this.b=p(this.ab,this),this.a=[]}function ue(e){e.U=ae(e.b,e.c),e.f.apply(null,e.a)}function ce(e){y.call(this),this.b=e,this.a={}}function le(e,t,n,r){u(n)||(n&&(ir[0]=n.toString()),n=ir);for(var i=0;i<n.length;i++){var o=L(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function fe(e){T(e.a,function(e,t){this.a.hasOwnProperty(t)&&B(e)},e),e.a={}}function he(){}function pe(e){A.call(this,"serverreachability",e)}function de(e){or.dispatchEvent(new pe(or,e))}function me(e){A.call(this,"statevent",e)}function ye(e){or.dispatchEvent(new me(or,e))}function ve(e){A.call(this,"timingevent",e)}function ge(e,t){if("function"!=s(e))throw Error("Fn must not be null and must be a function");return _n.setTimeout(function(){e()},t)}function be(){}function _e(e){var t;return(t=e.a)||(t=e.a={}),t}function we(){}function Ee(){A.call(this,"d")}function Te(){A.call(this,"c")}function Se(){}function Oe(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new ce(this),this.O=lr,e=jn?125:void 0,this.P=new ie(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}function Ce(e,t,n){e.F=1,e.f=Ze(Qe(t)),e.l=n,e.H=!0,Ie(e,null)}function Ne(e,t,n,r){e.F=1,e.f=Ze(Qe(t)),e.l=null,e.H=n,Ie(e,r)}function Ie(e,t){e.v=Tn(),xe(e),e.D=Qe(e.f),Je(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new se(p(e.Ka,e,e.a),e.J)),le(e.I,e.a,"readystatechange",e.eb),t=e.h?S(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),de(1)}function ke(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=Ae(e,n);if(i==hr){4==t&&(e.c=4,ye(14),r=!1);break}if(i==fr){e.c=4,ye(15),r=!1;break}Me(e,i)}4==t&&0==n.length&&(e.c=1,ye(16),r=!1),e.b=e.b&&r,r||(je(e),De(e))}function Ae(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?hr:(n=Number(t.substring(n,r)),isNaN(n)?fr:(r+=1)+n>t.length?hr:(t=t.substr(r,n),e.A=r+n,t))}function xe(e){e.R=Tn()+e.O,Pe(e,e.O)}function Pe(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=ge(p(e.bb,e),t)}function Re(e){e.i&&(_n.clearTimeout(e.i),e.i=null)}function De(e){e.g.Da()||e.m||e.g.na(e)}function je(e){Re(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,oe(e.P),fe(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Me(e,t){try{e.g.Ga(e,t),de(4)}catch(e){}}function Le(e){if(e.C&&"function"==typeof e.C)return e.C();if(r(e))return e.split("");if(c(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Fe(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||r(e))Cn(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(c(e)||r(e)){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=Le(e),o=i.length;for(var a=0;a<o;a++)t.call(void 0,i[a],n&&n[a],e)}}function Ue(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ue)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function qe(e){e.b={},e.a.length=0,e.c=0}function Ve(e,t){We(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Be(e))}function Be(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];We(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],We(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function We(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ze(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function He(e,t){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;e instanceof He?(this.h=void 0!==t?t:e.h,Ke(this,e.f),this.j=e.j,Ge(this,e.b),Ye(this,e.i),this.a=e.a,$e(this,lt(e.c)),this.g=e.g):e&&(n=String(e).match(pr))?(this.h=!!t,Ke(this,n[1]||"",!0),this.j=nt(n[2]||""),Ge(this,n[3]||"",!0),Ye(this,n[4]),this.a=nt(n[5]||"",!0),$e(this,n[6]||"",!0),this.g=nt(n[7]||"")):(this.h=!!t,this.c=new ot(null,this.h))}function Qe(e){return new He(e)}function Ke(e,t,n){e.f=n?nt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ge(e,t,n){e.b=n?nt(t,!0):t}function Ye(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function $e(e,t,n){t instanceof ot?(e.c=t,ht(e.c,e.h)):(n||(t=rt(t,vr)),e.c=new ot(t,e.h))}function Xe(e,t,n){e.c.set(t,n)}function Je(e,t,n){u(n)||(n=[String(n)]),ct(e.c,t,n)}function Ze(e){return Xe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Tn()).toString(36)),e}function et(e){return e instanceof He?Qe(e):new He(e,void 0)}function tt(e,t,n,r){var i=new He(null,void 0);return e&&Ke(i,e),t&&Ge(i,t),n&&Ye(i,n),r&&(i.a=r),i}function nt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rt(e,t,n){return r(e)?(e=encodeURI(e).replace(t,it),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function it(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function ot(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function at(e){e.a||(e.a=new Ue,e.b=0,e.c&&ze(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function st(e,t){at(e),t=ft(e,t),We(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ve(e.a,t))}function ut(e,t){return at(e),t=ft(e,t),We(e.a.b,t)}function ct(e,t,n){st(e,t),0<n.length&&(e.c=null,e.a.set(ft(e,t),b(n)),e.b+=n.length)}function lt(e){var t=new ot;return t.c=e.c,e.a&&(t.a=new Ue(e.a),t.b=e.b),t}function ft(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ht(e,t){t&&!e.f&&(at(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(st(this,t),ct(this,n,e))},e)),e.f=t}function pt(){}function dt(){}function mt(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function yt(e){var t=e.a.F.a;if(null!=t)ye(4),t?(ye(10),rn(e.a,e,!1)):(ye(11),rn(e.a,e,!0));else{e.b=new Oe(e,void 0,void 0),e.b.h=e.h,t=e.a,t=cn(t,t.Y()?e.f:null,e.i),ye(4),Je(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Xe(t,n,r),Ne(e.b,t,!1,e.f)}}function vt(){this.a=this.b=null}function gt(){this.a=new Ue}function bt(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[wn]||(e[wn]=++En)):t.charAt(0)+e}function _t(e,t){this.b=e,this.a=t}function wt(e){this.g=e||br,_n.PerformanceNavigationTiming?(e=_n.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(_n.ka&&_n.ka.Ea&&_n.ka.Ea()&&_n.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new gt),this.b=null,this.c=[]}function Et(e,t){!e.a&&(w(t,"spdy")||w(t,"quic")||w(t,"h2"))&&(e.f=e.g,e.a=new gt,e.b&&(Ct(e,e.b),e.b=null))}function Tt(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function St(e){return e.b?1:e.a?e.a.a.c:0}function Ot(e,t){return e.b?e=e.b==t:e.a?(t=bt(t),e=We(e.a.a.b,t)):e=!1,e}function Ct(e,t){e.a?e.a.add(t):e.b=t}function Nt(e,t){if(e.b&&e.b==t)e.b=null;else{var n;(n=e.a)&&(n=bt(t),n=We(e.a.a.b,n)),n&&Ve(e.a.a,bt(t))}}function It(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return Cn(e.a.C(),function(e){t=t.concat(e.j)}),t}return b(e.c)}function kt(){}function At(){this.a=new kt}function xt(e,t,n){var r=n||"";try{Fe(e,function(e,n){var i=e;l(e)&&(i=Zn(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Pt(e,t){var n=new he;if(_n.Image){var r=new Image;r.onload=d(Rt,n,r,"TestLoadImage: loaded",!0,t),r.onerror=d(Rt,n,r,"TestLoadImage: error",!1,t),r.onabort=d(Rt,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=d(Rt,n,r,"TestLoadImage: timeout",!1,t),_n.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Rt(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Dt(e){G.call(this),this.headers=new Ue,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=wr,this.D=this.F=!1}function jt(e){return Rn&&k(9)&&i(e.timeout)&&void 0!==e.ontimeout}function Mt(e){return"content-type"==e.toLowerCase()}function Lt(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Ft(e),qt(e)}function Ft(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ut(e){if(e.b&&"undefined"!=typeof bn&&(!e.s[1]||4!=Bt(e)||2!=e.T()))if(e.l&&4==Bt(e))ae(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Bt(e)){e.b=!1;try{var t=e.T();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.A).match(pr)[1]||null;if(!o&&_n.self&&_n.self.location){var a=_n.self.location.protocol;o=a.substr(0,a.length-1)}i=!Er.test(o?o.toLowerCase():"")}r=i}r?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Ft(e))}finally{qt(e)}}}function qt(e,t){if(e.a){Vt(e);var n=e.a,r=e.s[0]?a:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function Vt(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(_n.clearTimeout(e.m),e.m=null)}function Bt(e){return e.a?e.a.readyState:0}function Wt(e,t){return e.a?e.a.getResponseHeader(t):null}function zt(e){var t="";return T(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ht(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}if(i)return e;if(n=zt(n),r(e)){if(t=encodeURIComponent(String(t)),n=null!=n?"="+encodeURIComponent(String(n)):"",t+=n){if(n=e.indexOf("#"),0>n&&(n=e.length),0>(i=e.indexOf("?"))||i>n){i=n;var o=""}else o=e.substring(i+1,n);e=[e.substr(0,i),o,e.substr(n)],n=e[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Xe(e,t,n),e}function Qt(e){this.f=[],this.F=new vt,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!o("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=o("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=o("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=o("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=o("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new wt(e&&e.concurrentRequestLimit),this.ja=new At,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Kt(e){if(Gt(e),3==e.u){var t=e.P++,n=Qe(e.B);Xe(n,"SID",e.H),Xe(n,"RID",t),Xe(n,"TYPE","terminate"),Zt(e,n),t=new Oe(e,t,void 0),t.F=2,t.f=Ze(Qe(n)),n=!1,_n.navigator&&_n.navigator.sendBeacon&&(n=_n.navigator.sendBeacon(t.f.toString(),"")),!n&&_n.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=Tn(),xe(t)}un(e)}function Gt(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(_n.clearTimeout(e.l),e.l=null),on(e),e.b.cancel(),e.h&&(i(e.h)&&_n.clearTimeout(e.h),e.h=null)}function Yt(e,t){e.f.push(new _t(e.Ra++,t)),3==e.u&&$t(e)}function $t(e){Tt(e.b)||e.h||(e.h=!0,te(e.Ia,e),e.A=0)}function Xt(e,t){return!(St(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=ge(p(e.Ia,e,t),an(e,e.A)),e.A++,!0))}function Jt(e,t){var n;n=t?t.W:e.P++;var r=Qe(e.B);Xe(r,"SID",e.H),Xe(r,"RID",n),Xe(r,"AID",e.O),Zt(e,r),e.g&&e.i&&Ht(r,e.g,e.i),n=new Oe(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=en(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),Ct(e.b,n),Ce(n,r,t)}function Zt(e,t){e.c&&Fe({},function(e,n){Xe(t,n,e)})}function en(e,t,n){n=Math.min(e.f.length,n);var r=e.c?p(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{xt(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function tn(e){e.a||e.l||(e.S=1,te(e.Ha,e),e.v=0)}function nn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=ge(p(e.Ha,e),an(e,e.v)),e.v++,!0)}function rn(e,t,n){var r=t.l;r&&Et(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=cn(e,null,e.ha),$t(e)}function on(e){null!=e.s&&(_n.clearTimeout(e.s),e.s=null)}function an(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function sn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=p(e.fb,e);n||(n=new He("//www.google.com/images/cleardot.gif"),_n.location&&"http"==_n.location.protocol||Ke(n,"https"),Ze(n)),Pt(n.toString(),r)}else ye(2);e.u=0,e.c&&e.c.ta(t),un(e),Gt(e)}function un(e){e.u=0,e.m=-1,e.c&&(0==It(e.b).length&&0==e.f.length||(e.b.c.length=0,b(e.f),e.f.length=0),e.c.sa())}function cn(e,t,n){var r=et(n);if(""!=r.b)t&&Ge(r,t+"."+r.b),Ye(r,r.i);else{var i,o=_n.location;i=t?t+"."+o.hostname:o.hostname,r=tt(o.protocol,i,+o.port,n)}return e.V&&T(e.V,function(e,t){Xe(r,t,e)}),t=e.j,n=e.I,t&&n&&Xe(r,t,n),Xe(r,"VER",e.wa),Zt(e,r),r}function ln(){}function fn(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))t=r;else{var i;(i=""==t)||(i=t.length-1,i=0<=i&&t.indexOf("/",i)==i),t+=i?r:"/"+r}}return t}function hn(){if(Rn&&!(10<=Number(Vn)))throw Error("Environmental error: no available transport.")}function pn(e,t){G.call(this),this.a=new Qt(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:fn(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!_(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new yn(this)}function dn(e){Ee.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function mn(){Te.call(this),this.status=1}function yn(e){this.a=e}n.d(t,"ErrorCode",function(){return Nr}),n.d(t,"EventType",function(){return Ir}),n.d(t,"WebChannel",function(){return kr}),n.d(t,"XhrIo",function(){return Ar}),n.d(t,"createWebChannelTransport",function(){return Cr});var vn,gn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},bn=bn||{},_n=gn,wn="closure_uid_"+(1e9*Math.random()>>>0),En=0,Tn=Date.now||function(){return+new Date};y.prototype.j=!1,y.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),!1)){this[wn]||(this[wn]=++En)}},y.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Sn,On=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(r(e))return r(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Cn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=r(e)?e.split(""):e,a=0;a<i;a++)a in o&&t.call(n,o[a],a,e)},Nn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};e:{var In=_n.navigator;if(In){var kn=In.userAgent;if(kn){Sn=kn;break e}}Sn=""}var An="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");C[" "]=a;var xn,Pn=w(Sn,"Opera"),Rn=w(Sn,"Trident")||w(Sn,"MSIE"),Dn=w(Sn,"Edge"),jn=Dn||Rn,Mn=w(Sn,"Gecko")&&!(w(Sn.toLowerCase(),"webkit")&&!w(Sn,"Edge"))&&!(w(Sn,"Trident")||w(Sn,"MSIE"))&&!w(Sn,"Edge"),Ln=w(Sn.toLowerCase(),"webkit")&&!w(Sn,"Edge");e:{var Fn="",Un=function(){var e=Sn;return Mn?/rv:([^\);]+)(\)|;)/.exec(e):Dn?/Edge\/([\d\.]+)/.exec(e):Rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ln?/WebKit\/(\S+)/.exec(e):Pn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Un&&(Fn=Un?Un[1]:""),Rn){var qn=I();if(null!=qn&&qn>parseFloat(Fn)){xn=String(qn);break e}}xn=Fn}var Vn,Bn={},Wn=_n.document;Vn=Wn&&Rn?I()||("CSS1Compat"==Wn.compatMode?parseInt(xn,10):5):void 0;var zn=!Rn||9<=Number(Vn),Hn=Rn&&!k("9"),Qn=function(){if(!_n.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_n.addEventListener("test",a,t),_n.removeEventListener("test",a,t)}catch(e){}return e}();A.prototype.b=function(){this.Ja=!1},m(x,A);var Kn={2:"touch",3:"pen",4:"mouse"};x.prototype.b=function(){x.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Hn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var Gn="closure_listenable_"+(1e6*Math.random()|0),Yn=0;D.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=M(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new P(t,this.src,o,!!r,i),t.Z=n,e.push(t)),t};var $n="closure_lm_"+(1e6*Math.random()|0),Xn={},Jn="__closure_events_fn_"+(1e9*Math.random()>>>0);m(G,y),G.prototype[Gn]=!0,vn=G.prototype,vn.addEventListener=function(e,t,n,r){L(this,e,t,n,r)},vn.removeEventListener=function(e,t,n,r){V(this,e,t,n,r)},vn.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var i=e.type||e;if(r(e))e=new A(e,n);else if(e instanceof A)e.target=e.target||n;else{var o=e;e=new A(i,n),O(e,o)}if(o=!0,t)for(var a=t.length-1;0<=a;a--){var s=e.a=t[a];o=Y(s,i,!0,e)&&o}if(s=e.a=n,o=Y(s,i,!0,e)&&o,o=Y(s,i,!1,e)&&o,t)for(a=0;a<t.length;a++)s=e.a=t[a],o=Y(s,i,!1,e)&&o;return o},vn.G=function(){if(G.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)R(n[r]);delete t.a[e],t.b--}}this.B=null},vn.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},vn.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Zn=_n.JSON.stringify;$.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var er=new $(function(){return new Z},function(e){e.reset()});X.prototype.add=function(e,t){var n=er.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Z.prototype.reset=function(){this.next=this.b=this.a=null};var tr,nr=!1,rr=new X;m(ie,G),vn=ie.prototype,vn.ba=!1,vn.L=null,vn.gb=function(){if(this.ba){var e=Tn()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(oe(this),this.start()))}},vn.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=Tn())},vn.G=function(){ie.N.G.call(this),oe(this),delete this.a},m(se,y),vn=se.prototype,vn.ea=!1,vn.U=null,vn.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ue(this)},vn.G=function(){se.N.G.call(this),this.U&&(_n.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},vn.ab=function(){this.U=null,this.ea&&(this.ea=!1,ue(this))},m(ce,y);var ir=[];ce.prototype.G=function(){ce.N.G.call(this),fe(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=new G;m(pe,A),m(me,A),m(ve,A);var ar={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},sr={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};be.prototype.a=null;var ur={OPEN:"a",ib:"b",Na:"c",rb:"d"};m(Ee,A),m(Te,A);var cr;m(Se,be),cr=new Se;var lr=45e3,fr={},hr={};vn=Oe.prototype,vn.setTimeout=function(e){this.O=e},vn.eb=function(e){e=e.target;var t=this.B;t&&3==Bt(e)?t.Ua():this.Ka(e)},vn.Ka=function(e){try{if(e==this.a)e:{var t=Bt(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!jn&&!this.a.aa())){this.m||4!=t||7==n||de(8==n||0>=r?3:2),Re(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=Wt(this.a,"X-HTTP-Initial-Response");if(a&&!_(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,ye(12),je(this),De(this);break e}this.s=!0,Me(this,s)}this.H?(ke(this,t,o),jn&&this.b&&3==t&&(le(this.I,this.P,"tick",this.cb),this.P.start())):Me(this,o),4==t&&je(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,xe(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,ye(12)):(this.c=0,ye(13)),je(this),De(this)}}}catch(e){}},vn.cb=function(){if(this.a){var e=Bt(this.a),t=this.a.aa();this.A<t.length&&(Re(this),ke(this,e,t),this.b&&4!=e&&xe(this))}},vn.cancel=function(){this.m=!0,je(this)},vn.bb=function(){this.i=null;var e=Tn();0<=e-this.R?(2!=this.F&&(de(3),ye(17)),je(this),this.c=2,De(this)):Pe(this,this.R-e)},vn=Ue.prototype,vn.C=function(){Be(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},vn.K=function(){return Be(this),this.a.concat()},vn.get=function(e,t){return We(this.b,e)?this.b[e]:t},vn.set=function(e,t){We(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},vn.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var pr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;He.prototype.toString=function(){var e=[],t=this.f;t&&e.push(rt(t,dr,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(rt(t,dr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(rt(n,"/"==n.charAt(0)?yr:mr,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",rt(n,gr)),e.join("")},He.prototype.resolve=function(e){var t=Qe(this),n=!!e.f;n?Ke(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Ge(t,e.b):n=null!=e.i;var r=e.a;if(n)Ye(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(w(i,"./")||w(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?$e(t,lt(e.c)):n=!!e.g,n&&(t.g=e.g),t};var dr=/[#\/\?@]/g,mr=/[#\?:]/g,yr=/[#\?]/g,vr=/[#\?@]/g,gr=/#/g;vn=ot.prototype,vn.add=function(e,t){at(this),this.c=null,e=ft(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},vn.forEach=function(e,t){at(this),this.a.forEach(function(n,r){Cn(n,function(n){e.call(t,n,r,this)},this)},this)},vn.K=function(){at(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},vn.C=function(e){at(this);var t=[];if(r(e))ut(this,e)&&(t=g(t,this.a.get(ft(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=g(t,e[n])}return t},vn.set=function(e,t){return at(this),this.c=null,e=ft(this,e),ut(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},vn.get=function(e,t){return e?(e=this.C(e),0<e.length?String(e[0]):t):t},vn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},m(dt,pt),vn=mt.prototype,vn.M=null,vn.$=function(e){return this.a.$(e)},vn.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},vn.Da=function(){return!1},vn.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Wt(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Wt(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return t=this.a,t.m=this.c,void sn(t,2)}this.f=r[0]}else t=this.a,t.m=this.c,sn(t,2)}else 1==this.M&&(this.g?ye(6):"11111"==t?(ye(5),this.g=!0,(!Rn||10<=Number(Vn))&&(this.c=200,this.b.cancel(),ye(11),rn(this.a,this,!0))):(ye(7),this.g=!1))},vn.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,yt(this)):1==this.M&&(this.g?(ye(11),rn(this.a,this,!0)):(ye(10),rn(this.a,this,!1)));else{0==this.M?ye(8):1==this.M&&ye(9);var e=this.a;e.m=this.c,sn(e,2)}},vn.Y=function(){return this.a.Y()},vn.ma=function(){return this.a.ma()},gt.prototype.add=function(e){this.a.set(bt(e),e)},gt.prototype.C=function(){return this.a.C()};var br=10;wt.prototype.cancel=function(){this.c=It(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(Cn(this.a.C(),function(e){e.cancel()}),qe(this.a.a))},kt.prototype.stringify=function(e){return _n.JSON.stringify(e,void 0)},kt.prototype.parse=function(e){return _n.JSON.parse(e,void 0)};var _r=_n.JSON.parse;m(Dt,G);var wr="",Er=/^https?$/i,Tr=["POST","PUT"];vn=Dt.prototype,vn.ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=_e(this.H?this.H:cr),this.a.onreadystatechange=p(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Lt(this,e)}e=n||"";var i=new Ue(this.headers);r&&Fe(r,function(e,t){i.set(t,e)}),r=v(i.K()),n=_n.FormData&&e instanceof _n.FormData,!(0<=On(Tr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Vt(this),0<this.o&&((this.D=jt(this.a))?(this.a.timeout=this.o,this.a.ontimeout=p(this.Ca,this)):this.m=ae(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Lt(this,e)}},vn.Ca=function(){"undefined"!=typeof bn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},vn.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qt(this))},vn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qt(this,!0)),Dt.N.G.call(this)},vn.Fa=function(){this.j||(this.w||this.l||this.g?Ut(this):this.$a())},vn.$a=function(){Ut(this)},vn.T=function(){try{return 2<Bt(this)?this.a.status:-1}catch(e){return-1}},vn.za=function(){try{return 2<Bt(this)?this.a.statusText:""}catch(e){return""}},vn.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},vn.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_r(t)}},vn.ya=function(){return this.h},vn.Ya=function(){return r(this.f)?this.f:String(this.f)},vn=Qt.prototype,vn.wa=8,vn.u=1,vn.Da=function(){return 0==this.u},vn.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random()),e=this.P++;var t=new Oe(this,e,void 0),n=this.i;this.J&&(n?(n=S(n),O(n,this.J)):n=this.J),null===this.g&&(t.h=n);var i;if(this.W)e:{for(var o=i=0;o<this.f.length;o++){var a=this.f[o];if(void 0===(a="__data__"in a.a&&(a=a.a.__data__,r(a))?a.length:void 0))break;if(4096<(i+=a)){i=o;break e}if(4096===i||o===this.f.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=en(this,t,i),o=Qe(this.B),Xe(o,"RID",e),Xe(o,"CVER",22),this.o&&this.j&&Xe(o,"X-HTTP-Session-Id",this.j),Zt(this,o),this.g&&n&&Ht(o,this.g,n),Ct(this.b,t),this.W?(Xe(o,"$req",i),Xe(o,"SID","null"),t.S=!0,Ce(t,o,null)):Ce(t,o,i),this.u=2}}else 3==this.u&&(e?Jt(this,e):0==this.f.length||Tt(this.b)||Jt(this))},vn.Ha=function(){this.l=null,this.a=new Oe(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Qe(this.pa);Xe(e,"RID","rpc"),Xe(e,"SID",this.H),Xe(e,"CI",this.ia?"0":"1"),Xe(e,"AID",this.O),Zt(this,e),Xe(e,"TYPE","xmlhttp"),this.g&&this.i&&Ht(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Ne(this.a,e,!0,this.ga)},vn.Ga=function(e,t){if(0!=this.u&&(this.a==e||Ot(this.b,e)))if(this.m=e.o,!e.s&&Ot(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(u(n)&&3==n.length){if(t=n,0==t[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;on(this),this.a.cancel(),this.a=null}nn(this),ye(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ge(p(this.Za,this),6e3));if(1>=St(this.b)&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else sn(this,11)}else if((e.s||this.a==e)&&on(this),!_(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var o=r[3];null!=o&&(this.wa=o),r=r[5],null!=r&&i(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((o=Wt(r,"X-Client-Wire-Protocol"))&&Et(this.b,o),this.j&&(r=Wt(r,"X-HTTP-Session-Id")))&&(this.I=r,Xe(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=cn(this,this.Y()?this.ga:null,this.ha),r.s?(Nt(this.b,r),(o=this.D)&&r.setTimeout(o),r.i&&(Re(r),xe(r)),this.a=r):tn(this),0<this.f.length&&$t(this)}else"stop"!=r[0]&&"close"!=r[0]||sn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?sn(this,7):Kt(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},vn.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,nn(this),ye(19))},vn.na=function(e){var t=null;if(this.a==e){on(this),this.a=null;var n=2}else{if(!Ot(this.b,e))return;t=e.j,Nt(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=Tn()-e.v,or.dispatchEvent(new ve(or,e.l?e.l.length:0,t,this.A)),$t(this)):tn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&Xt(this,e)||2==n&&nn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:sn(this,5);break;case 4:sn(this,10);break;case 3:sn(this,6);break;default:sn(this,2)}}},vn.fb=function(e){ye(e?2:1)},vn.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Dt(this.La),e.F=this.R,e},vn.ma=function(){return!!this.c&&!0},vn.Y=function(){return this.R},vn=ln.prototype,vn.va=function(){},vn.ua=function(){},vn.ta=function(){},vn.sa=function(){},vn.Ta=function(){},hn.prototype.a=function(e,t){return new pn(e,t)},m(pn,G),vn=pn.prototype,vn.addEventListener=function(e,t,n,r){pn.N.addEventListener.call(this,e,t,n,r)},vn.removeEventListener=function(e,t,n,r){pn.N.removeEventListener.call(this,e,t,n,r)},vn.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;ye(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new mt(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Ht(t,e.g,e.i)),e=e.w,e.i=n,t=cn(e.a,null,e.i),ye(3),n=e.a.F.b,null!=n?(e.f=n[0],e.M=1,yt(e)):(Je(t,"MODE","init"),!e.a.o&&e.a.j&&Je(t,"X-HTTP-Session-Id",e.a.j),e.b=new Oe(e,void 0,void 0),e.b.h=e.h,Ne(e.b,t,!1,null),e.M=0)},vn.close=function(){Kt(this.a)},vn.Xa=function(e){if(r(e)){var t={};t.__data__=e,Yt(this.a,t)}else this.h?(t={},t.__data__=Zn(e),Yt(this.a,t)):Yt(this.a,e)},vn.G=function(){this.a.c=null,delete this.f,Kt(this.a),delete this.a,pn.N.G.call(this)},m(dn,Ee),m(mn,Te),m(yn,ln),yn.prototype.va=function(){this.a.dispatchEvent("a")},yn.prototype.ua=function(e){this.a.dispatchEvent(new dn(e))},yn.prototype.ta=function(e){this.a.dispatchEvent(new mn(e))},yn.prototype.sa=function(){this.a.dispatchEvent("b")};var Sr=d(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},hn);hn.prototype.createWebChannel=hn.prototype.a,pn.prototype.send=pn.prototype.Xa,pn.prototype.open=pn.prototype.Wa,pn.prototype.close=pn.prototype.close,ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,sr.COMPLETE="complete",we.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",G.prototype.listen=G.prototype.Aa,Dt.prototype.listenOnce=Dt.prototype.Ba,Dt.prototype.getLastError=Dt.prototype.Ya,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.T,Dt.prototype.getStatusText=Dt.prototype.za,Dt.prototype.getResponseJson=Dt.prototype.Va,Dt.prototype.getResponseText=Dt.prototype.aa,Dt.prototype.send=Dt.prototype.ca;var Or={createWebChannelTransport:Sr,ErrorCode:ar,EventType:sr,WebChannel:we,XhrIo:Dt},Cr=Or.createWebChannelTransport,Nr=Or.ErrorCode,Ir=Or.EventType,kr=Or.WebChannel,Ar=Or.XhrIo;t.default=Or}.call(t,n(33))},function(e,t,n){"use strict";function r(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function i(e,t,n){var i=r(e),o=i,a=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"===typeof u){if(!f[u])return new h("internal","internal");i=f[u],o=u}var c=s.message;"string"===typeof c&&(o=c),a=s.details,void 0!==a&&(a=n.decode(a))}}catch(e){}return"ok"===i?null:new h(i,o,a)}function o(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function a(e){return new Promise(function(t,n){setTimeout(function(){n(new h("deadline-exceeded","deadline-exceeded"))},e)})}function s(e,t,n){return new m(e,n)}function u(e){var t={Functions:m};e.INTERNAL.registerService(y,s,t,void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){return e&&"object"===typeof e&&"default"in e?e.default:e}(n(24)),l=n(26),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return l.__extends(t,e),t}(Error),p=function(){function e(e){this.app=e}return e.prototype.getAuthToken=function(){return l.__awaiter(this,void 0,void 0,function(){var e,t;return l.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 2:return t=n.sent(),[2,void 0];case 3:return[2]}})})},e.prototype.getInstanceIdToken=function(){return l.__awaiter(this,void 0,void 0,function(){var e,t,n;return l.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.app.messaging?(e=this.app.messaging(),[4,e.getToken()]):[2,void 0];case 1:return t=r.sent(),t?[2,t]:[2,void 0];case 2:return n=r.sent(),[2,void 0];case 3:return[2]}})})},e.prototype.getContext=function(){return l.__awaiter(this,void 0,void 0,function(){var e,t;return l.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}(),d=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"===typeof e||"object"===typeof e)return o(e,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"===typeof e||"object"===typeof e?o(e,function(e){return t.decode(e)}):e},e}(),m=function(){function e(e,t){var n=this;void 0===t&&(t="us-central1"),this.app_=e,this.region_=t,this.serializer=new d,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return n.deleteService()}},this.contextProvider=new p(e),this.cancelAllRequests=new Promise(function(e){n.deleteService=function(){return e()}})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId,n=this.region_;if(null!==this.emulatorOrigin){return this.emulatorOrigin+"/"+t+"/"+n+"/"+e}return"https://"+n+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return l.__awaiter(this,void 0,void 0,function(){var r,i,o,a;return l.__generator(this,function(s){switch(s.label){case 0:n.append("Content-Type","application/json"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=s.sent(),[3,4];case 3:return i=s.sent(),[2,{status:0,json:null}];case 4:o=null,s.label=5;case 5:return s.trys.push([5,7,,8]),[4,r.json()];case 6:return o=s.sent(),[3,8];case 7:return a=s.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}})})},e.prototype.call=function(e,t,n){return l.__awaiter(this,void 0,void 0,function(){var r,o,s,u,c,f,p,d,m;return l.__generator(this,function(l){switch(l.label){case 0:return r=this._url(e),t=this.serializer.encode(t),o={data:t},s=new Headers,[4,this.contextProvider.getContext()];case 1:return u=l.sent(),u.authToken&&s.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&s.append("Firebase-Instance-ID-Token",u.instanceIdToken),c=n.timeout||7e4,[4,Promise.race([this.postJSON(r,o,s),a(c),this.cancelAllRequests])];case 2:if(!(f=l.sent()))throw new h("cancelled","Firebase Functions instance was deleted.");if(p=i(f.status,f.json,this.serializer))throw p;if(!f.json)throw new h("internal","Response is not valid JSON object.");if(d=f.json.data,"undefined"===typeof d&&(d=f.json.result),"undefined"===typeof d)throw new h("internal","Response is missing data field.");return m=this.serializer.decode(d),[2,{data:m}]}})})},e}(),y="functions";u(c),t.registerFunctions=u},function(e,t,n){"use strict";function r(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),i=0;i<e.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function i(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(E.__spread)(t)))}function o(e){return i(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function s(e){if(e.objectStoreNames.contains(x)){var t=e.transaction(x),n=t.objectStore(x),r=new k,i=n.openCursor();i.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},i.onsuccess=function(){var t=i.result;if(t){var n=t.value;r.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(A)}}}function u(){var e=indexedDB.open(A);e.onerror=function(e){},e.onsuccess=function(t){s(e.result)}}function c(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){if(e.fcmToken&&("string"!==typeof e.fcmToken||0===e.fcmToken.length))throw O.create("bad-token");if(e.swScope&&("string"!==typeof e.swScope||0===e.swScope.length))throw O.create("bad-scope");if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw O.create("bad-vapid-key");if(e.endpoint&&("string"!==typeof e.endpoint||0===e.endpoint.length))throw O.create("bad-subscription");if(e.auth&&!(e.auth instanceof ArrayBuffer))throw O.create("bad-subscription");if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw O.create("bad-subscription");if(e.fcmSenderId&&("string"!==typeof e.fcmSenderId||0===e.fcmSenderId.length))throw O.create("bad-sender-id");if(e.fcmPushSet&&("string"!==typeof e.fcmPushSet||0===e.fcmPushSet.length))throw O.create("bad-push-set")}function f(e,t,n){if(!n.vapidKey||!r(t.buffer,n.vapidKey.buffer))return!1;var i=e.endpoint===n.endpoint,o=r(e.getKey("auth"),n.auth),a=r(e.getKey("p256dh"),n.p256dh);return i&&o&&a}function h(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function p(e,t){var n;return n={},n[b.TYPE_OF_MSG]=e,n[b.DATA]=t,n}function d(e){var t=function(e){if(!m())throw O.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new L(e):new F(e)},n={isSupported:m};e.INTERNAL.registerService("messaging",t,n)}function m(){return self&&"ServiceWorkerGlobalScope"in self?v():y()}function y(){return navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function v(){return"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isSupported",function(){return m}),n.d(t,"registerMessaging",function(){return d});var g,b,_=n(24),w=n.n(_),E=n(26),T=n(46),S=(n.n(T),g={},g["only-available-in-window"]="This method is available in a Window context.",g["only-available-in-sw"]="This method is available in a service worker context.",g["should-be-overriden"]="This method should be overriden by extended classes.",g["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",g["permission-default"]="The required permissions were not granted and dismissed instead.",g["permission-blocked"]="The required permissions were not granted and blocked instead.",g["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",g["notifications-blocked"]="Notifications have been blocked.",g["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",g["sw-registration-expected"]="A service worker registration was the expected input.",g["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",g["invalid-saved-token"]="Unable to access details of the saved token.",g["sw-reg-redundant"]="The service worker being used for push was made redundant.",g["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",g["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",g["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",g["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",g["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",g["token-update-no-token"]="FCM returned no token when updating the user to push.",g["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",g["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",g["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",g["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",g["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",g["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",g["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$errorInfo}",g["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",g["failed-to-delete-token"]="Unable to delete the currently saved token.",g["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",g["bad-scope"]="The service worker scope must be a string with at least one character.",g["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",g["bad-subscription"]="The subscription must be a valid PushSubscription.",g["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",g["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",g["failed-delete-vapid-key"]="The VAPID key could not be deleted.",g["invalid-public-vapid-key"]="The public VAPID key must be a string.",g["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",g["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",g),O=new T.ErrorFactory("messaging","Messaging",S),C=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),N="https://fcm.googleapis.com";!function(e){e.TYPE_OF_MSG="firebase-messaging-msg-type",e.DATA="firebase-messaging-msg-data"}(b||(b={}));var I;!function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(I||(I={}));var k=function(){function e(){}return e.prototype.getToken=function(e,t,n){return Object(E.__awaiter)(this,void 0,void 0,function(){var i,a,s,u,c,l,f,h,p,d;return Object(E.__generator)(this,function(m){switch(m.label){case 0:i=o(t.getKey("p256dh")),a=o(t.getKey("auth")),s="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+i+"&encryption_auth="+a,r(n.buffer,C.buffer)||(u=o(n),s+="&application_pub_key="+u),c=new Headers,c.append("Content-Type","application/x-www-form-urlencoded"),l={method:"POST",headers:c,body:s},m.label=1;case 1:return m.trys.push([1,4,,5]),[4,fetch(N+"/fcm/connect/subscribe",l)];case 2:return h=m.sent(),[4,h.json()];case 3:return f=m.sent(),[3,5];case 4:throw p=m.sent(),O.create("token-subscribe-failed",{errorInfo:p});case 5:if(f.error)throw d=f.error.message,O.create("token-subscribe-failed",{errorInfo:d});if(!f.token)throw O.create("token-subscribe-no-token");if(!f.pushSet)throw O.create("token-subscribe-no-push-set");return[2,{token:f.token,pushSet:f.pushSet}]}})})},e.prototype.updateToken=function(e,t,n,i,a){return Object(E.__awaiter)(this,void 0,void 0,function(){var s,u,c,l,f,h,p,d,m,y;return Object(E.__generator)(this,function(v){switch(v.label){case 0:s=o(i.getKey("p256dh")),u=o(i.getKey("auth")),c="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+i.endpoint+"&encryption_key="+s+"&encryption_auth="+u,r(a.buffer,C.buffer)||(l=o(a),c+="&application_pub_key="+l),f=new Headers,f.append("Content-Type","application/x-www-form-urlencoded"),h={method:"POST",headers:f,body:c},v.label=1;case 1:return v.trys.push([1,4,,5]),[4,fetch(N+"/fcm/connect/subscribe",h)];case 2:return d=v.sent(),[4,d.json()];case 3:return p=v.sent(),[3,5];case 4:throw m=v.sent(),O.create("token-update-failed",{errorInfo:m});case 5:if(p.error)throw y=p.error.message,O.create("token-update-failed",{errorInfo:y});if(!p.token)throw O.create("token-update-no-token");return[2,p.token]}})})},e.prototype.deleteToken=function(e,t,n){return Object(E.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c;return Object(E.__generator)(this,function(l){switch(l.label){case 0:r="authorized_entity="+e+"&token="+t+"&pushSet="+n,i=new Headers,i.append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:i,body:r},l.label=1;case 1:return l.trys.push([1,4,,5]),[4,fetch(N+"/fcm/connect/unsubscribe",o)];case 2:return a=l.sent(),[4,a.json()];case 3:if(s=l.sent(),s.error)throw u=s.error.message,O.create("token-unsubscribe-failed",{errorInfo:u});return[3,5];case 4:throw c=l.sent(),O.create("token-unsubscribe-failed",{errorInfo:c});case 5:return[2]}})})},e}(),A="undefined",x="fcm_token_object_Store",P=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction(function(t){return t.get(e)})},e.prototype.getIndex=function(e,t){function n(n){return n.index(e).get(t)}return this.createTransaction(n)},e.prototype.put=function(e){return this.createTransaction(function(t){return t.put(e)},"readwrite")},e.prototype.delete=function(e){return this.createTransaction(function(t){return t.delete(e)},"readwrite")},e.prototype.closeDatabase=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var e;return Object(E.__generator)(this,function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e=t.sent(),e.close(),this.dbPromise=null,t.label=2;case 2:return[2]}})})},e.prototype.createTransaction=function(e,t){return void 0===t&&(t="readonly"),Object(E.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(E.__generator)(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,t),i=r.objectStore(this.objectStoreName),[4,c(e(i))];case 2:return o=a.sent(),[2,new Promise(function(e,t){r.oncomplete=function(){e(o)},r.onerror=function(){t(r.error)}})]}})})},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise(function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(){t(r.result)},r.onerror=function(){e.dbPromise=null,n(r.error)},r.onupgradeneeded=function(t){return e.onDbUpgrade(r,t)}})),this.dbPromise},e}(),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_token_details_db",t.dbVersion=3,t.objectStoreName="fcm_token_object_Store",t}return Object(E.__extends)(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:var r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"});r.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:u();case 2:var r=e.transaction.objectStore(this.objectStoreName),i=r.openCursor();i.onsuccess=function(){var e=i.result;if(e){var t=e.value,n=Object(E.__assign)({},t);t.createTime||(n.createTime=Date.now()),"string"===typeof t.vapidKey&&(n.vapidKey=a(t.vapidKey)),"string"===typeof t.auth&&(n.auth=a(t.auth).buffer),"string"===typeof t.auth&&(n.p256dh=a(t.p256dh).buffer),e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){return Object(E.__generator)(this,function(t){if(!e)throw O.create("bad-token");return l({fcmToken:e}),[2,this.getIndex("fcmToken",e)]})})},t.prototype.getTokenDetailsFromSWScope=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){return Object(E.__generator)(this,function(t){if(!e)throw O.create("bad-scope");return l({swScope:e}),[2,this.get(e)]})})},t.prototype.saveTokenDetails=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){return Object(E.__generator)(this,function(t){if(!e.swScope)throw O.create("bad-scope");if(!e.vapidKey)throw O.create("bad-vapid-key");if(!e.endpoint||!e.auth||!e.p256dh)throw O.create("bad-subscription");if(!e.fcmSenderId)throw O.create("bad-sender-id");if(!e.fcmToken)throw O.create("bad-token");if(!e.fcmPushSet)throw O.create("bad-push-set");return l(e),[2,this.put(e)]})})},t.prototype.deleteToken=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(n){switch(n.label){case 0:return"string"!==typeof e||0===e.length?[2,Promise.reject(O.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(t=n.sent()))throw O.create("delete-token-not-found");return[4,this.delete(t.swScope)];case 2:return n.sent(),[2,t]}})})},t}(P),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return Object(E.__extends)(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(n){switch(n.label){case 0:if("string"!==typeof e||0===e.length)throw O.create("bad-scope");return[4,this.get(e)];case 1:return t=n.sent(),[2,t?t.vapidKey:void 0]}})})},t.prototype.saveVapidDetails=function(e,t){return Object(E.__awaiter)(this,void 0,void 0,function(){var n;return Object(E.__generator)(this,function(r){if("string"!==typeof e||0===e.length)throw O.create("bad-scope");if(null===t||65!==t.length)throw O.create("bad-vapid-key");return n={swScope:e,vapidKey:t},[2,this.put(n)]})})},t.prototype.deleteVapidDetails=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw O.create("delete-scope-not-found");return[4,this.delete(e)];case 2:return n.sent(),[2,t]}})})},t}(P),j="messagingSenderId",M=function(){function e(e){var t=this;if(!e.options[j]||"string"!==typeof e.options[j])throw O.create("bad-sender-id");this.messagingSenderId=e.options[j],this.tokenDetailsModel=new R,this.vapidDetailsModel=new D,this.iidModel=new k,this.app=e,this.INTERNAL={delete:function(){return t.delete()}}}return e.prototype.getToken=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i;return Object(E.__generator)(this,function(o){switch(o.label){case 0:if("denied"===(e=this.getNotificationPermission_()))throw O.create("notifications-blocked");return"granted"!==e?[2,null]:[4,this.getSWRegistration_()];case 1:return t=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return i=o.sent(),i?[2,this.manageExistingToken(t,r,n,i)]:[2,this.getNewToken(t,r,n)]}})})},e.prototype.manageExistingToken=function(e,t,n,r){return Object(E.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(E.__generator)(this,function(a){switch(a.label){case 0:return i=f(t,n,r),i?(o=Date.now(),o<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]):[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return a.sent(),[2,this.getNewToken(e,t,n)]}})})},e.prototype.updateToken=function(e,t,n,r){return Object(E.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(E.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,t,n)];case 1:return i=s.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return s.sent(),[2,i];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},e.prototype.getNewToken=function(e,t,n){return Object(E.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(E.__generator)(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,t,n)];case 1:return r=o.sent(),i={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return o.sent(),[2,r.token]}})})},e.prototype.deleteToken=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(E.__generator)(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return t=r.sent(),t?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},e.prototype.deleteTokenFromDB=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:return n.sent(),[2]}})})},e.prototype.getPushSubscription=function(e,t){return e.pushManager.getSubscription().then(function(n){return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},e.prototype.requestPermission=function(){throw O.create("only-available-in-window")},e.prototype.useServiceWorker=function(e){throw O.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){throw O.create("only-available-in-window")},e.prototype.onMessage=function(e,t,n){throw O.create("only-available-in-window")},e.prototype.onTokenRefresh=function(e,t,n){throw O.create("only-available-in-window")},e.prototype.setBackgroundMessageHandler=function(e){throw O.create("only-available-in-sw")},e.prototype.delete=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){return Object(E.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}})})},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getIidModel=function(){return this.iidModel},e}(),L=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(e){n.onPush(e)}),self.addEventListener("pushsubscriptionchange",function(e){n.onSubChange(e)}),self.addEventListener("notificationclick",function(e){n.onNotificationClick(e)}),n}return Object(E.__extends)(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return Object(E.__generator)(this,function(u){switch(u.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return(n=u.sent())?[2,this.sendMessageToWindowClients_(t)]:(r=this.getNotificationData_(t))?(i=r.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=u.sent(),a=r.actions,s=Notification.maxActions,a&&s&&a.length>s&&console.warn("This browser only supports "+s+" actions.The remaining actions will not be displayed."),[2,o.showNotification(i,r)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return u.sent(),[2];case 5:return[2]}})})},t.prototype.onSubChange_=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i;return Object(E.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=o.sent(),[3,3];case 2:throw t=o.sent(),O.create("unable-to-resubscribe",{errorInfo:t});case 3:return o.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),r=this.getTokenDetailsModel(),[4,r.getTokenDetailsFromSWScope(e.scope)];case 6:if(!(i=o.sent()))throw n;return[4,this.deleteToken(i.fcmToken)];case 7:throw o.sent(),n;case 8:return[2]}})})},t.prototype.onNotificationClick_=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(E.__generator)(this,function(o){switch(o.label){case 0:return e.notification&&e.notification.data&&e.notification.data.FCM_MSG?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),t=e.notification.data.FCM_MSG,t.notification?(n=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action,n?[4,this.getWindowClient_(n)]:[2]):[2]):[2];case 1:return r=o.sent(),r?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=o.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=o.sent(),o.label=5;case 5:return r?(delete t.notification,delete t.fcmOptions,i=p(I.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},t.prototype.getNotificationData_=function(e){var t;if(e&&"object"===typeof e.notification){var n=Object(E.__assign)({},e.notification);return n.data=Object(E.__assign)({},e.notification.data,(t={},t.FCM_MSG=e,t)),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!==typeof e)throw O.create("bg-handler-function-expected");this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return Object(E.__generator)(this,function(a){switch(a.label){case 0:return t=new URL(e,self.location.href).href,[4,h()];case 1:for(n=a.sent(),r=null,i=0;i<n.length;i++)if((o=new URL(n[i].url,self.location.href).href)===t){r=n[i];break}return[2,r]}})})},t.prototype.attemptToMessageClient_=function(e,t){return Object(E.__awaiter)(this,void 0,void 0,function(){return Object(E.__generator)(this,function(n){if(!e)throw O.create("no-window-client-to-msg");return e.postMessage(t),[2]})})},t.prototype.hasVisibleClients_=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var e;return Object(E.__generator)(this,function(t){switch(t.label){case 0:return[4,h()];case 1:return e=t.sent(),[2,e.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})]}})})},t.prototype.sendMessageToWindowClients_=function(e){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r=this;return Object(E.__generator)(this,function(i){switch(i.label){case 0:return[4,h()];case 1:return t=i.sent(),n=p(I.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map(function(e){return r.attemptToMessageClient_(e,n)}))];case 2:return i.sent(),[2]}})})},t.prototype.getSWRegistration_=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){return Object(E.__generator)(this,function(e){return[2,self.registration]})})},t.prototype.getPublicVapidKey_=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(E.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw O.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return t=n.sent(),null==t?[2,C]:[2,t]}})})},t}(M),F=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(T.createSubscribe)(function(e){n.messageObserver=e}),n.onTokenRefreshInternal=Object(T.createSubscribe)(function(e){n.tokenRefreshObserver=e}),n.setupSWMessageListener_(),n}return Object(E.__extends)(t,e),t.prototype.requestPermission=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var e;return Object(E.__generator)(this,function(t){switch(t.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?O.create("permission-blocked"):O.create("permission-default")}})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw O.create("sw-registration-expected");if(null!=this.registrationToUse)throw O.create("use-sw-before-get-token");this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!==typeof e)throw O.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw O.create("use-public-key-before-get-token");var t=a(e);if(65!==t.length)throw O.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"===typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"===typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise(function(n,r){if(!t)return void r(O.create("no-sw-in-reg"));if("activated"===t.state)return void n(e);if("redundant"===t.state)return void r(O.create("sw-reg-redundant"));var i=function(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;r(O.create("sw-reg-redundant"))}t.removeEventListener("statechange",i)};t.addEventListener("statechange",i)})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw O.create("failed-serviceworker-registration",{browserErrorMessage:e.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){return Object(E.__generator)(this,function(e){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,C]})})},t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[b.TYPE_OF_MSG]){var n=t.data;switch(n[b.TYPE_OF_MSG]){case I.PUSH_MSG_RECEIVED:case I.NOTIFICATION_CLICKED:var r=n[b.DATA];e.messageObserver&&e.messageObserver.next(r)}}},!1)},t}(M);d(w.a)},function(e,t,n){"use strict";function r(e){return"storage/"+e}function i(){return new et(tt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(e){return new et(tt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function a(e){return new et(tt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){return new et(tt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(e){return new et(tt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function c(){return new et(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l(){return new et(tt.CANCELED,"User canceled the upload/download.")}function f(e){return new et(tt.INVALID_URL,"Invalid URL '"+e+"'.")}function h(e){return new et(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function p(){return new et(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$e+"' property when initializing the app?")}function d(){return new et(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(){return new et(tt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y(){return new et(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v(e,t,n){return new et(tt.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function g(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new et(tt.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function b(){return new et(tt.APP_DELETED,"The Firebase app was deleted.")}function _(e){return new et(tt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function w(e,t){return new et(tt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function E(e){throw new et(tt.INTERNAL_ERROR,"Internal error: "+e)}function T(e){switch(e){case nt.RAW:case nt.BASE64:case nt.BASE64URL:case nt.DATA_URL:return;default:throw"Expected one of the event types: ["+nt.RAW+", "+nt.BASE64+", "+nt.BASE64URL+", "+nt.DATA_URL+"]."}}function S(e,t){switch(e){case nt.RAW:return new rt(O(t));case nt.BASE64:case nt.BASE64URL:return new rt(N(e,t));case nt.DATA_URL:return new rt(I(t),k(t))}throw i()}function O(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(i){var o=r,a=e.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function C(e){var t;try{t=decodeURIComponent(e)}catch(e){throw w(nt.DATA_URL,"Malformed data URL.")}return O(t)}function N(e,t){switch(e){case nt.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){var i=n?"-":"_";throw w(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case nt.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a){var i=o?"+":"/";throw w(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(t){throw w(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function I(e){var t=new it(e);return t.base64?N(nt.BASE64,t.rest):C(t.rest)}function k(e){return new it(e).contentType}function A(e,t){return!!(e.length>=t.length)&&e.substring(e.length-t.length)===t}function x(e){switch(e){case at.RUNNING:case at.PAUSING:case at.CANCELING:return st.RUNNING;case at.PAUSED:return st.PAUSED;case at.SUCCESS:return st.SUCCESS;case at.CANCELED:return st.CANCELED;case at.ERROR:default:return st.ERROR}}function P(e){return null!=e}function R(e){return void 0!==e}function D(e){return"function"===typeof e}function j(e){return"object"===typeof e}function M(e){return j(e)&&null!==e}function L(e){return j(e)&&!Array.isArray(e)}function F(e){return"string"===typeof e||e instanceof String}function U(e){return q(e)&&Number.isInteger(e)}function q(e){return"number"===typeof e||e instanceof Number}function V(e){return B()&&e instanceof Blob}function B(){return"undefined"!==typeof Blob}function W(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=W();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(B())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}function H(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function Q(e){var t;try{t=JSON.parse(e)}catch(e){return null}return L(t)?t:null}function K(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}function G(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function Y(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $(e){return"https://"+Ye+"/v0"+e}function X(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1)}function J(e,t){return t}function Z(e){return!F(e)||e.length<2?e:Y(e)}function ee(){function e(e,t){return Z(t)}function t(e,t){return P(t)?Number(t):t}if(pt)return pt;var n=[];n.push(new ht("bucket")),n.push(new ht("generation")),n.push(new ht("metageneration")),n.push(new ht("name","fullPath",!0));var r=new ht("name");r.xform=e,n.push(r);var i=new ht("size");return i.xform=t,n.push(i),n.push(new ht("timeCreated")),n.push(new ht("updated")),n.push(new ht("md5Hash",null,!0)),n.push(new ht("cacheControl",null,!0)),n.push(new ht("contentDisposition",null,!0)),n.push(new ht("contentEncoding",null,!0)),n.push(new ht("contentLanguage",null,!0)),n.push(new ht("contentType",null,!0)),n.push(new ht("metadata","customMetadata",!0)),pt=n}function te(e,t){function n(){var n=e.bucket,r=e.fullPath,i=new ft(n,r);return t.makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function ne(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return te(r,e),r}function re(e,t,n){var r=Q(t);return null===r?null:ne(e,r,n)}function ie(e,t){var n=Q(t);if(null===n)return null;if(!F(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(t){var n=e.bucket,r=e.fullPath;return $("/b/"+i(n)+"/o/"+i(r))+X({alt:"media",token:t})})[0]}function oe(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ae(e){if(!j(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!j(n))throw"Expected object for 'customMetadata' mapping."}else if(M(n))throw"Mapping for '"+t+"' cannot be an object."}}function se(e,t){var n={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=e.bucket();if(null===r)throw p();if(t[vt])for(var i=0,o=t[vt];i<o.length;i++){var a=o[i],s=a.replace(/\/$/,""),u=e.makeStorageReference(new ft(r,s));n.prefixes.push(u)}if(t[gt])for(var c=0,l=t[gt];c<l.length;c++){var f=l[c],u=e.makeStorageReference(new ft(r,f.name));n.items.push(u)}return n}function ue(e,t){var n=Q(t);return null===n?null:se(e,n)}function ce(e){if(!j(e)||!e)throw"Expected ListOptions object.";for(var t in e)if(t===dt){if(!U(e[dt])||e[dt]<=0)throw"Expected maxResults to be a positive number.";if(e[dt]>1e3)throw"Expected maxResults to be less than or equal to "+mt+"."}else{if(t!==yt)throw"Unknown option: "+t;if(e[yt]&&!F(e[yt]))throw"Expected pageToken to be string."}}function le(e){if(!e)throw i()}function fe(e,t){function n(n,r){var i=re(e,r,t);return le(null!==i),i}return n}function he(e){function t(t,n){var r=ue(e,n);return le(null!==r),r}return t}function pe(e,t){function n(n,r){var i=re(e,r,t);return le(null!==i),ie(i,r)}return n}function de(e){function t(t,n){var r;return r=401===t.getStatus()?s():402===t.getStatus()?a(e.bucket):403===t.getStatus()?u(e.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return t}function me(e){function t(t,r){var i=n(t,r);return 404===t.getStatus()&&(i=o(e.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=de(e);return t}function ye(e,t,n){var r=t.fullServerUrl(),i=$(r),o=e.maxOperationRetryTime(),a=new bt(i,"GET",fe(e,n),o);return a.errorHandler=me(t),a}function ve(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=t.bucketOnlyServerUrl(),s=$(a),u=e.maxOperationRetryTime(),c=new bt(s,"GET",he(e),u);return c.urlParams=o,c.errorHandler=de(t),c}function ge(e,t,n){var r=t.fullServerUrl(),i=$(r),o=e.maxOperationRetryTime(),a=new bt(i,"GET",pe(e,n),o);return a.errorHandler=me(t),a}function be(e,t,n,r){var i=t.fullServerUrl(),o=$(i),a=oe(n,r),s={"Content-Type":"application/json; charset=utf-8"},u=e.maxOperationRetryTime(),c=new bt(o,"PATCH",fe(e,r),u);return c.headers=s,c.body=a,c.errorHandler=me(t),c}function _e(e,t){function n(e,t){}var r=t.fullServerUrl(),i=$(r),o=e.maxOperationRetryTime(),a=new bt(i,"DELETE",n,o);return a.successCodes=[200,204],a.errorHandler=me(t),a}function we(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Ee(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=we(null,t)),r}function Te(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ee(t,r,i),c=oe(u,n),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",f="\r\n--"+s+"--",h=lt.getBlob(l,r,f);if(null===h)throw d();var p={name:u.fullPath},m=$(o),y=e.maxUploadRetryTime(),v=new bt(m,"POST",fe(e,n),y);return v.urlParams=p,v.headers=a,v.body=h.uploadData(),v.errorHandler=de(t),v}function Se(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){le(!1)}var r=t||["active"];return le(!!n&&-1!==r.indexOf(n)),n}function Oe(e,t,n,r,i){function o(e){Se(e);var t;try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){le(!1)}return le(F(t)),t}var a=t.bucketOnlyServerUrl(),s=Ee(t,r,i),u={name:s.fullPath},c=$(a),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=oe(s,n),h=e.maxUploadRetryTime(),p=new bt(c,"POST",o,h);return p.urlParams=u,p.headers=l,p.body=f,p.errorHandler=de(t),p}function Ce(e,t,n,r){function i(e){var t=Se(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){le(!1)}n||le(!1);var i=Number(n);return le(!isNaN(i)),new _t(i,r.size(),"final"===t)}var o={"X-Goog-Upload-Command":"query"},a=e.maxUploadRetryTime(),s=new bt(n,"POST",i,a);return s.headers=o,s.errorHandler=de(t),s}function Ne(e,t,n,r,i,o,a,s){function u(e,n){var i,a=Se(e,["active","final"]),s=c.current+f,u=r.size();return i="final"===a?fe(t,o)(e,n):null,new _t(s,u,"final"===a,i)}var c=new _t(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw m();var l=c.total-c.current,f=l;i>0&&(f=Math.min(f,i));var h=c.current,p=h+f,y=f===l?"upload, finalize":"upload",v={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},g=r.slice(h,p);if(null===g)throw d();var b=t.maxUploadRetryTime(),_=new bt(n,"POST",u,b);return _.headers=v,_.body=g.uploadData(),_.progressCallback=s||null,_.errorHandler=de(e),_}function Ie(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw g(r,i,e,n.length);for(var o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?v(o,e,t.message):v(o,e,t)}}function ke(e,t){return function(n){e(n),t(n)}}function Ae(e,t){function n(e){if(!F(e))throw"Expected string."}var r;return r=e?ke(n,e):n,new Tt(r,t)}function xe(){function e(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||B()&&e instanceof Blob))throw"Expected Blob or File."}return new Tt(e)}function Pe(e){return new Tt(ae,e)}function Re(e){return new Tt(ce,e)}function De(){function e(e){if(!(q(e)&&e>=0))throw"Expected a number 0 or greater."}return new Tt(e)}function je(e,t){function n(t){if(!(null===t||P(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}return new Tt(n,t)}function Me(e){function t(e){if(null!==e&&!D(e))throw"Expected a Function."}return new Tt(t,e)}function Le(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}function Fe(e,t,n){function r(){return 2===f}function i(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];h||(h=!0,t.apply(null,e))}function o(t){c=setTimeout(function(){c=null,e(a,r())},t)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!h){if(e)return void i.call.apply(i,[null,e].concat(t));if(r()||l)return void i.call.apply(i,[null,e].concat(t));u<64&&(u*=2);var a;1===f?(f=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(e){p||(p=!0,h||(null!==c?(e||(f=2),clearTimeout(c),o(0)):e||(f=1)))}var u=1,c=null,l=!1,f=0,h=!1,p=!1;return o(0),setTimeout(function(){l=!0,s(!0)},n),s}function Ue(e){e(!1)}function qe(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Ve(e){var t="undefined"!==typeof Ke.a?Ke.a.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function Be(e,t,n){var r=X(e.urlParams),i=e.url+r,o=Object.assign({},e.headers);return qe(o,t),Ve(o),new kt(i,e.method,o,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}function We(e,t,n){return new xt(e,new ct,n)}function ze(e){var t={TaskState:st,TaskEvent:ot,StringFormat:nt,Storage:xt,Reference:Ot};e.INTERNAL.registerService(Rt,We,t,void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"registerStorage",function(){return ze});var He,Qe=n(24),Ke=n.n(Qe),Ge=n(26),Ye="firebasestorage.googleapis.com",$e="storageBucket",Xe=12e4,Je=6e4,Ze=-9007199254740991,et=function(){function e(e,t){this.code_=r(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return r(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),tt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},nt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rt=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}(),it=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw w(nt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=A(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}return e}(),ot={STATE_CHANGED:"state_changed"},at={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},st={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(He||(He={}));var ut=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=He.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=He.ABORT,t(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=He.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(){t(e)})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw E("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),P(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return P(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw E("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw E("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw E("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){P(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){P(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),ct=function(){function e(){}return e.prototype.createXhrIo=function(){return new ut},e}(),lt=function(){function e(e,t){var n=0,r="";V(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(V(this.data_)){var r=this.data_,i=H(r,t,n);return null===i?null:new e(i)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(B()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(z.apply(null,r))}var i=t.map(function(e){return F(e)?S(nt.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),ft=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw h(t)},e.makeFromUrl=function(t){function n(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}function r(e){e.path_=decodeURIComponent(e.path)}for(var i=null,o=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),a={bucket:1,path:3},s=Ye.replace(/[.]/g,"\\."),u=new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),c={bucket:1,path:3},l=[{regex:o,indices:a,postModify:n},{regex:u,indices:c,postModify:r}],h=0;h<l.length;h++){var p=l[h],d=p.regex.exec(t);if(d){var m=d[p.indices.bucket],y=d[p.indices.path];y||(y=""),i=new e(m,y),p.postModify(i);break}}if(null==i)throw f(t);return i},e}(),ht=function(){function e(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||J}return e}(),pt=null,dt="maxResults",mt=1e3,yt="pageToken",vt="prefixes",gt="items",bt=function(){function e(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}(),_t=function(){function e(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return e}(),wt=function(){function e(e,t,n){if(D(e)||P(t)||P(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return e}(),Et=function(){function e(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}return e}(),Tt=function(){function e(e,t){var n=this;this.validator=function(t){n.optional&&!R(t)||e(t)},this.optional=!!t}return e}(),St=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=at.RUNNING,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(tt.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(at.ERROR))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(tt.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(at.ERROR))},this.promise_=new Promise(function(e,t){a.resolve_=e,a.reject_=t,a.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===at.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case at.RUNNING:e(n);break;case at.CANCELING:t.transition_(at.CANCELED);break;case at.PAUSING:t.transition_(at.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=Oe(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var r=Ce(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new _t(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=Ne(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(at.ERROR)}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(at.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=ye(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(at.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=Te(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(at.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case at.CANCELING:case at.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case at.RUNNING:var t=this.state_===at.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case at.PAUSED:this.state_=e,this.notifyObservers_();break;case at.CANCELED:this.error_=l(),this.state_=e,this.notifyObservers_();break;case at.ERROR:case at.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case at.PAUSING:this.transition_(at.PAUSED);break;case at.CANCELING:this.transition_(at.CANCELED);break;case at.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=x(this.state_);return new Et(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==ot.STATE_CHANGED)throw"Expected one of the event types: ["+ot.STATE_CHANGED+"]."}function o(e){try{return void c(e)}catch(e){}try{l(e);if(!(R(e.next)||R(e.error)||R(e.complete)))throw"";return}catch(e){throw u}}function a(e){function t(t,n,i){null!==e&&Ie("on",e,arguments);var o=new wt(t,n,r);return f.addObserver_(o),function(){f.removeObserver_(o)}}return t}function s(e){if(null===e)throw u;o(e)}var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=Me(!0).validator,l=je(null,!0).validator;Ie("on",[Ae(i),je(o,!0),Me(!0),Me(!0)],arguments);var f=this,h=[je(s),Me(!0),Me(!0)];return R(t)||R(n)||R(r)?a(null)(t,n,r):a(h)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach(function(t){e.notifyObserver_(t)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(x(this.state_)){case st.SUCCESS:Le(this.resolve_.bind(null,this.snapshot))();break;case st.CANCELED:case st.ERROR:Le(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(x(this.state_)){case st.RUNNING:case st.PAUSED:e.next&&Le(e.next.bind(e,this.snapshot))();break;case st.SUCCESS:e.complete&&Le(e.complete.bind(e))();break;case st.CANCELED:case st.ERROR:e.error&&Le(e.error.bind(e,this.error_))();break;default:e.error&&Le(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){Ie("resume",[],arguments);var e=this.state_===at.PAUSED||this.state_===at.PAUSING;return e&&this.transition_(at.RUNNING),e},e.prototype.pause=function(){Ie("pause",[],arguments);var e=this.state_===at.RUNNING;return e&&this.transition_(at.PAUSING),e},e.prototype.cancel=function(){Ie("cancel",[],arguments);var e=this.state_===at.RUNNING||this.state_===at.PAUSING;return e&&this.transition_(at.CANCELING),e},e}(),Ot=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof ft?t:ft.makeFromUrl(t)}return e.prototype.toString=function(){return Ie("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return ee()},e.prototype.child=function(e){Ie("child",[Ae()],arguments);var t=G(this.location.path,e),n=new ft(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=K(this.location.path);if(null===e)return null;var t=new ft(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new ft(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Y(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),Ie("put",[xe(),Pe(!0)],arguments),this.throwIfRoot_("put"),new St(this,this.authWrapper,this.location,this.mappings(),new lt(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=nt.RAW),Ie("putString",[Ae(),Ae(T,!0),Pe(!0)],arguments),this.throwIfRoot_("putString");var r=S(t,e),i=Object.assign({},n);return!P(i.contentType)&&P(r.contentType)&&(i.contentType=r.contentType),new St(this,this.authWrapper,this.location,this.mappings(),new lt(r.data,!0),i)},e.prototype.delete=function(){var e=this;return Ie("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then(function(t){var n=_e(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.listAll=function(){Ie("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then(function(){return e})},e.prototype.listAllHelper=function(e,t){return Object(Ge.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ge.__generator)(this,function(a){switch(a.label){case 0:return n={pageToken:t},[4,this.list(n)];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},e.prototype.list=function(e){Ie("list",[Re(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then(function(n){var r=e||{},i=ve(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()})},e.prototype.getMetadata=function(){var e=this;return Ie("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then(function(t){var n=ye(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){var t=this;return Ie("updateMetadata",[Pe()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then(function(n){var r=be(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()})},e.prototype.getDownloadURL=function(){var e=this;return Ie("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then(function(t){var n=ge(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then(function(e){if(null===e)throw y();return e})})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw _(e)},e}(),Ct=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),Nt=function(){function e(){this.map=new Map,this.id=Ze}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then(function(){return t.map.delete(n)},function(){return t.map.delete(n)})},e.prototype.clear=function(){this.map.forEach(function(e){e&&e.cancel(!0)}),this.map.clear()},e}(),It=function(){function e(t,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;P(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=Xe,this.maxUploadRetryTime_=Je,this.requestMap_=new Nt}return e.extractBucket_=function(e){var t=e[$e]||null;return null==t?null:ft.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&P(this.app_.INTERNAL)&&P(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(){return null}):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw b();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new Ct(b());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),kt=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){function e(e,t){function r(e){var t=e.loaded,r=e.lengthComputable?e.total:-1;null!==n.progressCallback_&&n.progressCallback_(t,r)}if(t)return void e(!1,new At(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(t){null!==n.progressCallback_&&t.removeUploadProgressListener(r),n.pendingXhr_=null,t=t;var i=t.getErrorCode()===He.NO_ERROR,o=t.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=t.getErrorCode()===He.ABORT;return void e(!1,new At(!1,null,a))}var s=-1!==n.successCodes_.indexOf(o);e(!0,new At(s,t))})}function t(e,t){var r=n.resolve_,o=n.reject_,a=t.xhr;if(t.wasSuccessCode)try{var s=n.callback_(a,a.getResponseText());R(s)?r(s):r()}catch(e){o(e)}else if(null!==a){var u=i();u.setServerResponseProp(a.getResponseText()),o(n.errorCallback_?n.errorCallback_(a,u):u)}else if(t.canceled){var u=n.appDelete_?b():l();o(u)}else{var u=c();o(u)}}var n=this;this.canceled_?t(!1,new At(!1,null,!0)):this.backoffId_=Fe(e,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&Ue(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],r=-1!==n.indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||i},e}(),At=function(){function e(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return e}(),xt=function(){function e(e,t,n){function r(e,t){return new Ot(e,t)}if(this.bucket_=null,this.authWrapper_=new It(e,r,Be,this,t),this.app_=e,null!=n)this.bucket_=ft.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new ft(i,""))}this.internals_=new Pt(this)}return e.prototype.ref=function(e){function t(e){if("string"!==typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(Ie("ref",[Ae(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Ot(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!==typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{ft.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return Ie("refFromURL",[Ae(t,!1)],arguments),new Ot(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){Ie("setMaxUploadRetryTime",[De()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){Ie("setMaxOperationRetryTime",[De()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Pt=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}(),Rt="storage";ze(Ke.a)},function(e,t,n){"use strict";function r(e){Y=e}function i(){var e=le.getInstance().firebaseAppInstance.installations().getId();return e.then(function(e){X=e}),e}function o(){return X}function a(){var e=le.getInstance().firebaseAppInstance.installations().getToken();return e.then(function(e){}),e}function s(){var e=ce.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function u(){switch(ce.getInstance().document.visibilityState){case"visible":return J.VISIBLE;case"hidden":return J.HIDDEN;case"prerender":return J.PRERENDER;default:return J.UNKNOWN}}function c(){var e=ce.getInstance().navigator,t=e.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function l(e){return!(0===e.length||e.length>pe)&&(!fe.some(function(t){return e.startsWith(t)})&&!!e.match(he))}function f(e){return 0!==e.length&&e.length<=de}function h(e){var t=p();return t?(y(t),Promise.resolve()):m(e).then(function(e){return y(e)}).then(function(e){return d(e)},function(){})}function p(){var e=ce.getInstance().localStorage,t=e.getItem(ae);if(t&&v(t)){var n=e.getItem(oe);if(n)try{return JSON.parse(n)}catch(e){return}}}function d(e){if(e){var t=ce.getInstance().localStorage;t.setItem(oe,JSON.stringify(e)),t.setItem(ae,String(Date.now()+60*le.getInstance().configTimeToLive*60*1e3))}}function m(e){return a().then(function(t){var n=le.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+le.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:be+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:le.getInstance().getAppId(),app_version:ee,sdk_version:ve})});return fetch(i).then(function(e){if(e.ok)return e.json();throw ue.create("RC response not ok")})}).catch(function(){me.info(_e)})}function y(e){if(!e)return e;var t=le.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):ge.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=g(t.tracesSamplingRate),t.logNetworkAfterSampling=g(t.networkRequestsSamplingRate),e}function v(e){return Number(e)>Date.now()}function g(e){return Math.random()<=e}function b(){return we=2,ye=ye||w()}function _(){return 3===we}function w(){return E().then(function(){return i()}).then(function(e){return h(e)}).then(function(){return T()},function(){return T()})}function E(){var e=ce.getInstance().document;return new Promise(function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function T(){we=3}function S(e){setTimeout(function(){if(0!==Se){if(!Oe.length)return S(Ee);var e=Oe.slice();Oe=[];var t=e.map(function(e){return{source_extension_json:e.message,event_time_ms:String(e.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:le.getInstance().logSource,log_event:t};fetch(le.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(n)}).then(function(e){return e.ok||me.info("Call to Firebase backend failed."),e.json()}).then(function(e){var t=Number(e.next_request_wait_millis),n=isNaN(t)?Ee:Math.max(Ee,t);Se=Te,S(n)}).catch(function(){Oe=e.concat(Oe),Se--,me.info("Tries left: "+Se+"."),S(Ee)})}},e)}function O(e){if(!e.eventTime||!e.message)throw ue.create("invalid cc log");Oe=Oe.concat([e])}function C(e){return function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];O({message:e.apply(void 0,r),eventTime:Date.now()})}}function N(){if(Ce)return Ce;var e=C(x);return Ce=new Z.Logger("@firebase/performance/cc"),Ce.logHandler=e,Ce}function I(e){var t=le.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&ce.getInstance().requiredApisAvailable()&&(e.isAuto&&u()!==J.VISIBLE||t.loggingEnabled&&t.logTraceAfterSampling&&(_()?k(e):b().then(function(){return k(e)},function(){return k(e)})))}function k(e){o()&&setTimeout(function(){return N().log(e,1)},0)}function A(e){var t=le.getInstance();t.instrumentationEnabled&&e.url!==t.logEndPointUrl.split("?")[0]&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return N().log(e,0)},0)}function x(e,t){return 0===t?P(e):R(e)}function P(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:D(),network_request_metric:t};return JSON.stringify(n)}function R(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=j(e.counters));var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=j(n));var r={application_info:D(),trace_metric:t};return JSON.stringify(r)}function D(){return{google_app_id:le.getInstance().getAppId(),app_instance_id:o(),web_app_info:{sdk_version:ee,page_url:ce.getInstance().getUrl(),service_worker_status:s(),visibility_state:u(),effective_connection_type:c()},application_process_state:0}}function j(e){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})}function M(e,t){return!(0===e.length||e.length>Ne)&&(t&&t.startsWith(ie)&&ke.indexOf(e)>-1||!e.startsWith(Ie))}function L(e){var t=e;if(t&&void 0!==t.responseStart){var n=ce.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));A({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function F(){o()&&(setTimeout(function(){return q()},0),setTimeout(function(){return U()},0),setTimeout(function(){return V()},0))}function U(){for(var e=ce.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){L(r[n])}e.setupObserver("resource",L)}function q(){var e=ce.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Ae.createOobTrace(t,n),r=void 0},xe);e.onFirstInputDelay(function(e){r&&(clearTimeout(r),Ae.createOobTrace(t,n,e))})}else Ae.createOobTrace(t,n)}function V(){for(var e=ce.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){B(r[n])}e.setupObserver("measure",B)}function B(e){var t=e.name;t.substring(0,re.length)!==re&&Ae.createUserTimingTrace(t)}function W(e){var t=function(e){if(e.name!==Re)throw ue.create("FB not default");if("undefined"===typeof window)throw ue.create("no window");return r(window),le.getInstance().firebaseAppInstance=e,new Pe(e)},n={};e.INTERNAL.registerService("performance",t,n)}Object.defineProperty(t,"__esModule",{value:!0});var z=function(e){return e&&"object"===typeof e&&"default"in e?e.default:e}(n(24)),H=n(26),Q=n(46);n(497);var K,G,Y,$,X,J,Z=n(87),ee="0.2.19",te="FB-PERF-TRACE-START",ne="FB-PERF-TRACE-STOP",re="FB-PERF-TRACE-MEASURE",ie="_wt_",oe="@firebase/performance/config",ae="@firebase/performance/configexpire",se=(K={},K["trace started"]="Trace {$traceName} was started before.",K["trace stopped"]="Trace {$traceName} is not running.",K["no window"]="Window is not available.",K["no app id"]="App id is not available.",K["no project id"]="Project id is not available.",K["no api key"]="Api key is not available.",K["invalid cc log"]="Attempted to queue invalid cc event",K["FB not default"]="Performance can only start when Firebase app instance is the default one.",K["RC response not ok"]="RC response is not ok",K["invalid attribute name"]="Attribute name {$attributeName} is invalid.",K["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",K["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",K),ue=new Q.ErrorFactory("performance","Performance",se),ce=function(){function e(e){if(!e)throw ue.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){new this.PerformanceObserver(function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}).observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===G&&(G=new e(Y)),G},e}(),le=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw ue.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw ue.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw ue.create("no api key");return e},e.getInstance=function(){return void 0===$&&($=new e),$},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e[e.PRERENDER=3]="PRERENDER",e[e.UNLOADED=4]="UNLOADED"}(J||(J={}));var fe=["firebase_","google_","ga_"],he=new RegExp("^[a-zA-Z]\\w*$"),pe=40,de=100,me=new Z.Logger("Performance");me.logLevel=Z.LogLevel.INFO;var ye,ve="0.0.1",ge={loggingEnabled:!0},be="FIREBASE_INSTALLATIONS_AUTH",_e="Could not fetch config, will use default configs",we=1,Ee=1e4,Te=3,Se=Te,Oe=[];S(5500);var Ce,Ne=100,Ie="_",ke=["_fp","_fcp","_fid"],Ae=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=ce.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=te+"-"+this.randomId+"-"+this.name,this.traceStopMark=ne+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||re+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw ue.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw ue.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),I(this)},e.prototype.record=function(e,t,n){if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=H.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}I(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]&&this.putMetric(e,0),this.counters[e]+=t},e.prototype.putMetric=function(e,t){if(!M(e,this.name))throw ue.create("invalide custom metric name",{customMetricName:e});this.counters[e]=t},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=l(e),r=f(t);if(n&&r)return void(this.customAttributes[e]=t);if(!n)throw ue.create("invalid attribute name",{attributeName:e});if(!r)throw ue.create("invalid attribute value",{attributeValue:t})},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return H.__assign({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=ce.getInstance().getUrl();if(i){var o=new e(ie+i,!0),a=Math.floor(1e3*ce.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find(function(e){return"first-paint"===e.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(e){return"first-contentful-paint"===e.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}I(o)}},e.createUserTimingTrace=function(t){I(new e(t,!1,t))},e}(),xe=5e3,Pe=function(){function e(e){this.app=e,ce.getInstance().requiredApisAvailable()?b().then(F,F):me.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return e.prototype.trace=function(e){return new Ae(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return le.getInstance().instrumentationEnabled},set:function(e){le.getInstance().instrumentationEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return le.getInstance().dataCollectionEnabled},set:function(e){le.getInstance().dataCollectionEnabled=e},enumerable:!0,configurable:!0}),e}(),Re="[DEFAULT]";W(z),t.registerPerformance=W},function(e,t,n){"use strict";function r(e){return e instanceof J.FirebaseError&&e.code.includes("request-failed")}function i(e){if(!e||!e.options)throw ae.create("missing-app-config-values");var t=e.name,n=e.options,r=n.projectId,i=n.apiKey,o=n.appId;if(!t||!r||!i||!o)throw ae.create("missing-app-config-values");return{appName:t,projectId:r,apiKey:i,appId:o}}function o(e){var t=e.projectId;return re+"/projects/"+t+"/installations"}function a(e){return{token:e.token,requestStatus:2,expiresIn:f(e.expiresIn),creationTime:Date.now()}}function s(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,ae.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function u(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function c(e,t){var n=t.refreshToken,r=u(e);return r.append("Authorization",h(n)),r}function l(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t;return Object(X.__generator)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function f(e){return Number(e.replace("s","000"))}function h(e){return ne+" "+e}function p(e,t){var n=t.fid;return Object(X.__awaiter)(this,void 0,void 0,function(){var t,r,i,c,f,h,p;return Object(X.__generator)(this,function(d){switch(d.label){case 0:return t=o(e),r=u(e),i={fid:n,authVersion:ne,appId:e.appId,sdkVersion:te},c={method:"POST",headers:r,body:JSON.stringify(i)},[4,l(function(){return fetch(t,c)})];case 1:return f=d.sent(),f.ok?[4,f.json()]:[3,3];case 2:return h=d.sent(),p={fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:a(h.authToken)},[2,p];case 3:return[4,s("Create Installation",f)];case 4:throw d.sent()}})})}function d(e){return new Promise(function(t){setTimeout(t,e)})}function m(e){return btoa(String.fromCharCode.apply(String,Object(X.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")}function y(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=v(e);return se.test(t)?t:ue}catch(e){return ue}}function v(e){return m(e).substr(0,22)}function g(){return he||(he=Object(Z.openDb)(ce,le,function(e){switch(e.oldVersion){case 0:e.createObjectStore(fe)}})),he}function b(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(X.__generator)(this,function(o){switch(o.label){case 0:return n=E(e),[4,g()];case 1:return r=o.sent(),i=r.transaction(fe,"readwrite"),[4,i.objectStore(fe).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}})})}function _(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return t=E(e),[4,g()];case 1:return n=i.sent(),r=n.transaction(fe,"readwrite"),[4,r.objectStore(fe).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function w(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(X.__generator)(this,function(u){switch(u.label){case 0:return n=E(e),[4,g()];case 1:return r=u.sent(),i=r.transaction(fe,"readwrite"),o=i.objectStore(fe),[4,o.get(n)];case 2:return a=u.sent(),s=t(a),s===a?[2,s]:void 0!==s?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),[2,s]}})})}function E(e){return e.appName+"!"+e.appId}function T(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return[4,w(e,function(n){var r=S(n),i=O(e,r);return t=i.registrationPromise,i.installationEntry})];case 1:return n=i.sent(),n.fid!==ue?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function S(e){var t=e||{fid:y(),registrationStatus:0};return k(t)?{fid:t.fid,registrationStatus:0}:t}function O(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(ae.create("app-offline"))}}var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:C(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:N(e)}:{installationEntry:t}}function C(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(X.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,p(e,t)];case 1:return n=o.sent(),[2,b(e,n)];case 2:return i=o.sent(),r(i)&&409===i.serverCode?[4,_(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,b(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw i;case 7:return[2]}})})}function N(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t;return Object(X.__generator)(this,function(n){switch(n.label){case 0:return[4,I(e)];case 1:t=n.sent(),n.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,d(100)];case 3:return n.sent(),[4,I(e)];case 4:return t=n.sent(),[3,2];case 5:if(0===t.registrationStatus)throw ae.create("create-installation-failed");return[2,t]}})})}function I(e){return w(e,function(e){if(!e)throw ae.create("installation-not-found");return k(e)?{fid:e.fid,registrationStatus:0}:e})}function k(e){return 1===e.registrationStatus&&e.registrationTime+ee<Date.now()}function A(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,u,f,h;return Object(X.__generator)(this,function(p){switch(p.label){case 0:return n=x(e,t),r=c(e,t),i={installation:{sdkVersion:te}},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,l(function(){return fetch(n,o)})];case 1:return u=p.sent(),u.ok?[4,u.json()]:[3,3];case 2:return f=p.sent(),h=a(f),[2,h];case 3:return[4,s("Generate Auth Token",u)];case 4:throw p.sent()}})})}function x(e,t){var n=t.fid;return o(e)+"/"+n+"/authTokens:generate"}function P(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(X.__generator)(this,function(o){switch(o.label){case 0:return[4,w(e,function(n){if(!M(n))throw ae.create("not-registered");var r=n.authToken;if(L(r))return n;if(1===r.requestStatus)return t=R(e),n;if(!navigator.onLine)throw ae.create("app-offline");var i=U(n);return t=j(e,i),i})];case 1:return n=o.sent(),t?[4,t]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=n.authToken,o.label=4;case 4:return r=i,[2,r.token]}})})}function R(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(X.__generator)(this,function(r){switch(r.label){case 0:return[4,D(e)];case 1:t=r.sent(),r.label=2;case 2:return 1!==t.authToken.requestStatus?[3,5]:[4,d(100)];case 3:return r.sent(),[4,D(e)];case 4:return t=r.sent(),[3,2];case 5:if(n=t.authToken,0===n.requestStatus)throw ae.create("generate-token-failed");return[2,n]}})})}function D(e){return w(e,function(e){if(!M(e))throw ae.create("not-registered");return q(e.authToken)?Object(X.__assign)({},e,{authToken:{requestStatus:0}}):e})}function j(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,i,o,i;return Object(X.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,A(e,t)];case 1:return n=a.sent(),i=Object(X.__assign)({},t,{authToken:n}),[4,b(e,i)];case 2:return a.sent(),[2,n];case 3:return o=a.sent(),!r(o)||401!==o.serverCode&&404!==o.serverCode?[3,5]:[4,_(e)];case 4:return a.sent(),[3,7];case 5:return i=Object(X.__assign)({},t,{authToken:{requestStatus:0}}),[4,b(e,i)];case 6:a.sent(),a.label=7;case 7:throw o;case 8:return[2]}})})}function M(e){return void 0!==e&&2===e.registrationStatus}function L(e){return 2===e.requestStatus&&!F(e)}function F(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ie}function U(e){var t={requestStatus:1,requestTime:Date.now()};return Object(X.__assign)({},e,{authToken:t})}function q(e){return 1===e.requestStatus&&e.requestTime+ee<Date.now()}function V(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return Object(X.__generator)(this,function(a){switch(a.label){case 0:return t=i(e),[4,T(t)];case 1:return n=a.sent(),r=n.installationEntry,o=n.registrationPromise,o&&o.catch(function(){}),2===r.registrationStatus&&P(t).catch(function(){}),[2,r.fid]}})})}function B(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t;return Object(X.__generator)(this,function(n){switch(n.label){case 0:return t=i(e),[4,W(t)];case 1:return n.sent(),[2,P(t)]}})})}function W(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return[4,T(e)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?[4,r]:[3,3];case 2:return i.sent(),[3,4];case 3:if(2!==n.registrationStatus)throw ae.create("create-installation-failed");i.label=4;case 4:return[2]}})})}function z(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(X.__generator)(this,function(a){switch(a.label){case 0:return n=H(e,t),r=c(e,t),i={method:"DELETE",headers:r},[4,l(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,s("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function H(e,t){var n=t.fid;return o(e)+"/"+n}function Q(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(X.__generator)(this,function(r){switch(r.label){case 0:return t=i(e),[4,w(t,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw ae.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw ae.create("app-offline");case 3:return[4,z(t,n)];case 4:return r.sent(),[4,_(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function K(e){var t=function(e){return i(e),{app:e,getId:function(){return V(e)},getToken:function(){return B(e)},delete:function(){return Q(e)}}};e.INTERNAL.registerService("installations",t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"registerInstallations",function(){return K});var G,Y=n(24),$=n.n(Y),X=n(26),J=n(46),Z=(n.n(J),n(498)),ee=(n.n(Z),1e4),te="w:0.2.7",ne="FIS_v2",re="https://firebaseinstallations.googleapis.com/v1",ie=36e5,oe=(G={},G["missing-app-config-values"]="Missing App configuration values.",G["create-installation-failed"]="Could not register Firebase Installation.",G["generate-token-failed"]="Could not generate Auth Token.",G["not-registered"]="Firebase Installation is not registered.",G["installation-not-found"]="Firebase Installation not found.",G["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',G["app-offline"]="Could not process request. Application offline.",G["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",G),ae=new J.ErrorFactory("installations","Installations",oe),se=/^[cdef][\w-]{21}$/,ue="",ce="firebase-installations-database",le=1,fe="firebase-installations-store",he=null;K($.a)},function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,o=new Promise(function(o,a){i=e[t].apply(e,r),n(i).then(o,a)});return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function o(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function d(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new p(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new d(e)})}function y(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[f,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,f].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){return e?(r.push(e.value),void 0!==t&&r.length==t?void i(r):void e.continue()):void i(r)})})})}),e.openDb=m,e.deleteDb=y,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(e,t){return function(n){return function(r,a,c){var l=n(r,a,c),f=i({},o.defaultConfig,t);return u=(0,s.default)(e.firebase_||e,f,l.dispatch),l.firestore=u,l}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirestore=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(21),a=n(236),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=void 0;t.getFirestore=function(){if(!u)throw new Error("Firebase instance does not yet exist. Check your compose function.");return u}},function(e,t,n){var r=n(128),i=n(130),o=i(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,C.getQueryConfig)(n);return(0,S.wrapInDispatch)(t,{ref:(0,C.firestoreRef)(e,t,a),method:"add",meta:a,args:i,types:[O.actionTypes.ADD_REQUEST,{type:O.actionTypes.ADD_SUCCESS,payload:function(e){return{id:e.id,data:i[0]}}},O.actionTypes.ADD_FAILURE]})}function o(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,C.getQueryConfig)(n);return(0,S.wrapInDispatch)(t,{ref:(0,C.firestoreRef)(e,t,a),method:"set",meta:a,args:i,types:[O.actionTypes.SET_REQUEST,O.actionTypes.SET_SUCCESS,O.actionTypes.SET_FAILURE]})}function a(e,t,n){var r=(0,C.getQueryConfig)(n),i=e._.config||{},o=i.mergeOrdered,a=i.mergeOrderedDocUpdates,s=i.mergeOrderedCollectionUpdates;return(0,S.wrapInDispatch)(t,{ref:(0,C.firestoreRef)(e,t,r),method:"get",meta:r,types:[O.actionTypes.GET_REQUEST,{type:O.actionTypes.GET_SUCCESS,payload:function(e){return{data:(0,C.dataByIdSnapshot)(e),ordered:(0,C.orderedFromSnap)(e)}},merge:{docs:o&&a,collections:o&&s}},O.actionTypes.GET_FAILURE]})}function s(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,C.getQueryConfig)(n);return(0,S.wrapInDispatch)(t,{ref:(0,C.firestoreRef)(e,t,a),method:"update",meta:a,args:i,types:[O.actionTypes.UPDATE_REQUEST,O.actionTypes.UPDATE_SUCCESS,O.actionTypes.UPDATE_FAILURE]})}function u(e,t,n){var r=(0,C.getQueryConfig)(n),i=e._.config;return!r.doc||r.subcollections&&!(0,y.default)(r.subcollections,"doc")?(0,g.default)(i.onAttemptCollectionDelete)?i.onAttemptCollectionDelete(n,t,e):Promise.reject(new Error("Only documents can be deleted.")):(0,S.wrapInDispatch)(t,{ref:(0,C.firestoreRef)(e,t,r),method:"delete",meta:r,types:[O.actionTypes.DELETE_REQUEST,{type:O.actionTypes.DELETE_SUCCESS,preserve:e._.config.preserveOnDelete},O.actionTypes.DELETE_FAILURE]})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=T({},t,{path:e.doc.ref.path});return t.subcollections&&!t.storeAs?n.subcollections[0]=T({},n.subcollections[0],{doc:e.doc.id}):n.doc=e.doc.id,{type:I[e.type]||O.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:e.doc.data(),ordered:{oldIndex:e.oldIndex,newIndex:e.newIndex}}}}function l(e,t,n,r,i){var o=(0,C.getQueryConfig)(n),a=e._.config||{},s=a.mergeOrdered,u=a.mergeOrderedDocUpdates,l=a.mergeOrderedCollectionUpdates,f=(0,C.firestoreRef)(e,t,o).onSnapshot(function(e){var n="function"===typeof e.docChanges?e.docChanges():e.docChanges;n&&n.length<e.size?1===n.length?t(c(n[0],o)):n.forEach(function(e){t(c(e,o))}):t({type:O.actionTypes.LISTENER_RESPONSE,meta:o,payload:{data:(0,C.dataByIdSnapshot)(e),ordered:(0,C.orderedFromSnap)(e)},merge:{docs:s&&u,collections:s&&l}}),r&&r(e)},function(n){var r=e._.config||{},a=r.logListenerError,c=r.preserveOnListenerError;a&&(0,_.default)(console,"error",n),t({type:O.actionTypes.LISTENER_ERROR,meta:o,payload:n,merge:{docs:s&&u,collections:s&&l},preserve:c}),i&&i(n)});(0,C.attachListener)(e,t,o,f)}function f(e,t,n){if(!(0,E.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=e._.config;return r.oneListenerPerPath?n.forEach(function(n){var r=(0,C.getQueryName)(n),i=N[r]||0;N[r]=i+1,i>0||l(e,t,n)}):n.forEach(function(n){var i=(0,g.default)(r.allowMultipleListeners)?r.allowMultipleListeners(n,e._.listeners):r.allowMultipleListeners;(0,C.listenerExists)(e,n)&&!i||l(e,t,n)})}function h(e,t,n){return(0,C.detachListener)(e,t,(0,C.getQueryConfig)(n))}function p(e,t,n){if(!(0,E.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");if(e._.config.oneListenerPerPath)return void n.forEach(function(n){var r=(0,C.getQueryName)(n);N[r]-=1,0===N[r]&&h(e,t,n)});n.forEach(function(n){h(e,t,n)})}function d(e,t,n){return(0,S.wrapInDispatch)(t,{ref:e.firestore(),method:"runTransaction",args:[n],types:[O.actionTypes.TRANSACTION_START,O.actionTypes.TRANSACTION_SUCCESS,O.actionTypes.TRANSACTION_FAILURE]})}Object.defineProperty(t,"__esModule",{value:!0});var m=n(212),y=r(m),v=n(12),g=r(v),b=n(502),_=r(b),w=n(6),E=r(w),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.add=i,t.set=o,t.get=a,t.update=s,t.deleteRef=u,t.setListener=l,t.setListeners=f,t.unsetListener=h,t.unsetListeners=p,t.runTransaction=d;var S=n(239),O=n(21),C=n(142),N={},I={added:O.actionTypes.DOCUMENT_ADDED,removed:O.actionTypes.DOCUMENT_REMOVED,modified:O.actionTypes.DOCUMENT_MODIFIED};t.default={get:a,firestoreRef:C.firestoreRef,add:i,update:s,setListener:l,setListeners:f,unsetListener:h,unsetListeners:p,runTransaction:d}},function(e,t,n){var r=n(503),i=n(60),o=i(r);e.exports=o},function(e,t,n){function r(e,t,n){t=o(t,e),e=s(e,t);var r=null==e?e:e[u(a(t))];return null==r?void 0:i(r,e,n)}var i=n(57),o=n(36),a=n(53),s=n(189),u=n(31);e.exports=r},function(e,t,n){function r(e,t,n){if((e=l(e))&&(n||void 0===t))return o(e);if(!e||!(t=i(t)))return e;var r=c(e),f=c(t),h=u(r,f),p=s(r,f)+1;return a(r,h,p).join("")}var i=n(113),o=n(226),a=n(139),s=n(505),u=n(240),c=n(140),l=n(37);e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--&&i(t,e[n],0)>-1;);return n}var i=n(136);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(508);t.default=(0,r.combineReducers)({status:i.statusReducer,data:i.dataReducer,ordered:i.orderedReducer,listeners:i.listenersReducer,errors:i.errorsReducer})},function(e,t,n){function r(e,t,n){if((e=u(e))&&(n||void 0===t))return e.replace(c,"");if(!e||!(t=i(t)))return e;var r=s(e),l=a(r,s(t));return o(r,l).join("")}var i=n(113),o=n(139),a=n(240),s=n(140),u=n(37),c=/^\s+/;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.statusReducer=t.orderedReducer=t.listenersReducer=t.errorsReducer=t.dataReducer=void 0;var i=n(509),o=r(i),a=n(510),s=r(a),u=n(511),c=r(u),l=n(512),f=r(l),h=n(521),p=r(h);t.dataReducer=o.default,t.errorsReducer=s.default,t.listenersReducer=c.default,t.orderedReducer=f.default,t.statusReducer=p.default,t.default={dataReducer:o.default,errorsReducer:s.default,listenersReducer:c.default,orderedReducer:f.default,statusReducer:p.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case d:case m:var n=t.meta,r=t.payload;if(!r||void 0===r.data)return e;var i=function e(t){return t.subcollections?e(t.subcollections.slice(-1)[0]):t.doc}(n),o=i?(0,l.default)(r.data,i):r.data,s=(0,l.default)(e,n.storeAs||(0,h.pathFromMeta)(n));if(!s||n.subcollections)return(0,u.default)(Object,n.storeAs||(0,h.pathFromMeta)(n),o,e);var c=(0,a.default)(s,o);return(0,u.default)(Object,n.storeAs||(0,h.pathFromMeta)(n),c,e);case b:case g:return(0,u.default)(Object,(0,h.pathFromMeta)(t.meta),t.payload.data,e);case _:case v:var f=(0,h.pathFromMeta)(t.meta),w=(0,u.default)(Object,f,null,e);return t.preserve&&t.preserve.data?(0,h.preserveValuesFromState)(e,t.preserve.data,w):w;case p:return t.preserve&&t.preserve.data?(0,h.preserveValuesFromState)(e,t.preserve.data,{}):{};case y:var E=(0,u.default)(Object,(0,h.pathFromMeta)(t.meta),null,e);if(t.preserve&&t.preserve.data)return(0,h.preserveValuesFromState)(e,t.preserve.data,E);return(0,l.default)(e,(0,h.pathFromMeta)(t.meta))?e:E;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(232),a=r(o),s=n(233),u=r(s),c=n(35),l=r(c);t.default=i;var f=n(21),h=n(47),p=f.actionTypes.CLEAR_DATA,d=f.actionTypes.GET_SUCCESS,m=f.actionTypes.LISTENER_RESPONSE,y=f.actionTypes.LISTENER_ERROR,v=f.actionTypes.DELETE_SUCCESS,g=f.actionTypes.DOCUMENT_ADDED,b=f.actionTypes.DOCUMENT_MODIFIED,_=f.actionTypes.DOCUMENT_REMOVED},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.meta;switch(t.type){case p:case d:return-1!==e.indexOf((0,c.getQueryName)(n))?e:[].concat(i(e),[(0,c.getQueryName)(n)]);case f:return[];case h:return e.filter(function(e){return e!==(0,c.getQueryName)(n)});default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.meta,i=t.payload;switch(t.type){case d:case p:return s({},e,r({},(0,c.getQueryName)(n),i));case h:return s({},e,r({},(0,c.getQueryName)(n),null));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(21),c=n(142),l=n(47),f=u.actionTypes.CLEAR_ERRORS,h=u.actionTypes.CLEAR_ERROR,p=u.actionTypes.LISTENER_ERROR,d=u.actionTypes.ERROR,m=(0,l.combineReducers)({byQuery:a,allIds:o});t.default=m},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path,o=t.payload;switch(n){case l.actionTypes.SET_LISTENER:return c({},e,i({},o.name,{name:o.name,path:r}));case l.actionTypes.UNSET_LISTENER:return(0,u.default)(e,[o.name]);default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.type,i=t.payload;switch(n){case l.actionTypes.SET_LISTENER:return[].concat(r(e),[i.name]);case l.actionTypes.UNSET_LISTENER:return e.filter(function(e){return e!==i.name});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(82),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(21),f=n(47),h=(0,f.combineReducers)({byId:o,allIds:a});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!t.meta.subcollections||t.meta.storeAs)return(0,R.updateItemInArray)(e,t.meta.doc,function(e){return(0,p.default)(e,t.payload.data)});var n=(0,R.pathToArr)(t.meta.path),r=x(n,4),i=r[1],a=r[2],s=r[3];return(0,R.updateItemInArray)(e,i,function(e){return A({},e,o({},a,(0,R.updateItemInArray)((0,N.default)(e,a,[]),s,function(e){return(0,p.default)(e,t.payload.data)})))})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.meta,r=t.payload;return!n.subcollections||n.storeAs?[].concat(i(e.slice(0,r.ordered.newIndex)),[A({id:n.doc},r.data)],i(e.slice(r.ordered.newIndex))):a(e,t)}function u(e,t){if(!t.meta.subcollections||t.meta.storeAs)return(0,T.default)(e,{id:t.meta.doc});var n=t.meta.subcollections[0];return n.doc?(0,R.updateItemInArray)(e,t.meta.doc,function(t){return(0,N.default)(t,n.collection,[]).length?A({},t,o({},n.collection,(0,T.default)(e,{id:n.doc}))):t}):(0,R.updateItemInArray)(e,t.meta.doc,function(e){return(0,w.default)(e,[n.collection])})}function c(e,t){var n=t.meta,r=t.merge,i=void 0===r?{doc:!0,collections:!0}:r;if(n.storeAs)return t.payload.ordered;var s=(0,k.default)(e),u=!!(0,k.default)(t.payload.ordered);if(n.doc&&i.doc&&s)return a(e,t);if(s&&i.collections){if(!u)return[];var c=e&&(0,v.default)(e,"id");return(0,b.default)(t.payload.ordered,function(e){var t=(0,N.default)(c,e.id);return t&&!(0,m.default)(t,e)?A({},t,e):e})}if(n.doc&&n.subcollections){var l=n.subcollections[0];return s?(0,R.updateItemInArray)(e,n.doc,function(e){return u?A({},e,o({},l.collection,(0,O.default)((0,N.default)(e,l.collection,[]),t.payload.ordered,"id"))):(0,w.default)(e,[l.collection])}):[o({id:n.doc},l.collection,t.payload.ordered)]}return n.doc&&s?(0,R.updateItemInArray)(e,n.doc,function(e){return(0,p.default)(e,t.payload.ordered[0])}):t.payload.ordered}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!t.type)return e;if(t.type===L)return t.preserve&&t.preserve.ordered?(0,R.preserveValuesFromState)(e,t.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(V,t.type))return e;if(!t.meta||!t.meta.storeAs&&!t.meta.collection)return e;var n=t.meta.storeAs||t.meta.collection,r=(0,N.default)(e,n);return A({},e,o({},n,B(r,t)))}Object.defineProperty(t,"__esModule",{value:!0});var f,h=n(237),p=r(h),d=n(141),m=r(d),y=n(513),v=r(y),g=n(54),b=r(g),_=n(82),w=r(_),E=n(517),T=r(E),S=n(518),O=r(S),C=n(35),N=r(C),I=n(56),k=r(I),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=l;var P=n(21),R=n(47),D=P.actionTypes.DOCUMENT_ADDED,j=P.actionTypes.GET_SUCCESS,M=P.actionTypes.LISTENER_RESPONSE,L=P.actionTypes.CLEAR_DATA,F=P.actionTypes.DELETE_SUCCESS,U=P.actionTypes.DOCUMENT_REMOVED,q=P.actionTypes.DOCUMENT_MODIFIED,V=(f={},o(f,D,s),o(f,q,a),o(f,U,u),o(f,F,u),o(f,M,c),o(f,j,c),f),B=(0,R.createReducer)(void 0,V)},function(e,t,n){var r=n(55),i=n(514),o=i(function(e,t,n){r(e,n,t)});e.exports=o},function(e,t,n){function r(e,t){return function(n,r){var u=s(n)?i:o,c=t?t():{};return u(n,e,a(r,2),c)}}var i=n(515),o=n(516),a=n(19),s=n(6);e.exports=r},function(e,t){function n(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}e.exports=n},function(e,t,n){function r(e,t,n,r){return i(e,function(e,i,o){t(r,e,n(e),o)}),r}var i=n(38);e.exports=r},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,u(a(t,3)))}var i=n(107),o=n(196),a=n(19),s=n(6),u=n(230);e.exports=r},function(e,t,n){var r=n(76),i=n(19),o=n(60),a=n(519),s=n(129),u=n(53),c=o(function(e){var t=u(e);return s(t)&&(t=void 0),a(r(e,1,s,!0),i(t,2))});e.exports=c},function(e,t,n){function r(e,t,n){var r=-1,f=o,h=e.length,p=!0,d=[],m=d;if(n)p=!1,f=a;else if(h>=l){var y=t?null:u(e);if(y)return c(y);p=!1,f=s,m=new i}else m=t?[]:d;e:for(;++r<h;){var v=e[r],g=t?t(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue e;t&&m.push(g),d.push(v)}else f(m,g,n)||(m!==d&&m.push(g),d.push(v))}return d}var i=n(102),o=n(135),a=n(231),s=n(103),u=n(520),c=n(104),l=200;e.exports=r},function(e,t,n){var r=n(181),i=n(220),o=n(104),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,i=t.meta;switch(n){case f:return s({},e,r({},(0,c.getSlashStrPath)((0,l.getQueryName)(i)),!0));case h:case p:return s({},e,r({},(0,c.getSlashStrPath)((0,l.getQueryName)(i)),!1));default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,i=t.meta;switch(n){case f:return s({},e,r({},(0,l.getQueryName)(i),!1));case h:case p:return s({},e,r({},(0,l.getQueryName)(i),!0));default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,i=t.meta;switch(n){case f:return s({},e,r({},(0,l.getQueryName)(i),Date.now()));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.requestingReducer=i,t.requestedReducer=o,t.timestampsReducer=a;var u=n(21),c=n(47),l=n(142),f=u.actionTypes.SET_LISTENER,h=u.actionTypes.LISTENER_ERROR,p=u.actionTypes.LISTENER_RESPONSE;t.default=(0,c.combineReducers)({requesting:i,requested:o,timestamps:a})},function(e,t,n){"use strict";function r(e,t){var n=t.method,r=t.modelArgs,i=t.methodArgs;if((0,a.default)(r)||(r=[r]),(0,a.default)(i)||(i=[i]),!e||!e.firestore)throw new Error("firestore is not a Firebase namespace");return i?e.firestore()[n].apply(e,i):e.firestore()[n]}function i(e){return function(t){return function(n){return function(i){function o(e){var t=u({},i,e);return delete t[l],t}var a=i.type===l?i:void 0;if("undefined"===typeof a)return n(i);var c=a.method;if("function"===typeof c&&(c=c(t.getState())),"string"!==typeof c)throw new Error("Specify a method.");var h=a.args,p=f[c];if(!Array.isArray(p)||3!==p.length)throw new Error("Expected an array of three action types.");if(!p.every(function(e){return"string"===typeof e}))throw new Error("Expected action types to be strings.");var d=s(p,3),m=d[0],y=d[1],v=d[2];return n({type:m}),r(e,{method:c}).then(function(e){return n({response:e,method:c,args:h,type:y})}).catch(function(e){return n(o({type:v,error:e.message||e||"Something bad happened"}))})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_FIRESTORE=void 0;var o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var c=n(21),l=t.CALL_FIRESTORE="CALL_FIRESTORE",f={get:[c.actionTypes.GET_REQUEST,c.actionTypes.GET_SUCCESS,c.actionTypes.GET_FAILURE]}},function(e,t,n){"use strict";var r=n(0);n.n(r),n(8)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(11),a=n(18),s=(n.n(a),n(14)),u=n(8),c=n(29),l=n.n(c),f=function(e){var t=e.project;return e.auth.uid?t?i.a.createElement("div",{className:"container section project-details"},i.a.createElement("div",{className:"card z-depth-0"},i.a.createElement("div",{className:"card-content"},i.a.createElement("span",{className:"card-title"},t.title),i.a.createElement("p",null,t.content),"s"),i.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},i.a.createElement("div",null,"Posted by ",t.authorFirstName," ",t.authorLastName),i.a.createElement("div",null,l()(t.createdAt.toDate()).calendar())))):i.a.createElement("div",{className:"container center"},i.a.createElement("p",null,"Loading project...")):i.a.createElement(u.d,{to:"/signin"})},h=function(e,t){var n=t.match.params.id,r=e.firestore.data.projects;return{project:r?r[n]:null,auth:e.firebase.auth}};t.a=Object(s.d)(Object(o.b)(h),Object(a.firestoreConnect)([{collection:"projects"}]))(f)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(11),a=n(18),s=(n.n(a),n(14)),u=n(8),c=n(29),l=(n.n(c),function(e){var t=e.studentClasses;return e.auth.uid?t?i.a.createElement("div",{className:"container section project-details"},i.a.createElement("div",{className:"card z-depth-0"},i.a.createElement("div",{className:"card-content"},i.a.createElement("span",{className:"card-title"})))):i.a.createElement("div",{className:"container center"},i.a.createElement("p",null,"Loading project...")):i.a.createElement(u.d,{to:"/signin"})}),f=function(e,t){t.match.params.id;return{classes:e.firestore.data.studentClasses,auth:e.firebase.auth}};t.a=Object(s.d)(Object(o.b)(f),Object(a.firestoreConnect)([{collection:"studentClasses"}]))(l)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(11),l=n(97),f=n(8),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){var e,n,a,s;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={email:"",password:""},a.handleChange=function(e){a.setState(r({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},s=n,o(a,s)}return a(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?u.a.createElement(f.d,{to:"/"}):u.a.createElement("div",{className:"container"},u.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},u.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),u.a.createElement("div",{className:"input-field"},u.a.createElement("label",{htmlFor:"email"},"Email"),u.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),u.a.createElement("div",{className:"input-field"},u.a.createElement("label",{htmlFor:"password"},"Password"),u.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),u.a.createElement("div",{className:"input-field"},u.a.createElement("button",{className:"glow-on-hover"},"Login"),u.a.createElement("div",{className:"center red-text"},t?u.a.createElement("p",null,t):null))))}}]),t}(s.Component),d=function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},m=function(e){return{signIn:function(t){return e(Object(l.a)(t))}}};t.a=Object(c.b)(d,m)(p)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(8),l=n(11),f=n(97),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){var e,n,a,s;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={email:"",password:"",firstName:"",lastName:"",role:""},a.handleChange=function(e){a.setState(r({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},s=n,o(a,s)}return a(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.authError;return t.uid?u.a.createElement(c.d,{to:"/"}):u.a.createElement("div",{className:"container"},u.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},u.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),u.a.createElement("div",{className:"input-field"},u.a.createElement("label",{htmlFor:"email"},"Email"),u.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),u.a.createElement("div",{className:"input-field"},u.a.createElement("label",{htmlFor:"password"},"Password"),u.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),u.a.createElement("div",{className:"input-field"},u.a.createElement("label",{htmlFor:"firstName"},"First Name"),u.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),u.a.createElement("div",{className:"input-field"},u.a.createElement("label",{htmlFor:"lastName"},"Last Name"),u.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),u.a.createElement("div",{className:"input-field custom-select"},u.a.createElement("label",{htmlFor:"role"},"Role "),u.a.createElement("select",{htmlFor:"role",id:"role",onChange:this.handleChange},u.a.createElement("option",{disabled:!0,selected:"true",value:"select",onChange:this.change},"Select"),u.a.createElement("option",{value:"Student"},"Student"),u.a.createElement("option",{value:"Teacher"},"Teacher"),u.a.createElement("option",{value:"Admin"},"Admin")),u.a.createElement("p",null)),u.a.createElement("div",{className:"input-field"},u.a.createElement("button",{className:"glow-on-hover"},"Sign Up"),u.a.createElement("div",{className:"center red-text"},n?u.a.createElement("p",null,n):null))))}}]),t}(s.Component),d=function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},m=function(e){return{signUp:function(t){return e(Object(f.c)(t))}}};t.a=Object(l.b)(d,m)(p)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(11),l=n(529),f=n(8),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){var e,n,a,s;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={title:"",content:""},a.handleChange=function(e){a.setState(r({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createProject(a.state),a.props.history.push("/")},s=n,o(a,s)}return a(t,e),h(t,[{key:"render",value:function(){return this.props.auth.uid?u.a.createElement("div",{className:"container"},u.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},u.a.createElement("h5",{className:"grey-text text-darken-3"},"Add Class"),u.a.createElement("div",{className:"input-field"},u.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange}),u.a.createElement("label",{htmlFor:"title"},"Project Title")),u.a.createElement("div",{className:"input-field"},u.a.createElement("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange}),u.a.createElement("label",{htmlFor:"content"},"Project Content")),u.a.createElement("div",{className:"input-field"},u.a.createElement("button",{className:"btn pink lighten-1"},"Create")))):u.a.createElement(f.d,{to:"/signin"})}}]),t}(s.Component),d=function(e){return{auth:e.firebase.auth}},m=function(e){return{createProject:function(t){return e(Object(l.a)(t))}}};t.a=Object(c.b)(d,m)(p)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t,n,r){var i=r.getFirestore,o=i(),a=n().firebase.profile,s=n().firebase.auth.uid;o.collection("classes").add(Object.assign({},e,{authorFirstName:a.firstName,authorLastName:a.lastName,authorId:s,createdAt:new Date})).then(function(){t({type:"CREATE_PROJECT_SUCCESS"})}).catch(function(e){t({type:"CREATE_PROJECT_ERROR"},e)})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(11),c=n(88),l=n(8),f=n(27),h=n.n(f),p=n(143),d=(n.n(p),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(){var e,n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={courseId:"",studentId:o.props.auth.uid},o.handleChange=function(e){o.setState({courseId:e.target.value})},o.handleSubmit=function(e){h.a.firestore().collection("courses").where("code","==",o.state.courseId).get().then(function(e){e.forEach(function(e){o.state.courseId=e.id,"student"===o.props.profile.role.toLowerCase()&&o.props.addStudentCourse(o.state),"teacher"===o.props.profile.role.toLowerCase()&&o.props.addTeacherCourse(o.state)})}),e.preventDefault(),o.props.history.push("/add")},a=n,i(o,a)}return o(t,e),d(t,[{key:"render",value:function(){return this.props.auth.uid?s.a.createElement("div",{className:"container"},s.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},s.a.createElement("h5",{className:"grey-text text-darken-3"},"Add Course"),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange}),s.a.createElement("label",{htmlFor:"courseId"},"Course Code")),s.a.createElement("div",{className:"input-field"},s.a.createElement("button",{className:"glow-on-hover"},"Add")))):s.a.createElement(l.d,{to:"/signin"})}}]),t}(a.Component),y=function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}},v=function(e){return{addStudentCourse:function(t){return e(Object(c.a)(t))},addTeacherCourse:function(t){return e(Object(c.b)(t))}}};t.a=Object(u.b)(y,v)(m)},function(e,t,n){"use strict";function r(e){function t(e,r,u,c,l){for(var p,d,m,y,v,w=0,T=0,S=0,O=0,C=0,N=0,R=m=p=0,j=0,L=0,F=0,U=0,q=u.length,V=q-1,B="",W="",z="",H="";j<q;){if(d=u.charCodeAt(j),j===V&&0!==T+O+S+w&&(0!==T&&(d=47===T?10:47),O=S=w=0,q++,V++),0===T+O+S+w){if(j===V&&(0<L&&(B=B.replace(h,"")),0<B.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(j)}d=59}switch(d){case 123:for(B=B.trim(),p=B.charCodeAt(0),m=1,U=++j;j<q;){switch(d=u.charCodeAt(j)){case 123:m++;break;case 125:m--;break;case 47:switch(d=u.charCodeAt(j+1)){case 42:case 47:e:{for(R=j+1;R<V;++R)switch(u.charCodeAt(R)){case 47:if(42===d&&42===u.charCodeAt(R-1)&&j+2!==R){j=R+1;break e}break;case 10:if(47===d){j=R+1;break e}}j=R}}break;case 91:d++;case 40:d++;case 34:case 39:for(;j++<V&&u.charCodeAt(j)!==d;);}if(0===m)break;j++}switch(m=u.substring(U,j),0===p&&(p=(B=B.replace(f,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(B=B.replace(h,"")),d=B.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=P}if(m=t(r,L,m,d,l+1),U=m.length,0<D&&(L=n(P,B,F),v=s(3,m,L,r,k,I,U,d,l,c),B=L.join(""),void 0!==v&&0===(U=(m=v.trim()).length)&&(d=0,m="")),0<U)switch(d){case 115:B=B.replace(E,a);case 100:case 109:case 45:m=B+"{"+m+"}";break;case 107:B=B.replace(g,"$1 $2"),m=B+"{"+m+"}",m=1===x||2===x&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=B+m,112===c&&(W+=m,m="")}else m="";break;default:m=t(r,n(r,B,F),m,c,l+1)}z+=m,m=F=L=R=p=0,B="",d=u.charCodeAt(++j);break;case 125:case 59:if(B=(0<L?B.replace(h,""):B).trim(),1<(U=B.length))switch(0===R&&(45===(p=B.charCodeAt(0))||96<p&&123>p)&&(U=(B=B.replace(" ",":")).length),0<D&&void 0!==(v=s(1,B,r,e,k,I,W.length,c,l,c))&&0===(U=(B=v.trim()).length)&&(B="\0\0"),p=B.charCodeAt(0),d=B.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){H+=B+u.charAt(j);break}default:58!==B.charCodeAt(U-1)&&(W+=i(B,p,d,B.charCodeAt(2)))}F=L=R=p=0,B="",d=u.charCodeAt(++j)}}switch(d){case 13:case 10:47===T?T=0:0===1+p&&107!==c&&0<B.length&&(L=1,B+="\0"),0<D*M&&s(0,B,r,e,k,I,W.length,c,l,c),I=1,k++;break;case 59:case 125:if(0===T+O+S+w){I++;break}default:switch(I++,y=u.charAt(j),d){case 9:case 32:if(0===O+w+T)switch(C){case 44:case 58:case 9:case 32:y="";break;default:32!==d&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===O+T+w&&(L=F=1,y="\f"+y);break;case 108:if(0===O+T+w+A&&0<R)switch(j-R){case 2:112===C&&58===u.charCodeAt(j-3)&&(A=C);case 8:111===N&&(A=N)}break;case 58:0===O+T+w&&(R=j);break;case 44:0===T+S+O+w&&(L=1,y+="\r");break;case 34:case 39:0===T&&(O=O===d?0:0===O?d:O);break;case 91:0===O+T+S&&w++;break;case 93:0===O+T+S&&w--;break;case 41:0===O+T+w&&S--;break;case 40:if(0===O+T+w){if(0===p)switch(2*C+3*N){case 533:break;default:p=1}S++}break;case 64:0===T+S+O+w+R+m&&(m=1);break;case 42:case 47:if(!(0<O+w+S))switch(T){case 0:switch(2*d+3*u.charCodeAt(j+1)){case 235:T=47;break;case 220:U=j,T=42}break;case 42:47===d&&42===C&&U+2!==j&&(33===u.charCodeAt(U+2)&&(W+=u.substring(U,j+1)),y="",T=0)}}0===T&&(B+=y)}N=C,C=d,j++}if(0<(U=W.length)){if(L=r,0<D&&void 0!==(v=s(2,W,L,e,k,I,U,c,l,c))&&0===(W=v).length)return H+W+z;if(W=L.join(",")+"{"+W+"}",0!==x*A){switch(2!==x||o(W,2)||(A=0),A){case 111:W=W.replace(_,":-moz-$1")+W;break;case 112:W=W.replace(b,"::-webkit-input-$1")+W.replace(b,"::-moz-$1")+W.replace(b,":-ms-input-$1")+W}A=0}}return H+W+z}function n(e,t,n){var i=t.trim().split(y);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===x||2===x&&o(u,1)?"-webkit-"+u+u:u}if(0===x||2===x&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(N,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(u=a.substring(13).trim(),t=u.indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim(),s=u.charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?r:r.replace(O,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(T," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,c){for(var f,h=0,p=t;h<D;++h)switch(f=R[h].call(l,e,p,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){switch(e){case void 0:case null:D=R.length=0;break;default:if("function"===typeof e)R[D++]=e;else if("object"===typeof e)for(var t=0,n=e.length;t<n;++t)u(e[t]);else M=0|!!e}return u}function c(e){return e=e.prefix,void 0!==e&&(j=null,e?"function"!==typeof e?x=1:(x=2,j=e):x=0),c}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),L=r,r=[L],0<D){var i=s(-1,n,r,r,k,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(P,r,n,0,0);return 0<D&&void 0!==(i=s(-2,o,r,r,k,I,o.length,0,0,0))&&(o=i),L="",A=0,I=k=1,o}var f=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,d=/zoo|gra/,m=/([,: ])(transform)/g,y=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,_=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,T=/([\s\S]*?);/g,S=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,N=/([^-])(image-set\()/,I=1,k=1,A=0,x=1,P=[],R=[],D=0,j=null,M=0,L="";return l.use=u,l.set=c,void 0!==e&&c(e),l}t.a=r},function(e,t,n){"use strict"},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24,t=1540483477*(65535&t)+(59797*(t>>>16)<<16),t^=t>>>24,n=1540483477*(65535&t)+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=1540483477*(65535&n)+(59797*(n>>>16)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+(59797*(n>>>16)<<16),((n^n>>>15)>>>0).toString(36)}t.a=r},function(e,t,n){"use strict";var r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};t.a=r},function(e,t,n){"use strict";function r(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}t.a=r},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(7),a=n(1),s=(n.n(a),n(538)),u=n(540),c=n(0),l=n.n(c),f=n(146),h=(n(250),function(e,t){return e&&t&&t.split(" ").forEach(function(t){return Object(s.a)(e,t)})}),p=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return Object(u.a)(e,t)})},d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1],a=o?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1],a=o?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e),r=n[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e),r=n[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e),r=n[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r&&n?n+"-":"",o=r?""+i+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter"),o=i.doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,h(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&p(e,r),i&&p(e,i),o&&p(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return l.a.createElement(f.d,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.a.Component);d.defaultProps={classNames:""},d.propTypes={},t.a=d},function(e,t,n){"use strict";function r(e,t){e.classList?e.classList.add(t):Object(i.a)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}t.a=r;var i=n(539)},function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.a=r},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}t.a=i},function(e,t,n){"use strict";var r=n(4),i=n(7),o=n(1),a=(n.n(o),n(0)),s=n.n(a),u=n(25),c=n.n(u),l=n(251),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}Object(i.a)(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=s.a.Children.toArray(i)[t];if(o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]){var a=o.props.nodeRef?void 0:c.a.findDOMNode(this);this.props[e](a)}},n.render=function(){var e=this.props,t=e.children,n=e.in,i=Object(r.a)(e,["children","in"]),o=s.a.Children.toArray(t),a=o[0],u=o[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,s.a.createElement(l.a,i,n?s.a.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.a.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(s.a.Component);f.propTypes={},t.a=f},function(e,t,n){"use strict";function r(e,t){var n=function(e){return t&&Object(u.isValidElement)(e)?t(e):e},r=Object.create(null);return e&&u.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=n(e)}),r}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in t){if(r[u])for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}function a(e,t){return r(e.children,function(n){return Object(u.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})})}function s(e,t,n){var a=r(e.children),s=i(t,a);return Object.keys(s).forEach(function(r){var i=s[r];if(Object(u.isValidElement)(i)){var c=r in t,l=r in a,f=t[r],h=Object(u.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&Object(u.isValidElement)(f)&&(s[r]=Object(u.cloneElement)(i,{onExited:n.bind(null,i),in:f.props.in,exit:o(i,"exit",e),enter:o(i,"enter",e)})):s[r]=Object(u.cloneElement)(i,{in:!1}):s[r]=Object(u.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:o(i,"exit",e),enter:o(i,"enter",e)})}}),s}t.a=r,t.b=a,t.c=s;var u=n(0);n.n(u)},function(e,t,n){"use strict";function r(e,t){return e!==t&&(!u.a.isValidElement(e)||!u.a.isValidElement(t)||null==e.key||e.key!==t.key)}var i,o,a=n(7),s=n(0),u=n.n(s),c=n(1),l=(n.n(c),n(146)),f=n(147),h={out:"out-in",in:"in-out"},p=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},d=(i={},i[h.out]=function(e){var t=e.current,n=e.changeState;return u.a.cloneElement(t,{in:!1,onExited:p(t,"onExited",function(){n(l.b,null)})})},i[h.in]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,u.a.cloneElement(r,{in:!0,onEntered:p(r,"onEntered",function(){n(l.b)})})]},i),m=(o={},o[h.out]=function(e){var t=e.children,n=e.changeState;return u.a.cloneElement(t,{in:!0,onEntered:p(t,"onEntered",function(){n(l.a,u.a.cloneElement(t,{in:!0}))})})},o[h.in]=function(e){var t=e.current,n=e.children,r=e.changeState;return[u.a.cloneElement(t,{in:!1,onExited:p(t,"onExited",function(){r(l.a,u.a.cloneElement(n,{in:!0}))})}),u.a.cloneElement(n,{in:!0})]},o),y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.state={status:l.a,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===l.b&&e.mode===h.in?{status:l.b}:t.current&&r(t.current,e.children)?{status:l.c}:{current:u.a.cloneElement(e.children,{in:!0})}},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,o=i.status,a=i.current,s={children:n,current:a,changeState:this.changeState,status:o};switch(o){case l.b:e=m[r](s);break;case l.c:e=d[r](s);break;case l.a:e=a}return u.a.createElement(f.a.Provider,{value:{isMounting:!this.appeared}},e)},t}(u.a.Component);y.propTypes={},y.defaultProps={mode:h.out},t.a=y},function(e,t,n){"use strict";function r(e){return{"aria-hidden":!0,height:16,width:e,viewBox:"0 0 "+e+" 16",style:{display:"inline-block",verticalAlign:"text-top",fill:"currentColor"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.CloseIcon=t.InfoIcon=t.FlameIcon=t.CheckIcon=t.AlertIcon=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.AlertIcon=function(e){return a.default.createElement("svg",i({},r(16),e),a.default.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},t.CheckIcon=function(e){return a.default.createElement("svg",i({},r(12),e),a.default.createElement("path",{fillRule:"evenodd",d:"M12 5.5l-8 8-4-4L1.5 8 4 10.5 10.5 4 12 5.5z"}))},t.FlameIcon=function(e){return a.default.createElement("svg",i({},r(12),e),a.default.createElement("path",{fillRule:"evenodd",d:"M5.05.01c.81 2.17.41 3.38-.52 4.31C3.55 5.37 1.98 6.15.9 7.68c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.01 8.68 2.15 5.05.02L5.03 0l.02.01z"}))},t.InfoIcon=function(e){return a.default.createElement("svg",i({},r(14),e),a.default.createElement("path",{fillRule:"evenodd",d:"M6.3 5.71a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 8.01c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V8v.01zM7 2.32C3.86 2.32 1.3 4.86 1.3 8c0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 1c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))},t.CloseIcon=function(e){return a.default.createElement("svg",i({},r(14),e),a.default.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.R50="#FFEBE6",t.R75="#FFBDAD",t.R100="#FF8F73",t.R200="#FF7452",t.R300="#FF5630",t.R400="#DE350B",t.R500="#BF2600",t.Y50="#FFFAE6",t.Y75="#FFF0B3",t.Y100="#FFE380",t.Y200="#FFC400",t.Y300="#FFAB00",t.Y400="#FF991F",t.Y500="#FF8B00",t.G50="#E3FCEF",t.G75="#ABF5D1",t.G100="#79F2C0",t.G200="#57D9A3",t.G300="#36B37E",t.G400="#00875A",t.G500="#006644",t.B50="#DEEBFF",t.B75="#B3D4FF",t.B100="#4C9AFF",t.B200="#2684FF",t.B300="#0065FF",t.B400="#0052CC",t.B500="#0747A6",t.P50="#EAE6FF",t.P75="#C0B6F2",t.P100="#998DD9",t.P200="#8777D9",t.P300="#6554C0",t.P400="#5243AA",t.P500="#403294",t.T50="#E6FCFF",t.T75="#B3F5FF",t.T100="#79E2F2",t.T200="#00C7E6",t.T300="#00B8D9",t.T400="#00A3BF",t.T500="#008DA6",t.N0="#FFFFFF",t.N10="#FAFBFC",t.N20="#F4F5F7",t.N30="#EBECF0",t.N40="#DFE1E6",t.N50="#C1C7D0",t.N60="#B3BAC5",t.N70="#A5ADBA",t.N80="#97A0AF",t.N90="#8993A4",t.N100="#7A869A",t.N200="#6B778C",t.N300="#5E6C84",t.N400="#505F79",t.N500="#42526E",t.N600="#344563",t.N700="#253858",t.N800="#172B4D",t.N900="#091E42",t.N10A="rgba(9, 30, 66, 0.02)",t.N20A="rgba(9, 30, 66, 0.04)",t.N30A="rgba(9, 30, 66, 0.08)",t.N40A="rgba(9, 30, 66, 0.13)",t.N50A="rgba(9, 30, 66, 0.25)",t.N60A="rgba(9, 30, 66, 0.31)",t.N70A="rgba(9, 30, 66, 0.36)",t.N80A="rgba(9, 30, 66, 0.42)",t.N90A="rgba(9, 30, 66, 0.48)",t.N100A="rgba(9, 30, 66, 0.54)",t.N200A="rgba(9, 30, 66, 0.60)",t.N300A="rgba(9, 30, 66, 0.66)",t.N400A="rgba(9, 30, 66, 0.71)",t.N500A="rgba(9, 30, 66, 0.77)",t.N600A="rgba(9, 30, 66, 0.82)",t.N700A="rgba(9, 30, 66, 0.89)",t.N800A="rgba(9, 30, 66, 0.95)"},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.useToasts=t.withToastManager=t.ToastConsumer=t.ToastProvider=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=function(e){return e&&e.__esModule?e:{default:e}}(l),h=n(25),p=n(145),d=n(547),m=n(242),y=n(148),v=n(149),g={Toast:y.DefaultToast,ToastContainer:m.ToastContainer},b=f.default.createContext(),_=b.Consumer,w=b.Provider,E=!("undefined"===typeof window||!window.document||!window.document.createElement);(t.ToastProvider=function(e){function t(){var e,n,r,s;o(this,t);for(var c=arguments.length,l=Array(c),f=0;f<c;f++)l[f]=arguments[f];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={toasts:[]},r.has=function(e){return!!r.state.toasts.length&&Boolean(r.state.toasts.filter(function(t){return t.id===e}).length)},r.onDismiss=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.NOOP;return function(){t(e),r.remove(e)}},r.add=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.NOOP,o=t.id?t.id:(0,v.generateUEID)(),a=function(){return n(o)};if(!r.has(o))return r.setState(function(n){var a=u({content:e,id:o},t);return{toasts:r.props.newestOnTop?[a].concat(i(n.toasts)):[].concat(i(n.toasts),[a])}},a),o},r.remove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.NOOP,n=function(){return t(e)};r.has(e)&&r.setState(function(t){return{toasts:t.toasts.filter(function(t){return t.id!==e})}},n)},r.removeAll=function(){r.state.toasts.length&&r.state.toasts.forEach(function(e){return r.remove(e.id)})},r.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.NOOP,o=function(){return n(e)};r.has(e)&&r.setState(function(n){var r=n.toasts,o=r.findIndex(function(t){return t.id===e}),a=u({},r[o],t);return{toasts:[].concat(i(r.slice(0,o)),[a],i(r.slice(o+1)))}},o)},s=n,a(r,s)}return s(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.autoDismiss,i=t.autoDismissTimeout,o=t.children,a=t.components,s=t.placement,c=t.portalTargetSelector,l=t.transitionDuration,m=u({},g,a),y=m.Toast,v=m.ToastContainer,b=this.add,_=this.remove,T=this.removeAll,S=this.update,O=Object.freeze(this.state.toasts),C=Boolean(O.length),N=E?c?document.querySelector(c):document.body:null;return f.default.createElement(w,{value:{add:b,remove:_,removeAll:T,update:S,toasts:O}},o,N?(0,h.createPortal)(f.default.createElement(v,{placement:s,hasToasts:C},f.default.createElement(p.TransitionGroup,{component:null},O.map(function(t){var o=t.appearance,a=t.autoDismiss,c=t.content,h=t.id,m=t.onDismiss,v=r(t,["appearance","autoDismiss","content","id","onDismiss"]);return f.default.createElement(p.Transition,{appear:!0,key:h,mountOnEnter:!0,timeout:l,unmountOnExit:!0},function(t){return f.default.createElement(d.ToastController,u({appearance:o,autoDismiss:void 0!==a?a:n,autoDismissTimeout:i,component:y,key:h,onDismiss:e.onDismiss(h,m),placement:s,transitionDuration:l,transitionState:t},v),c)})}))),N):f.default.createElement(v,{placement:s,hasToasts:C}))}}]),t}(l.Component)).defaultProps={autoDismiss:!1,autoDismissTimeout:5e3,components:g,newestOnTop:!1,placement:"top-right",transitionDuration:220};var T=t.ToastConsumer=function(e){var t=e.children;return f.default.createElement(_,null,function(e){return t(e)})};t.withToastManager=function(e){return f.default.forwardRef(function(t,n){return f.default.createElement(T,null,function(r){return f.default.createElement(e,u({toastManager:r},t,{ref:n}))})})},t.useToasts=function(){var e=(0,l.useContext)(b);if(!e)throw Error("The `useToasts` hook must be called from a descendent of the `ToastProvider`.");return{addToast:e.add,removeToast:e.remove,removeAllToasts:e.removeAll,updateToast:e.update,toastStack:e.toasts}}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=void 0,r=t,i=t;this.clear=function(){clearTimeout(n)},this.pause=function(){clearTimeout(n),i-=Date.now()-r},this.resume=function(){r=Date.now(),clearTimeout(n),n=setTimeout(e,i)},this.resume()}Object.defineProperty(t,"__esModule",{value:!0}),t.ToastController=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=function(e){return e&&e.__esModule?e:{default:e}}(l),h=(n(145),n(149));h.NOOP,h.NOOP,h.NOOP;(t.ToastController=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={isRunning:Boolean(r.props.autoDismiss)},r.startTimer=function(){var e=r.props,t=e.autoDismiss,n=e.autoDismissTimeout,i=e.onDismiss;t&&(r.setState({isRunning:!0}),r.timeout=new s(i,n))},r.clearTimer=function(){r.timeout&&r.timeout.clear()},r.onMouseEnter=function(){r.setState({isRunning:!1},function(){r.timeout&&r.timeout.pause()})},r.onMouseLeave=function(){r.setState({isRunning:!0},function(){r.timeout&&r.timeout.resume()})},a=n,o(r,a)}return a(t,e),c(t,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentDidUpdate",value:function(e){if(e.autoDismiss!==this.props.autoDismiss){(this.props.autoDismiss?this.startTimer:this.clearTimer)()}}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){var e=this.props,t=e.autoDismiss,n=e.autoDismissTimeout,i=e.component,o=r(e,["autoDismiss","autoDismissTimeout","component"]),a=this.state.isRunning,s=t?this.onMouseEnter:h.NOOP,c=t?this.onMouseLeave:h.NOOP;return f.default.createElement(i,u({autoDismiss:t,autoDismissTimeout:n,isRunning:a,onMouseEnter:s,onMouseLeave:c},o))}}]),t}(l.Component)).defaultProps={autoDismiss:!1}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(11),c=n(549),l=n(8),f=n(27),h=(n.n(f),n(143)),p=(n.n(h),n(14)),d=n(18),m=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),y=function(e){function t(){var e,n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={courseId:o.props.location.pathname.split("/")[2],studentId:o.props.auth.uid},o.handleChange=function(e){o.setState({courseId:e.target.value})},o.handleSubmit=function(e){function t(t){t.coords;a=33.75618414926428,s=-84.38937045787564,console.log(c),console.log(c.courses),console.log(c.courses),console.log(c.courses.courseLocation._lat);for(var i=n(a,s,c.courses.courseLocation._lat,c.courses.courseLocation._long,"M"),o=0;o<100;)console.log(o),o++;if(i<.01){c.checkIn(u);for(var o=0;o<100;)console.log(o),o++;e.preventDefault(),r=!0,window.location.pathname="attendanceSuccess",c.history.push("/attendanceSuccess")}else alert("Not in class - Error Code: "+i)}function n(e,t,n,r,i){console.log(e),console.log(t),console.log("Initial"),console.log(n),console.log(r);var o=Math.PI*e/180,a=Math.PI*n/180,s=t-r,u=Math.PI*s/180,c=Math.sin(o)*Math.sin(a)+Math.cos(o)*Math.cos(a)*Math.cos(u);return c=Math.acos(c),c=180*c/Math.PI,c=60*c*1.1515,"K"==i&&(c*=1.609344),"M"==i&&(c*=.8684),c}var r=!1;console.log("this.state",o.state),console.log("this.props",o.props),navigator.geolocation.getCurrentPosition(t);for(var i=0;i<100;)console.log(i),i++;var a=0,s=0,u=o.state,c=o.props;r&&o.props.history.push("/attendanceSuccess")},a=n,i(o,a)}return o(t,e),m(t,[{key:"render",value:function(){return this.props.auth.uid?s.a.createElement("div",{className:"container"},s.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},s.a.createElement("h5",{className:"grey-text text-darken-3"},"Attendance"),s.a.createElement("div",{className:"input-field"},s.a.createElement("button",{className:"glow-on-hover"},"CHECK IN")))):s.a.createElement(l.d,{to:"/signin"})}}]),t}(a.Component),v=function(e){var t=window.location.pathname.split("/")[2],n=e.firestore.ordered.courses;if(n&&n.length>0)for(var r=0;r<n.length;r++)n[r].id==t&&(e.firestore.ordered.courses=n[r]);return{auth:e.firebase.auth,profile:e.firebase.profile,courses:e.firestore.ordered.courses}},g=function(e){return{checkIn:function(t){return e(Object(c.a)(t))}}};t.a=Object(p.d)(Object(u.b)(v,g),Object(d.firestoreConnect)([{collection:"courses"}]))(y)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return console.warn("ATTEND_COURSE_SUCCESS"),function(t,n,r){(0,r.getFirestore)().collection("attendance").doc(e.courseId+e.studentId+(new Date).getDay()).set({courseId:e.courseId,studentId:e.studentId,createdAt:new Date}).then(function(){t({type:"ATTEND_COURSE_SUCCESS"})}).catch(function(e){t({type:"ATTEND_COURSE_ERROR"},e)})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(11),c=n(18),l=(n.n(c),n(14)),f=n(551),h=(n(8),n(20)),p=(n.n(h),n(241),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=this.props.courses;return console.log("courses",e),s.a.createElement("div",{className:"dashboard container square "},s.a.createElement("div",{className:"row white-background border-radius-20 "},s.a.createElement("div",{className:"CourseTeachView s12 border-radius-20 projectsContainer "},s.a.createElement(f.a,{courses:e}))))}}]),t}(a.Component),m=function(e){console.log(e),console.log();var t=window.location.pathname.split("/")[2],n=e.firestore.ordered.courses;if(n&&n.length>0)for(var r=0;r<n.length;r++)n[r].id===t&&(e.firestore.ordered.courses=n[r]);return{auth:e.firebase.auth,profile:e.firebase.profile,courses:e.firestore.ordered.courses}};t.a=Object(l.d)(Object(u.b)(m),Object(c.firestoreConnect)([{collection:"courses"}]))(d)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(552),a=n(20),s=(n.n(a),n(8),n(27)),u=(n.n(s),function(e){var t=e.courses;return i.a.createElement("div",{className:""},i.a.createElement(o.a,{course:t}))});t.a=u},function(e,t,n){"use strict";var r,i=n(0),o=n.n(i),a=n(18),s=(n.n(a),n(14)),u=n(11),c=n(29),l=(n.n(c),n(86)),f=(n.n(l),n(88)),h=n(8),p=this,d=function(e){function t(e){console.log("course",e),Object(f.c)(e.id,e.isAttnBeingTaken)}var n=e.course;return console.log(p),console.log("Teacher"!=r.role),n?o.a.createElement("div",null,o.a.createElement("div",{className:"text-center"},o.a.createElement("h1",null,n.courseName),o.a.createElement("h2",null,n.abbr)),o.a.createElement("div",{className:"button-row"},n.isAttnBeingTaken?o.a.createElement("div",{className:"input-field"},o.a.createElement("button",{onClick:function(){return t(n)},className:"glow-on-hover"},"End Attendance")):o.a.createElement("div",{className:"input-field"},o.a.createElement("button",{onClick:function(){return t(n)},className:"glow-on-hover"},"Start Attendance")),o.a.createElement("div",{className:"input-field"},o.a.createElement(h.b,{to:"/"+n.id+"/view"},o.a.createElement("button",{type:"button",className:"glow-on-hover"},"View Attendance"))),o.a.createElement("div",{className:"input-field"},o.a.createElement(h.b,{to:"/"+n.id+"/list"},o.a.createElement("button",{type:"button",className:"glow-on-hover"},"Class List"))))):o.a.createElement("div",null)},m=function(e){return{setClassAttendance:function(t){return e(Object(f.c)(t))}}},y=function(e){return r=e.firebase.profile};t.a=Object(s.d)(Object(u.b)(m),Object(u.b)(y),Object(a.firestoreConnect)([{collection:"attendance"}]))(d)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(11),l=n(88),f=n(8),h=n(27),p=(n.n(h),n(143)),d=(n.n(p),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(){var e,n,a,s;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={Abbreviation:"",courseName:"",courseTimes:"",code:"",location:null},a.handleChange=function(e){a.setState(r({},e.target.id,e.target.value))},a.handleSubmit=function(e){},a.startAttendance=function(){},s=n,o(a,s)}return a(t,e),d(t,[{key:"render",value:function(){return this.props.auth.uid?u.a.createElement("div",{className:"container"},u.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},u.a.createElement("h5",{className:"grey-text text-darken-3"},"Add Course"),u.a.createElement("div",{className:"input-field"},u.a.createElement("input",{type:"text",id:"Abbreviation",onChange:this.handleChange}),u.a.createElement("label",{htmlFor:"Abbreviation"},"Abbreviation")),u.a.createElement("div",{className:"input-field"},u.a.createElement("label",{htmlFor:"courseName"},"Course Name"),u.a.createElement("input",{type:"text",id:"courseName",onChange:this.handleChange})),u.a.createElement("div",{className:"input-field-time"},u.a.createElement("label",{htmlFor:"courseTimes"},"Course Times"),u.a.createElement("div",{className:"time-fields"},u.a.createElement("span",null," Monday ")," ",u.a.createElement("input",{onChange:this.handleChange,type:"time",id:"courseTimes",name:"appt",min:"09:00",max:"18:00"}),u.a.createElement("span",null," Tuesday ")," ",u.a.createElement("input",{onChange:this.handleChange,type:"time",id:"courseTimes",name:"appt",min:"09:00",max:"18:00"}),u.a.createElement("span",null," W ")," ",u.a.createElement("input",{onChange:this.handleChange,type:"time",id:"courseTimes",name:"appt",min:"09:00",max:"18:00"}),u.a.createElement("span",null," TH ")," ",u.a.createElement("input",{onChange:this.handleChange,type:"time",id:"courseTimes",name:"appt",min:"09:00",max:"18:00"}),u.a.createElement("span",null," FRI ")," ",u.a.createElement("input",{onChange:this.handleChange,type:"time",id:"courseTimes",name:"appt",min:"09:00",max:"18:00"}))),u.a.createElement("div",{className:"input-field"},u.a.createElement("button",{className:"btn pink lighten-1"},"Add")))):u.a.createElement(f.d,{to:"/signin"})}}]),t}(s.Component),y=function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}},v=function(e){return{setClassAttendance:function(t){return e(Object(l.c)(t))}}};t.a=Object(c.b)(y,v)(m)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}for(var a=n(0),s=n.n(a),u=n(11),c=n(18),l=(n.n(c),n(14)),f=n(20),h=(n.n(f),n(555)),p=n(8),d=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=window.location.pathname.split("/")[1],y=0;y<100;)console.log(y),y++;var v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.users,n=e.studentClasses,r=e.attendance;return console.log("WE MADE IT"),console.log("users",t),console.log("studentClasses",n),n&&!n.length>0&&window.location.reload(),t&&n&&r&&n.length>0?(console.log("WE MADE IT"),console.log("users",t),console.log("studentClasses",n),console.log("KLJLKJKLKJL",window.location),s.a.createElement("div",{className:"dashboard container square"},s.a.createElement("div",null,s.a.createElement("h3",{className:"asdasd"},"Course Attendance"),s.a.createElement(p.b,{to:"/teacherAttendance/"+m},s.a.createElement("button",{className:"logout-btn"},"Go Back"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"projectsContainer col s12"},s.a.createElement(h.a,{users:t,studentClasses:n,attendance:r}))))):s.a.createElement("div",null," ")}}]),t}(a.Component),g=function(e){return{users:e.firestore.ordered.users,studentClasses:e.firestore.ordered.studentClasses,attendance:e.firestore.ordered.attendance}};t.a=Object(l.d)(Object(u.b)(g),Object(c.firestoreConnect)([{collection:"studentClasses",where:[["courseId","==",m]]},{collection:"users",where:[["role","==","Student"]]},{collection:"attendance",where:[["courseId","==",m]]},{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(v)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(20),a=(n.n(o),n(8),n(27)),s=(n.n(a),n(556)),u=function(e){var t=e.users,n=e.studentClasses,r=e.attendance,o=[],a=[];return console.log("StudentRosterList",t,n,r),t.forEach(function(e){n.forEach(function(t){t.studentId==e.id&&o.push(e)})}),o.forEach(function(e,t){r.forEach(function(n){n.studentId==e.id&&(e.isPresent=!0,a.push(e),delete o[t])})}),i.a.createElement("div",{className:"user-list section row"},i.a.createElement("div",{className:"column left"},i.a.createElement("h5",null," Present Students "),i.a.createElement("div",{className:"border-dash-right"},a&&a.map(function(e){return i.a.createElement(s.a,{key:e.id,user:e})}))),i.a.createElement("div",{className:"column right"},i.a.createElement("h5",null," Absent Students "),i.a.createElement("div",null,o&&o.map(function(e){return e.isPresent=!1,i.a.createElement(s.a,{key:e.id,user:e})}))))};t.a=u},function(e,t,n){"use strict";var r,i=n(0),o=n.n(i),a=n(18),s=(n.n(a),n(14)),u=n(11),c=n(29),l=(n.n(c),n(86)),f=(n.n(l),function(e){var t=e.user;return o.a.createElement("div",{className:"userSummary"},o.a.createElement("div",{className:"card z-depth-0 user-summary border-radius-20 "+t.isPresent},o.a.createElement("div",{className:"card-content grey-text text-darken-3"},o.a.createElement("span",{className:"userName"},t.firstName," ",t.lastName," "))))}),h=function(e){r=e.firebase.profile};t.a=Object(s.d)(Object(u.b)(h),Object(a.firestoreConnect)([{collection:"attendance"}]))(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(11),c=n(18),l=(n.n(c),n(14)),f=n(20),h=(n.n(f),n(558)),p=n(8),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=window.location.pathname.split("/")[1];console.log("courseId",m);var y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.users,r=e.studentClasses;return t.uid?(r&&!r.length>0&&window.location.reload(),n&&r?s.a.createElement("div",{className:"dashboard container square"},s.a.createElement("div",null,s.a.createElement("h3",{className:"asdasd"},"Course Roster"),s.a.createElement(p.b,{to:"/teacherAttendance/"+m},s.a.createElement("button",{className:"logout-btn"},"Go Back"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"projectsContainer col s12"},s.a.createElement(h.a,{users:n,studentClasses:r})))):s.a.createElement("div",null)):s.a.createElement(p.d,{to:"/signin"})}}]),t}(a.Component),v=function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth,profile:e.firebase.profile,courses:e.firestore.ordered.courses,notifications:e.firestore.ordered.notifications,users:e.firestore.ordered.users,studentClasses:e.firestore.ordered.studentClasses}},g=function(e){return{state:e}};t.a=Object(l.d)(Object(u.b)(v),Object(u.b)(g),Object(c.firestoreConnect)([{collection:"studentClasses",where:[["courseId","==",m]]},{collection:"users",where:[["role","==","Student"]]},{collection:"teacherClasses"},{collection:"courses"},{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(y)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(20),a=(n.n(o),n(8),n(27)),s=(n.n(a),n(559)),u=n(560),c=function(e){var t=e.users,n=e.studentClasses,r=[];return console.log("StudentRosterList",t,n),t.forEach(function(e){n.forEach(function(t){t.studentId==e.id&&r.push(e)})}),i.a.createElement("div",{className:"user-list section"},i.a.createElement(u.a,{className:"table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Initials"),i.a.createElement("th",null,"First Name"),i.a.createElement("th",null,"Last Name"),i.a.createElement("th",null,"Role"))),i.a.createElement("tbody",null,r&&r.map(function(e){return i.a.createElement(s.a,{key:e.id,user:e})}))))};t.a=c},function(e,t,n){"use strict";var r,i=n(0),o=n.n(i),a=n(18),s=(n.n(a),n(14)),u=n(11),c=n(29),l=(n.n(c),n(86)),f=(n.n(l),function(e){var t=e.user;console.log("dsfsdfsdfsdfsd",t);return o.a.createElement("tr",null,o.a.createElement("td",null,t.initials),o.a.createElement("td",null,t.firstName),o.a.createElement("td",null,t.lastName),o.a.createElement("td",null,t.role," "))}),h=function(e){r=e.firebase.profile};t.a=Object(s.d)(Object(u.b)(h),Object(a.firestoreConnect)([{collection:"attendance"}]))(f)},function(e,t,n){"use strict";var r=(n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(150),n(573),n(252),n(593),n(594),n(90),n(595),n(596),n(597),n(63),n(64),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(268),n(616),n(269),n(157),n(270),n(271),n(617),n(618),n(619),n(272),n(620),n(273),n(621),n(274),n(622),n(623),n(624),n(625),n(626),n(628),n(629),n(630),n(276),n(631));n.d(t,"a",function(){return r.a});var i=(n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(277),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(279),n(649),n(650),n(651),n(280),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(3),n(663));n.n(i)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,fluid:u.a.oneOfType([u.a.bool,u.a.string]),className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.fluid,s=e.tag,u=Object(i.a)(e,["className","cssModule","fluid","tag"]),c="container";!0===o?c="container-fluid":o&&(c="container-"+o);var h=Object(f.p)(l()(t,c),n);return a.a.createElement(s,Object(r.a)({},u,{className:h}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h=["xs","sm","md","lg","xl"],p=u.a.oneOfType([u.a.number,u.a.string]),d={tag:f.t,noGutters:u.a.bool,className:u.a.string,cssModule:u.a.object,form:u.a.bool,xs:p,sm:p,md:p,lg:p,xl:p},m={tag:"div",widths:h},y=function(e){var t=e.className,n=e.cssModule,o=e.noGutters,s=e.tag,u=e.form,c=e.widths,h=Object(i.a)(e,["className","cssModule","noGutters","tag","form","widths"]),p=[];c.forEach(function(t,n){var r=e[t];if(delete h[t],r){var i=!n;p.push(i?"row-cols-"+r:"row-cols-"+t+"-"+r)}});var d=Object(f.p)(l()(t,o?"no-gutters":null,u?"form-row":"row",p),n);return a.a.createElement(s,Object(r.a)({},h,{className:d}))};y.propTypes=d,y.defaultProps=m},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h=["xs","sm","md","lg","xl"],p=u.a.oneOfType([u.a.number,u.a.string]),d=u.a.oneOfType([u.a.bool,u.a.number,u.a.string,u.a.shape({size:u.a.oneOfType([u.a.bool,u.a.number,u.a.string]),order:p,offset:p})]),m={tag:f.t,xs:d,sm:d,md:d,lg:d,xl:d,className:u.a.string,cssModule:u.a.object,widths:u.a.array},y={tag:"div",widths:h},v=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},g=function(e){var t=e.className,n=e.cssModule,o=e.widths,s=e.tag,u=Object(i.a)(e,["className","cssModule","widths","tag"]),c=[];o.forEach(function(t,r){var i=e[t];if(delete u[t],i||""===i){var o=!r;if(Object(f.n)(i)){var a,s=o?"-":"-"+t+"-",h=v(o,t,i.size);c.push(Object(f.p)(l()((a={},a[h]=i.size||""===i.size,a["order"+s+i.order]=i.order||0===i.order,a["offset"+s+i.offset]=i.offset||0===i.offset,a)),n))}else{var p=v(o,t,i);c.push(p)}}}),c.length||c.push("col");var h=Object(f.p)(l()(t,c),n);return a.a.createElement(s,Object(r.a)({},u,{className:h}))};g.propTypes=m,g.defaultProps=y},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={light:u.a.bool,dark:u.a.bool,full:u.a.bool,fixed:u.a.string,sticky:u.a.string,color:u.a.string,role:u.a.string,tag:f.t,className:u.a.string,cssModule:u.a.object,expand:u.a.oneOfType([u.a.bool,u.a.string])},p={tag:"nav",expand:!1},d=function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)},m=function(e){var t,n=e.expand,o=e.className,s=e.cssModule,u=e.light,c=e.dark,h=e.fixed,p=e.sticky,m=e.color,y=e.tag,v=Object(i.a)(e,["expand","className","cssModule","light","dark","fixed","sticky","color","tag"]),g=Object(f.p)(l()(o,"navbar",d(n),(t={"navbar-light":u,"navbar-dark":c},t["bg-"+m]=m,t["fixed-"+h]=h,t["sticky-"+p]=p,t)),s);return a.a.createElement(y,Object(r.a)({},v,{className:g}))};m.propTypes=h,m.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"a"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"navbar-brand"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"span"},d=function(e){var t=e.className,n=e.cssModule,o=(e.active,e.tag),s=Object(i.a)(e,["className","cssModule","active","tag"]),u=Object(f.p)(l()(t,"navbar-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,type:u.a.string,className:u.a.string,cssModule:u.a.object,children:u.a.node},p={tag:"button",type:"button"},d=function(e){var t=e.className,n=e.cssModule,o=e.children,s=e.tag,u=Object(i.a)(e,["className","cssModule","children","tag"]),c=Object(f.p)(l()(t,"navbar-toggler"),n);return a.a.createElement(s,Object(r.a)({"aria-label":"Toggle navigation"},u,{className:c}),o||a.a.createElement("span",{className:Object(f.p)("navbar-toggler-icon",n)}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tabs:u.a.bool,pills:u.a.bool,vertical:u.a.oneOfType([u.a.bool,u.a.string]),horizontal:u.a.string,justified:u.a.bool,fill:u.a.bool,navbar:u.a.bool,card:u.a.bool,tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"ul",vertical:!1},d=function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")},m=function(e){var t=e.className,n=e.cssModule,o=e.tabs,s=e.pills,u=e.vertical,c=e.horizontal,h=e.justified,p=e.fill,m=e.navbar,y=e.card,v=e.tag,g=Object(i.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),b=Object(f.p)(l()(t,m?"navbar-nav":"nav",!!c&&"justify-content-"+c,d(u),{"nav-tabs":o,"card-header-tabs":y&&o,"nav-pills":s,"card-header-pills":y&&s,"nav-justified":h,"nav-fill":p}),n);return a.a.createElement(v,Object(r.a)({},g,{className:b}))};m.propTypes=h,m.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,active:u.a.bool,className:u.a.string,cssModule:u.a.object},p={tag:"li"},d=function(e){var t=e.className,n=e.cssModule,o=e.active,s=e.tag,u=Object(i.a)(e,["className","cssModule","active","tag"]),c=Object(f.p)(l()(t,"nav-item",!!o&&"active"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(3),d={tag:p.t,innerRef:l.a.oneOfType([l.a.object,l.a.func,l.a.string]),disabled:l.a.bool,active:l.a.bool,className:l.a.string,cssModule:l.a.object,onClick:l.a.func,href:l.a.any},m={tag:"a"},y=function(e){function t(t){var n;return n=e.call(this,t)||this,n.onClick=n.onClick.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){if(this.props.disabled)return void e.preventDefault();"#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e)},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.active,a=e.tag,s=e.innerRef,c=Object(i.a)(e,["className","cssModule","active","tag","innerRef"]),l=Object(p.p)(h()(t,"nav-link",{disabled:c.disabled,active:o}),n);return u.a.createElement(a,Object(r.a)({},c,{ref:s,onClick:this.onClick,className:l}))},t}(u.a.Component);y.propTypes=d,y.defaultProps=m},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,listTag:f.t,className:u.a.string,listClassName:u.a.string,cssModule:u.a.object,children:u.a.node,"aria-label":u.a.string},p={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},d=function(e){var t=e.className,n=e.listClassName,o=e.cssModule,s=e.children,u=e.tag,c=e.listTag,h=e["aria-label"],p=Object(i.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),d=Object(f.p)(l()(t),o),m=Object(f.p)(l()("breadcrumb",n),o);return a.a.createElement(u,Object(r.a)({},p,{className:d,"aria-label":h}),a.a.createElement(c,{className:m},s))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,active:u.a.bool,className:u.a.string,cssModule:u.a.object},p={tag:"li"},d=function(e){var t=e.className,n=e.cssModule,o=e.active,s=e.tag,u=Object(i.a)(e,["className","cssModule","active","tag"]),c=Object(f.p)(l()(t,!!o&&"active","breadcrumb-item"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c,"aria-current":o?"page":void 0}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(150),h=n(5),p=n.n(h),d=n(3),m={onClick:l.a.func,onBlur:l.a.func,onFocus:l.a.func,defaultValue:l.a.bool},y={defaultValue:!1},v=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={toggled:t.defaultValue,focus:!1},n.onBlur=n.onBlur.bind(Object(o.a)(n)),n.onFocus=n.onFocus.bind(Object(o.a)(n)),n.onClick=n.onClick.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focus:!1})},n.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focus:!0})},n.onClick=function(e){this.props.onClick&&this.props.onClick(e),this.setState(function(e){return{toggled:!e.toggled}})},n.render=function(){var e=this.props,t=e.className,n=Object(i.a)(e,["className"]),o=Object(d.p)(p()(t,{focus:this.state.focus}),this.props.cssModule);return u.a.createElement(f.a,Object(r.a)({active:this.state.toggled,onBlur:this.onBlur,onFocus:this.onFocus,onClick:this.onClick,className:o},n))},t}(u.a.Component);v.propTypes=m,v.defaultProps=y},function(e,t,n){"use strict";function r(e){var t=e.referenceElement,n=o()(e,["referenceElement"]);return y.createElement(g.a.Consumer,null,function(e){return y.createElement(E,s()({referenceElement:void 0!==t?t:e},n))})}t.a=r;var i=n(575),o=n.n(i),a=n(253),s=n.n(a),u=n(89),c=n.n(u),l=n(151),f=n.n(l),h=n(152),p=n.n(h),d=n(576),m=n.n(d),y=n(0),v=(n.n(y),n(588)),g=n(155),b=n(263),_={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},w={},E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,p()(f()(f()(t)),"state",{data:void 0,placement:void 0}),p()(f()(f()(t)),"popperInstance",void 0),p()(f()(f()(t)),"popperNode",null),p()(f()(f()(t)),"arrowNode",null),p()(f()(f()(t)),"setPopperNode",function(e){e&&t.popperNode!==e&&(Object(b.b)(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())}),p()(f()(f()(t)),"setArrowNode",function(e){t.arrowNode=e}),p()(f()(f()(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),p()(f()(f()(t)),"getOptions",function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:s()({},t.props.modifiers,{arrow:s()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}}),p()(f()(f()(t)),"getPopperStyle",function(){return t.popperNode&&t.state.data?s()({position:t.state.data.offsets.popper.position},t.state.data.styles):_}),p()(f()(f()(t)),"getPopperPlacement",function(){return t.state.data?t.state.placement:void 0}),p()(f()(f()(t)),"getArrowStyle",function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:w}),p()(f()(f()(t)),"getOutOfBoundariesState",function(){return t.state.data?t.state.data.hide:void 0}),p()(f()(f()(t)),"destroyPopperInstance",function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)}),p()(f()(f()(t)),"updatePopperInstance",function(){t.destroyPopperInstance();var e=f()(f()(t)),n=e.popperNode,r=t.props.referenceElement;r&&n&&(t.popperInstance=new v.a(r,n,t.getOptions()))}),p()(f()(f()(t)),"scheduleUpdate",function(){t.popperInstance&&t.popperInstance.scheduleUpdate()}),t}c()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&m()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){Object(b.b)(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return Object(b.c)(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(y.Component);p()(E,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});v.a.placements},function(e,t){function n(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){function r(e,t,n){var r=n||{};return!(r.strict?!c(e,t):e!==t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?r.strict?c(e,t):e==t:a(e,t,r))}function i(e){return null===e||void 0===e}function o(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}function a(e,t,n){var a,c;if(typeof e!==typeof t)return!1;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e)!==u(t))return!1;var d=l(e),m=l(t);if(d!==m)return!1;if(d||m)return e.source===t.source&&f(e)===f(t);if(h(e)&&h(t))return p.call(e)===p.call(t);var y=o(e),v=o(t);if(y!==v)return!1;if(y||v){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(typeof e!==typeof t)return!1;try{var g=s(e),b=s(t)}catch(e){return!1}if(g.length!==b.length)return!1;for(g.sort(),b.sort(),a=g.length-1;a>=0;a--)if(g[a]!=b[a])return!1;for(a=g.length-1;a>=0;a--)if(c=g[a],!r(e[c],t[c],n))return!1;return!0}var s=n(254),u=n(578),c=n(582),l=n(584),f=n(585),h=n(587),p=Date.prototype.getTime;e.exports=r},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(255),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){if("undefined"===typeof window||!p)return f(e);try{return f(e)}catch(e){return!1}};r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&e.length>0&&!i.call(e,0))for(var p=0;p<e.length;++p)f.push(String(p));if(r&&e.length>0)for(var m=0;m<e.length;++m)f.push(String(m));else for(var y in e)h&&"prototype"===y||!i.call(e,y)||f.push(String(y));if(u)for(var v=d(e),g=0;g<l.length;++g)v&&"constructor"===l[g]||!i.call(e,l[g])||f.push(l[g]);return f}}e.exports=r},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,i=n(256),o=i("Object.prototype.toString"),a=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},u=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=u?a:s},function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(258);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},function(e,t,n){"use strict";var r=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!==typeof t||"[object Function]"!==i.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,o=r.call(arguments,1),a=function(){if(this instanceof n){var i=t.apply(this,o.concat(r.call(arguments)));return Object(i)===i?i:this}return t.apply(e,o.concat(r.call(arguments)))},s=Math.max(0,t.length-o.length),u=[],c=0;c<s;c++)u.push("$"+c);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},function(e,t,n){"use strict";var r=n(153);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(62),i=n(154),o=n(259),a=n(260),s=n(583),u=i(a(),Object);r(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=n(260),i=n(62);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,n){"use strict";var r,i,o,a,s=n(256),u=n(258)(),c=u&&!!Symbol.toStringTag;if(c){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var l=function(){throw o};a={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var f=s("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!==typeof e)return!1;var t=h(e,"lastIndex");if(!t||!r(t,"value"))return!1;try{i(e,a)}catch(e){return e===o}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===f(e)}},function(e,t,n){"use strict";var r=n(62),i=n(154),o=n(261),a=n(262),s=n(586),u=i(o);r(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=n(62).supportsDescriptors,i=n(262),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=u(c),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var r=Date.prototype.getDay,i=function(e){try{return r.call(e),!0}catch(e){return!1}},o=Object.prototype.toString,a="function"===typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"object"===typeof e&&null!==e&&(a?i(e):"[object Date]"===o.call(e))}},function(e,t,n){"use strict";(function(e){function n(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function r(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},he))}}function i(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function s(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX;return/(auto|scroll|overlay)/.test(n+t.overflowY+r)?e:s(a(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}function c(e){return 11===e?me:10===e?ye:me||ye}function l(e){if(!e)return document.documentElement;for(var t=c(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?l(n):n:e?e.ownerDocument.documentElement:document.documentElement}function f(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||l(e.firstElementChild)===e)}function h(e){return null!==e.parentNode?h(e.parentNode):e}function p(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return f(a)?a:l(a);var s=h(e);return s.host?p(s.host,t):p(e,h(t).host)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[n]}return e[n]}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(t,"top"),i=d(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function v(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],c(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function g(e){var t=e.body,n=e.documentElement,r=c(10)&&getComputedStyle(n);return{height:v("Height",t,n,r),width:v("Width",t,n,r)}}function b(e){return _e({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _(e){var t={};try{if(c(10)){t=e.getBoundingClientRect();var n=d(e,"top"),r=d(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?g(e.ownerDocument):{},s=a.width||e.clientWidth||i.width,u=a.height||e.clientHeight||i.height,l=e.offsetWidth-s,f=e.offsetHeight-u;if(l||f){var h=o(e);l-=y(h,"x"),f-=y(h,"y"),i.width-=l,i.height-=f}return b(i)}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=c(10),i="HTML"===t.nodeName,a=_(e),u=_(t),l=s(e),f=o(t),h=parseFloat(f.borderTopWidth),p=parseFloat(f.borderLeftWidth);n&&i&&(u.top=Math.max(u.top,0),u.left=Math.max(u.left,0));var d=b({top:a.top-u.top-h,left:a.left-u.left-p,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var y=parseFloat(f.marginTop),v=parseFloat(f.marginLeft);d.top-=h-y,d.bottom-=h-y,d.left-=p-v,d.right-=p-v,d.marginTop=y,d.marginLeft=v}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(d=m(d,t)),d}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=w(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:d(n),s=t?0:d(n,"left");return b({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}function T(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=a(e);return!!n&&T(n)}function S(e){if(!e||!e.parentElement||c())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function O(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},c=i?S(e):p(e,u(t));if("viewport"===r)o=E(c,i);else{var l=void 0;"scrollParent"===r?(l=s(a(t)),"BODY"===l.nodeName&&(l=e.ownerDocument.documentElement)):l="window"===r?e.ownerDocument.documentElement:r;var f=w(l,c,i);if("HTML"!==l.nodeName||T(c))o=f;else{var h=g(e.ownerDocument),d=h.height,m=h.width;o.top+=f.top-f.marginTop,o.bottom=d+f.top,o.left+=f.left-f.marginLeft,o.right=m+f.left}}n=n||0;var y="number"===typeof n;return o.left+=y?n:n.left||0,o.top+=y?n:n.top||0,o.right-=y?n:n.right||0,o.bottom-=y?n:n.bottom||0,o}function C(e){return e.width*e.height}function N(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=O(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map(function(e){return _e({key:e},s[e],{area:C(s[e])})}).sort(function(e,t){return t.area-e.area}),c=u.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function I(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(n,r?S(t):p(t,u(n)),r)}function k(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+r}}function A(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function x(e,t,n){n=n.split("-")[0];var r=k(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[A(s)],i}function P(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function R(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=P(e,function(e){return e[t]===n});return e.indexOf(r)}function D(e,t,n){return(void 0===n?e:e.slice(0,R(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=b(t.offsets.popper),t.offsets.reference=b(t.offsets.reference),t=n(t,e))}),t}function j(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=N(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=x(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function M(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function L(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function F(){return this.state.isDestroyed=!0,M(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function q(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||q(s(o.parentNode),t,n,r),r.push(o)}function V(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var i=s(e);return q(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function B(){this.state.eventsEnabled||(this.state=V(this.reference,this.options,this.state,this.scheduleUpdate))}function W(e,t){return U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function z(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=W(this.reference,this.state))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Q(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(t[n])&&(r="px"),e.style[n]=t[n]+r})}function K(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function G(e){return Q(e.instance.popper,e.styles),K(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Q(e.arrowElement,e.arrowStyles),e}function Y(e,t,n,r,i){var o=I(i,t,e,n.positionFixed),a=N(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Q(t,{position:n.positionFixed?"fixed":"absolute"}),n}function $(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),h=u%2===c%2,p=u%2===1&&c%2===1,d=t?l||f||h?o:a:s,m=t?o:s;return{left:d(p&&!f&&t?r.left-1:r.left),top:m(r.top),bottom:m(r.bottom),right:d(r.right)}}function X(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=P(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=l(e.instance.popper),u=_(s),c={position:i.position},f=$(e,window.devicePixelRatio<2||!we),h="bottom"===n?"top":"bottom",p="right"===r?"left":"right",d=L("transform"),m=void 0,y=void 0;if(y="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+f.bottom:-u.height+f.bottom:f.top,m="right"===p?"HTML"===s.nodeName?-s.clientWidth+f.right:-u.width+f.right:f.left,a&&d)c[d]="translate3d("+m+"px, "+y+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var v="bottom"===h?-1:1,g="right"===p?-1:1;c[h]=y*v,c[p]=m*g,c.willChange=h+", "+p}var b={"x-placement":e.placement};return e.attributes=_e({},b,e.attributes),e.styles=_e({},c,e.styles),e.arrowStyles=_e({},e.offsets.arrow,e.arrowStyles),e}function J(e,t,n){var r=P(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function Z(e,t){var n;if(!J(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,u=a.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",f=c?"Top":"Left",h=f.toLowerCase(),p=c?"left":"top",d=c?"bottom":"right",m=k(r)[l];u[d]-m<s[h]&&(e.offsets.popper[h]-=s[h]-(u[d]-m)),u[h]+m>s[d]&&(e.offsets.popper[h]+=u[h]+m-s[d]),e.offsets.popper=b(e.offsets.popper);var y=u[h]+u[l]/2-m/2,v=o(e.instance.popper),g=parseFloat(v["margin"+f]),_=parseFloat(v["border"+f+"Width"]),w=y-e.offsets.popper[h]-g-_;return w=Math.max(Math.min(s[l]-m,w),0),e.arrowElement=r,e.offsets.arrow=(n={},be(n,h,Math.round(w)),be(n,p,""),n),e}function ee(e){return"end"===e?"start":"start"===e?"end":e}function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Te.indexOf(e),r=Te.slice(n+1).concat(Te.slice(0,n));return t?r.reverse():r}function ne(e,t){if(M(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=O(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=A(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Se.FLIP:a=[r,i];break;case Se.CLOCKWISE:a=te(r);break;case Se.COUNTERCLOCKWISE:a=te(r,!0);break;default:a=t.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=A(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,h="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),p=f(c.left)<f(n.left),d=f(c.right)>f(n.right),m=f(c.top)<f(n.top),y=f(c.bottom)>f(n.bottom),v="left"===r&&p||"right"===r&&d||"top"===r&&m||"bottom"===r&&y,g=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(g&&"start"===o&&p||g&&"end"===o&&d||!g&&"start"===o&&m||!g&&"end"===o&&y),_=!!t.flipVariationsByContent&&(g&&"start"===o&&d||g&&"end"===o&&p||!g&&"start"===o&&y||!g&&"end"===o&&m),w=b||_;(h||v||w)&&(e.flipped=!0,(h||v)&&(r=a[u+1]),w&&(o=ee(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=_e({},e.offsets.popper,x(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))}),e}function re(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}function ie(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return b(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}function oe(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(P(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return c=c.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return ie(e,i,t,n)})}),c.forEach(function(e,t){e.forEach(function(n,r){H(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}function ae(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=H(+n)?[+n,0]:oe(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e}function se(e,t){var n=t.boundariesElement||l(e.instance.popper);e.instance.reference===n&&(n=l(n));var r=L("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=O(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=u;var c=t.priority,f=e.offsets.popper,h={primary:function(e){var n=f[e];return f[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(f[e],u[e])),be({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=f[n];return f[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(f[n],u[e]-("right"===e?f.width:f.height))),be({},n,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";f=_e({},f,h[t](e))}),e.offsets.popper=f,e}function ue(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:be({},u,o[u]),end:be({},u,o[u]+o[c]-a[c])};e.offsets.popper=_e({},a,l[r])}return e}function ce(e){if(!J(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=P(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function le(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=A(t),e.offsets.popper=b(i),e}var fe="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,he=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(fe&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),pe=fe&&window.Promise,de=pe?n:r,me=fe&&!(!window.MSInputMethodContext||!document.documentMode),ye=fe&&/MSIE 10/.test(navigator.userAgent),ve=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),be=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we=fe&&/Firefox/i.test(navigator.userAgent),Ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Te=Ee.slice(3),Se={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Oe={shift:{order:100,enabled:!0,fn:ue},offset:{order:200,enabled:!0,fn:ae,offset:0},preventOverflow:{order:300,enabled:!0,fn:se,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:re},arrow:{order:500,enabled:!0,fn:Z,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ne,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:le},hide:{order:800,enabled:!0,fn:ce},computeStyle:{order:850,enabled:!0,fn:X,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:G,onLoad:Y,gpuAcceleration:void 0}},Ce={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Oe},Ne=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ve(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=de(this.update.bind(this)),this.options=_e({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_e({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){r.options.modifiers[t]=_e({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return _e({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return ge(e,[{key:"update",value:function(){return j.call(this)}},{key:"destroy",value:function(){return F.call(this)}},{key:"enableEventListeners",value:function(){return B.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();Ne.Utils=("undefined"!==typeof window?window:e).PopperUtils,Ne.placements=Ee,Ne.Defaults=Ce,t.a=Ne}).call(t,n(33))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(0),o=r(i),a=n(590),s=r(a);t.default=o.default.createContext||s.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}function c(e){return Array.isArray(e)?e[0]:e}function l(e,t){var n,r,l="__create-react-context-"+(0,m.default)()+"__",h=function(e){function n(){var t,r,a;i(this,n);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return t=r=o(this,e.call.apply(e,[this].concat(c))),r.emitter=u(r.props.value),a=t,o(r,a)}return a(n,e),n.prototype.getChildContext=function(){var e;return e={},e[l]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;s(n,r)?i=0:(i="function"===typeof t?t(n,r):v,0!==(i|=0)&&this.emitter.set(e.value,i))}},n.prototype.render=function(){return this.props.children},n}(f.Component);h.childContextTypes=(n={},n[l]=p.default.object.isRequired,n);var d=function(t){function n(){var e,r,a;i(this,n);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return e=r=o(this,t.call.apply(t,[this].concat(u))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},a=e,o(r,a)}return a(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?v:t},n.prototype.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?v:e},n.prototype.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[l]?this.context[l].get():e},n.prototype.render=function(){return c(this.props.children)(this.state.value)},n}(f.Component);return d.contextTypes=(r={},r[l]=p.default.object,r),{Provider:h,Consumer:d}}t.__esModule=!0;var f=n(0),h=(r(f),n(1)),p=r(h),d=n(591),m=r(d),y=n(22),v=(r(y),1073741823);t.default=l,e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(t,n(33))},function(e,t,n){"use strict";function r(e){return h.createElement(m.b.Consumer,null,function(t){return h.createElement(v,o()({setReferenceNode:t},e))})}t.a=r;var i=n(253),o=n.n(i),a=n(89),s=n.n(a),u=n(151),c=n.n(u),l=n(152),f=n.n(l),h=n(0),p=(n.n(h),n(22)),d=n.n(p),m=n(155),y=n(263),v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,f()(c()(c()(t)),"refHandler",function(e){Object(y.b)(t.props.innerRef,e),Object(y.a)(t.props.setReferenceNode,e)}),t}s()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){Object(y.b)(this.props.innerRef,null)},n.render=function(){return d()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),Object(y.c)(this.props.children)({ref:this.refHandler})},t}(h.Component)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,"aria-label":u.a.string,className:u.a.string,cssModule:u.a.object,role:u.a.string,size:u.a.string,vertical:u.a.bool},p={tag:"div",role:"group"},d=function(e){var t=e.className,n=e.cssModule,o=e.size,s=e.vertical,u=e.tag,c=Object(i.a)(e,["className","cssModule","size","vertical","tag"]),h=Object(f.p)(l()(t,!!o&&"btn-group-"+o,s?"btn-group-vertical":"btn-group"),n);return a.a.createElement(u,Object(r.a)({},c,{className:h}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,"aria-label":u.a.string,className:u.a.string,cssModule:u.a.object,role:u.a.string},p={tag:"div",role:"toolbar"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"btn-toolbar"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(63),d=n(3),m={children:l.a.node,active:l.a.bool,disabled:l.a.bool,divider:l.a.bool,tag:d.t,header:l.a.bool,onClick:l.a.func,className:l.a.string,cssModule:l.a.object,toggle:l.a.bool,text:l.a.bool},y={tag:"button",toggle:!0},v=function(e){function t(t){var n;return n=e.call(this,t)||this,n.onClick=n.onClick.bind(Object(o.a)(n)),n.getTabIndex=n.getTabIndex.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){var t=this.props,n=t.disabled,r=t.header,i=t.divider,o=t.text;if(n||r||i||o)return void e.preventDefault();this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e)},n.getTabIndex=function(){var e=this.props,t=e.disabled,n=e.header,r=e.divider,i=e.text;return t||n||r||i?"-1":"0"},n.render=function(){var e=this.getTabIndex(),t=e>-1?"menuitem":void 0,n=Object(d.q)(this.props,["toggle"]),o=n.className,a=n.cssModule,s=n.divider,c=n.tag,l=n.header,f=n.active,p=n.text,m=Object(i.a)(n,["className","cssModule","divider","tag","header","active","text"]),y=Object(d.p)(h()(o,{disabled:m.disabled,"dropdown-item":!s&&!l&&!p,active:f,"dropdown-header":l,"dropdown-divider":s,"dropdown-item-text":p}),a);return"button"===c&&(l?c="h6":s?c="div":m.href?c="a":p&&(c="span")),u.a.createElement(c,Object(r.a)({type:"button"===c&&(m.onClick||this.props.toggle)?"button":void 0},m,{tabIndex:e,role:t,className:y,onClick:this.onClick}))},t}(u.a.Component);v.propTypes=m,v.defaultProps=y,v.contextType=p.a},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=n(2),a=n(15),s=n(4),u=n(7),c=n(0),l=n.n(c),f=n(1),h=n.n(f),p=n(25),d=n.n(p),m=n(5),y=n.n(m),v=n(91),g=n(63),b=n(3),_={tag:b.t,children:h.a.node.isRequired,right:h.a.bool,flip:h.a.bool,modifiers:h.a.object,className:h.a.string,cssModule:h.a.object,persist:h.a.bool,positionFixed:h.a.bool,container:b.u},w={tag:"div",flip:!0},E={flip:{enabled:!1}},T={up:"top",left:"left",right:"right",down:"bottom"},S=function(e){function t(){return e.apply(this,arguments)||this}return Object(u.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.cssModule,a=t.right,u=t.tag,c=t.flip,f=t.modifiers,h=t.persist,p=t.positionFixed,m=t.container,g=Object(s.a)(t,["className","cssModule","right","tag","flip","modifiers","persist","positionFixed","container"]),_=Object(b.p)(y()(n,"dropdown-menu",{"dropdown-menu-right":a,show:this.context.isOpen}),r),w=u;if(h||this.context.isOpen&&!this.context.inNavbar){var S=T[this.context.direction]||"bottom",O=a?"end":"start",C=S+"-"+O,N=c?f:i(i({},f),E),I=!!p,k=l.a.createElement(v.b,{placement:C,modifiers:N,positionFixed:I},function(t){var n=t.ref,r=t.style,a=t.placement,s=i(i({},e.props.style),r),u=function(t){n(t);var r=e.context.onMenuRef;r&&r(t)};return l.a.createElement(w,Object(o.a)({tabIndex:"-1",role:"menu",ref:u},g,{style:s,"aria-hidden":!e.context.isOpen,className:_,"x-placement":a}))});return m?d.a.createPortal(k,Object(b.m)(m)):k}return l.a.createElement(w,Object(o.a)({tabIndex:"-1",role:"menu"},g,{"aria-hidden":!this.context.isOpen,className:_,"x-placement":g.placement}))},t}(l.a.Component);S.propTypes=_,S.defaultProps=w,S.contextType=g.a},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(91),d=n(63),m=n(3),y=n(150),v={caret:l.a.bool,color:l.a.string,children:l.a.node,className:l.a.string,cssModule:l.a.object,disabled:l.a.bool,onClick:l.a.func,"aria-haspopup":l.a.bool,split:l.a.bool,tag:m.t,nav:l.a.bool},g={"aria-haspopup":!0,color:"secondary"},b=function(e){function t(t){var n;return n=e.call(this,t)||this,n.onClick=n.onClick.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){if(this.props.disabled||this.context.disabled)return void e.preventDefault();this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e)},n.render=function(){var e,t=this,n=this.props,o=n.className,a=n.color,s=n.cssModule,c=n.caret,l=n.split,f=n.nav,d=n.tag,v=n.innerRef,g=Object(i.a)(n,["className","color","cssModule","caret","split","nav","tag","innerRef"]),b=g["aria-label"]||"Toggle Dropdown",_=Object(m.p)(h()(o,{"dropdown-toggle":c||l,"dropdown-toggle-split":l,"nav-link":f}),s),w="undefined"!==typeof g.children?g.children:u.a.createElement("span",{className:"sr-only"},b);return f&&!d?(e="a",g.href="#"):d?e=d:(e=y.a,g.color=a,g.cssModule=s),this.context.inNavbar?u.a.createElement(e,Object(r.a)({},g,{className:_,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:w})):u.a.createElement(p.c,{innerRef:v},function(n){var i,o=n.ref;return u.a.createElement(e,Object(r.a)({},g,(i={},i["string"===typeof e?"ref":"innerRef"]=o,i),{className:_,onClick:t.onClick,"aria-expanded":t.context.isOpen,children:w}))})},t}(u.a.Component);b.propTypes=v,b.defaultProps=g,b.contextType=d.a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(1)),r(n(599))),s=r(n(602)),u=r(n(0)),c=r(n(264)),l=(n(266),function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,a.default)(e,t)})}),f=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,s.default)(e,t)})},h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter"),i=r.className;t.removeClasses(e,"exit"),l(e,i),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter"),i=r.activeClassName;t.reflowAndAddClass(e,i),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),l(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit"),r=n.className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit"),r=n.activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit"),r=n.doneClassName;t.removeClasses(e,"exit"),l(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r&&n?n+"-":"",o=r?i+e:n[e];return{className:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}o(t,e);var n=t.prototype;return n.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&f(e,r),i&&f(e,i),o&&f(e,o)},n.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},n.render=function(){var e=i({},this.props);return delete e.classNames,u.default.createElement(c.default,i({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.default.Component);h.defaultProps={classNames:""},h.propTypes={};var p=h;t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var i=n(600);t.__esModule=!0,t.default=r;var o=i(n(601));e.exports=t.default},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var a=(r(n(1)),r(n(0))),s=n(25),u=r(n(267)),c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}o(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=a.default.Children.toArray(i)[t];o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,s.findDOMNode)(this))},n.render=function(){var e=this.props,t=e.children,n=e.in,r=i(e,["children","in"]),o=a.default.Children.toArray(t),s=o[0],c=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,a.default.createElement(u.default,r,n?a.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(a.default.Component);c.propTypes={};var l=c;t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=function(e){return t&&(0,u.isValidElement)(e)?t(e):e},r=Object.create(null);return e&&u.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=n(e)}),r}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in t){if(r[u])for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}function a(e,t){return r(e.children,function(n){return(0,u.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})})}function s(e,t,n){var a=r(e.children),s=i(t,a);return Object.keys(s).forEach(function(r){var i=s[r];if((0,u.isValidElement)(i)){var c=r in t,l=r in a,f=t[r],h=(0,u.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,u.isValidElement)(f)&&(s[r]=(0,u.cloneElement)(i,{onExited:n.bind(null,i),in:f.props.in,exit:o(i,"exit",e),enter:o(i,"enter",e)})):s[r]=(0,u.cloneElement)(i,{in:!1}):s[r]=(0,u.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:o(i,"exit",e),enter:o(i,"enter",e)})}}),s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i,t.getInitialChildMapping=a,t.getNextChildMapping=s;var u=n(0)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={color:u.a.string,pill:u.a.bool,tag:f.t,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),children:u.a.node,className:u.a.string,cssModule:u.a.object},p={color:"secondary",pill:!1,tag:"span"},d=function(e){var t=e.className,n=e.cssModule,o=e.color,s=e.innerRef,u=e.pill,c=e.tag,h=Object(i.a)(e,["className","cssModule","color","innerRef","pill","tag"]),p=Object(f.p)(l()(t,"badge","badge-"+o,!!u&&"badge-pill"),n);return h.href&&"span"===c&&(c="a"),a.a.createElement(c,Object(r.a)({},h,{className:p,ref:s}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,inverse:u.a.bool,color:u.a.string,body:u.a.bool,outline:u.a.bool,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.color,s=e.body,u=e.inverse,c=e.outline,h=e.tag,p=e.innerRef,d=Object(i.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(f.p)(l()(t,"card",!!u&&"text-white",!!s&&"card-body",!!o&&(c?"border":"bg")+"-"+o),n);return a.a.createElement(h,Object(r.a)({},d,{className:m,ref:p}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-group"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-deck"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-columns"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,s=e.tag,u=Object(i.a)(e,["className","cssModule","innerRef","tag"]),c=Object(f.p)(l()(t,"card-body"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c,ref:o}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},p={tag:"a"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.innerRef,u=Object(i.a)(e,["className","cssModule","tag","innerRef"]),c=Object(f.p)(l()(t,"card-link"),n);return a.a.createElement(o,Object(r.a)({},u,{ref:s,className:c}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-footer"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-header"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,top:u.a.bool,bottom:u.a.bool,className:u.a.string,cssModule:u.a.object},p={tag:"img"},d=function(e){var t=e.className,n=e.cssModule,o=e.top,s=e.bottom,u=e.tag,c=Object(i.a)(e,["className","cssModule","top","bottom","tag"]),h="card-img";o&&(h="card-img-top"),s&&(h="card-img-bottom");var p=Object(f.p)(l()(t,h),n);return a.a.createElement(u,Object(r.a)({},c,{className:p}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-img-overlay"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(268),h=n(157),p=n(269),d=n(270),m=n(271),y={items:l.a.array.isRequired,indicators:l.a.bool,controls:l.a.bool,autoPlay:l.a.bool,defaultActiveIndex:l.a.number,activeIndex:l.a.number,next:l.a.func,previous:l.a.func,goToIndex:l.a.func},v=function(e){function t(t){var n;return n=e.call(this,t)||this,n.animating=!1,n.state={activeIndex:t.defaultActiveIndex||0},n.next=n.next.bind(Object(o.a)(n)),n.previous=n.previous.bind(Object(o.a)(n)),n.goToIndex=n.goToIndex.bind(Object(o.a)(n)),n.onExiting=n.onExiting.bind(Object(o.a)(n)),n.onExited=n.onExited.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onExiting=function(){this.animating=!0},n.onExited=function(){this.animating=!1},n.next=function(){if(!this.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}},n.previous=function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}},n.goToIndex=function(e){this.animating||this.setState({activeIndex:e})},n.render=function(){var e=this,t=this.props,n=(t.defaultActiveIndex,t.autoPlay),o=t.indicators,a=t.controls,s=t.items,c=t.goToIndex,l=Object(i.a)(t,["defaultActiveIndex","autoPlay","indicators","controls","items","goToIndex"]),y=this.state.activeIndex,v=s.map(function(t){var n=t.key||t.src;return u.a.createElement(h.a,{onExiting:e.onExiting,onExited:e.onExited,key:n},u.a.createElement("img",{className:"d-block w-100",src:t.src,alt:t.altText}),u.a.createElement(m.a,{captionText:t.caption,captionHeader:t.header||t.caption}))});return u.a.createElement(f.a,Object(r.a)({activeIndex:y,next:this.next,previous:this.previous,ride:n?"carousel":void 0},l),o&&u.a.createElement(d.a,{items:s,activeIndex:l.activeIndex||y,onClickHandler:c||this.goToIndex}),v,a&&u.a.createElement(p.a,{direction:"prev",directionText:"Previous",onClickHandler:l.previous||this.previous}),a&&u.a.createElement(p.a,{direction:"next",directionText:"Next",onClickHandler:l.next||this.next}))},t}(s.Component);v.propTypes=y,v.defaultProps={controls:!0,indicators:!0,autoPlay:!0}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-subtitle"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"p"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"card-title"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.label,r=e.inline,a=e.valid,u=e.invalid,c=e.cssModule,l=e.children,d=e.bsSize,m=e.innerRef,y=e.htmlFor,v=Object(o.a)(e,["className","label","inline","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor"]),g=v.type,b=Object(h.p)(f()(t,"custom-"+g,!!d&&"custom-"+g+"-"+d),c),_=Object(h.p)(f()(u&&"is-invalid",a&&"is-valid"),c),w=y||v.id;if("select"===g){var E=(v.type,Object(o.a)(v,["type"]));return s.a.createElement("select",Object(i.a)({},E,{ref:m,className:f()(_,b),"aria-invalid":u}),l)}if("file"===g)return s.a.createElement(p.a,e);if("checkbox"!==g&&"radio"!==g&&"switch"!==g)return s.a.createElement("input",Object(i.a)({},v,{ref:m,"aria-invalid":u,className:f()(_,b)}));var T=f()(b,Object(h.p)(f()("custom-control",{"custom-control-inline":r}),c)),S=v.hidden,O=Object(o.a)(v,["hidden"]);return s.a.createElement("div",{className:T,hidden:S||!1},s.a.createElement("input",Object(i.a)({},O,{type:"switch"===g?"checkbox":g,ref:m,"aria-invalid":u,className:f()(_,Object(h.p)("custom-control-input",c))})),s.a.createElement("label",{className:Object(h.p)("custom-control-label",c),htmlFor:w},n),l)}var i=n(2),o=n(4),a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(5),f=n.n(l),h=n(3),p=n(272),d={className:c.a.string,id:c.a.oneOfType([c.a.string,c.a.number]).isRequired,type:c.a.string.isRequired,label:c.a.node,inline:c.a.bool,valid:c.a.bool,invalid:c.a.bool,bsSize:c.a.string,htmlFor:c.a.string,cssModule:c.a.object,children:c.a.oneOfType([c.a.node,c.a.array,c.a.func]),innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])};r.propTypes=d},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(3),a=function(e,t){return t.popperManager.setTargetNode(Object(o.m)(e.target)),null};a.contextTypes={popperManager:i.a.object.isRequired},a.propTypes={target:o.u.isRequired}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var i=n(15),o=n(2),a=n(9),s=n(7),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(274),p=n(3),d=["defaultOpen"];((function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(n)),n}Object(s.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return c.a.createElement(h.a,Object(o.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(p.q)(this.props,d)))},t})(u.Component)).propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({defaultOpen:f.a.bool},h.a.propTypes)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"h3"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"popover-header"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"popover-body"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=n(2),a=n(15),s=n(4),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(5),p=n.n(h),d=n(3),m={children:f.a.node,bar:f.a.bool,multi:f.a.bool,tag:d.t,value:f.a.oneOfType([f.a.string,f.a.number]),min:f.a.oneOfType([f.a.string,f.a.number]),max:f.a.oneOfType([f.a.string,f.a.number]),animated:f.a.bool,striped:f.a.bool,color:f.a.string,className:f.a.string,barClassName:f.a.string,cssModule:f.a.object,style:f.a.object,barStyle:f.a.object,barAriaValueText:f.a.string,barAriaLabelledBy:f.a.string},y={tag:"div",value:0,min:0,max:100,style:{},barStyle:{}},v=function(e){var t=e.children,n=e.className,r=e.barClassName,a=e.cssModule,u=e.value,l=e.min,f=e.max,h=e.animated,m=e.striped,y=e.color,v=e.bar,g=e.multi,b=e.tag,_=e.style,w=e.barStyle,E=e.barAriaValueText,T=e.barAriaLabelledBy,S=Object(s.a)(e,["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barStyle","barAriaValueText","barAriaLabelledBy"]),O=Object(d.v)(u)/Object(d.v)(f)*100,C=Object(d.p)(p()(n,"progress"),a),N=Object(d.p)(p()("progress-bar",v?n||r:r,h?"progress-bar-animated":null,y?"bg-"+y:null,m||h?"progress-bar-striped":null),a),I={className:N,style:i(i(i({},v?_:{}),w),{},{width:O+"%"}),role:"progressbar","aria-valuenow":u,"aria-valuemin":l,"aria-valuemax":f,"aria-valuetext":E,"aria-labelledby":T,children:t};return v?c.a.createElement(b,Object(o.a)({},S,I)):c.a.createElement(b,Object(o.a)({},S,{style:_,className:C}),g?t:c.a.createElement("div",I))};v.propTypes=m,v.defaultProps=y},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(){}var a=n(15),s=n(2),u=n(9),c=n(7),l=n(0),f=n.n(l),h=n(1),p=n.n(h),d=n(5),m=n.n(d),y=n(627),v=n(64),g=n(3),b=p.a.shape(v.a.propTypes),_={isOpen:p.a.bool,autoFocus:p.a.bool,centered:p.a.bool,scrollable:p.a.bool,size:p.a.string,toggle:p.a.func,keyboard:p.a.bool,role:p.a.string,labelledBy:p.a.string,backdrop:p.a.oneOfType([p.a.bool,p.a.oneOf(["static"])]),onEnter:p.a.func,onExit:p.a.func,onOpened:p.a.func,onClosed:p.a.func,children:p.a.node,className:p.a.string,wrapClassName:p.a.string,modalClassName:p.a.string,backdropClassName:p.a.string,contentClassName:p.a.string,external:p.a.node,fade:p.a.bool,cssModule:p.a.object,zIndex:p.a.oneOfType([p.a.number,p.a.string]),backdropTransition:b,modalTransition:b,innerRef:p.a.oneOfType([p.a.object,p.a.string,p.a.func]),unmountOnClose:p.a.bool,returnFocusAfterClose:p.a.bool,container:g.u,trapFocus:p.a.bool},w=Object.keys(_),E={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:o,onClosed:o,modalTransition:{timeout:g.e.Modal},backdropTransition:{mountOnEnter:!0,timeout:g.e.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},T=function(e){function t(t){var n;return n=e.call(this,t)||this,n._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(Object(u.a)(n)),n.handleBackdropClick=n.handleBackdropClick.bind(Object(u.a)(n)),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(Object(u.a)(n)),n.handleEscape=n.handleEscape.bind(Object(u.a)(n)),n.handleStaticBackdropAnimation=n.handleStaticBackdropAnimation.bind(Object(u.a)(n)),n.handleTab=n.handleTab.bind(Object(u.a)(n)),n.onOpened=n.onOpened.bind(Object(u.a)(n)),n.onClosed=n.onClosed.bind(Object(u.a)(n)),n.manageFocusAfterClose=n.manageFocusAfterClose.bind(Object(u.a)(n)),n.clearBackdropAnimationTimeout=n.clearBackdropAnimationTimeout.bind(Object(u.a)(n)),n.trapFocus=n.trapFocus.bind(Object(u.a)(n)),n.state={isOpen:!1,showStaticBackdropAnimation:!1},n}Object(c.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0},n.componentDidUpdate=function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},n.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1},n.trapFocus=function(e){if(this.props.trapFocus&&this._element&&(!this._dialog||this._dialog.parentNode!==e.target)&&!(this.modalIndex<t.openCount-1)){for(var n=this.getFocusableChildren(),r=0;r<n.length;r++)if(n[r]===e.target)return;n.length>0&&(e.preventDefault(),e.stopPropagation(),n[0].focus())}},n.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||o)(e,t)},n.onClosed=function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||o)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},n.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},n.getFocusableChildren=function(){return this._element.querySelectorAll(g.k.join(", "))},n.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e},n.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},n.handleTab=function(e){if(9===e.which&&!(this.modalIndex<t.openCount-1)){var n=this.getFocusableChildren(),r=n.length;if(0!==r){for(var i=this.getFocusedChild(),o=0,a=0;a<r;a+=1)if(n[a]===i){o=a;break}e.shiftKey&&0===o?(e.preventDefault(),n[r-1].focus()):e.shiftKey||o!==r-1||(e.preventDefault(),n[0].focus())}}},n.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},n.handleEscape=function(e){this.props.isOpen&&e.keyCode===g.o.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))},n.handleStaticBackdropAnimation=function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout(function(){e.setState({showStaticBackdropAnimation:!1})},100)},n.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=Object(g.m)(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=Object(g.l)(),Object(g.h)(),0===t.openCount&&(document.body.className=m()(document.body.className,Object(g.p)("modal-open",this.props.cssModule))),this.modalIndex=t.openCount,t.openCount+=1},n.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},n.manageFocusAfterClose=function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}},n.close=function(){if(t.openCount<=1){var e=Object(g.p)("modal-open",this.props.cssModule),n=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(n," ").trim()}this.manageFocusAfterClose(),t.openCount=Math.max(0,t.openCount-1),Object(g.s)(this._originalBodyPadding)},n.renderModalDialog=function(){var e,t=this,n=Object(g.q)(this.props,w);return f.a.createElement("div",Object(s.a)({},n,{className:Object(g.p)(m()("modal-dialog",this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e["modal-dialog-centered"]=this.props.centered,e["modal-dialog-scrollable"]=this.props.scrollable,e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),f.a.createElement("div",{className:Object(g.p)(m()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},n.render=function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var t=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=t?"none":"block";var n=this.props,r=n.wrapClassName,o=n.modalClassName,a=n.backdropClassName,u=n.cssModule,c=n.isOpen,l=n.backdrop,h=n.role,p=n.labelledBy,d=n.external,b=n.innerRef,_={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":p,role:h,tabIndex:"-1"},w=this.props.fade,E=i(i(i({},v.a.defaultProps),this.props.modalTransition),{},{baseClass:w?this.props.modalTransition.baseClass:"",timeout:w?this.props.modalTransition.timeout:0}),T=i(i(i({},v.a.defaultProps),this.props.backdropTransition),{},{baseClass:w?this.props.backdropTransition.baseClass:"",timeout:w?this.props.backdropTransition.timeout:0}),S=l&&(w?f.a.createElement(v.a,Object(s.a)({},T,{in:c&&!!l,cssModule:u,className:Object(g.p)(m()("modal-backdrop",a),u)})):f.a.createElement("div",{className:Object(g.p)(m()("modal-backdrop","show",a),u)}));return f.a.createElement(y.a,{node:this._element},f.a.createElement("div",{className:Object(g.p)(r)},f.a.createElement(v.a,Object(s.a)({},_,E,{in:c,onEntered:this.onOpened,onExited:this.onClosed,cssModule:u,className:Object(g.p)(m()("modal",o,this.state.showStaticBackdropAnimation&&"modal-static"),u),innerRef:b}),d,this.renderModalDialog()),S))}return null},n.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},t}(f.a.Component);T.propTypes=_,T.defaultProps=E,T.openCount=0},function(e,t,n){"use strict";var r=n(7),i=n(0),o=n.n(i),a=n(25),s=n.n(a),u=n(1),c=n.n(u),l=n(3),f={children:c.a.node.isRequired,node:c.a.any},h=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},n.render=function(){return l.g?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),s.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(o.a.Component);h.propTypes=f,t.a=h},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,wrapTag:f.t,toggle:u.a.func,className:u.a.string,cssModule:u.a.object,children:u.a.node,closeAriaLabel:u.a.string,charCode:u.a.oneOfType([u.a.string,u.a.number]),close:u.a.object},p={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215},d=function(e){var t,n=e.className,o=e.cssModule,s=e.children,u=e.toggle,c=e.tag,h=e.wrapTag,p=e.closeAriaLabel,d=e.charCode,m=e.close,y=Object(i.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),v=Object(f.p)(l()(n,"modal-header"),o);if(!m&&u){var g="number"===typeof d?String.fromCharCode(d):d;t=a.a.createElement("button",{type:"button",onClick:u,className:Object(f.p)("close",o),"aria-label":p},a.a.createElement("span",{"aria-hidden":"true"},g))}return a.a.createElement(h,Object(r.a)({},y,{className:v}),a.a.createElement(c,{className:Object(f.p)("modal-title",o)},s),m||t)};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"modal-body"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"modal-footer"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={className:u.a.string,cssModule:u.a.object,size:u.a.string,bordered:u.a.bool,borderless:u.a.bool,striped:u.a.bool,dark:u.a.bool,hover:u.a.bool,responsive:u.a.oneOfType([u.a.bool,u.a.string]),tag:f.t,responsiveTag:f.t,innerRef:u.a.oneOfType([u.a.func,u.a.string,u.a.object])},p={tag:"table",responsiveTag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.size,s=e.bordered,u=e.borderless,c=e.striped,h=e.dark,p=e.hover,d=e.responsive,m=e.tag,y=e.responsiveTag,v=e.innerRef,g=Object(i.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),b=Object(f.p)(l()(t,"table",!!o&&"table-"+o,!!s&&"table-bordered",!!u&&"table-borderless",!!c&&"table-striped",!!h&&"table-dark",!!p&&"table-hover"),n),_=a.a.createElement(m,Object(r.a)({},g,{ref:v,className:b}));if(d){var w=Object(f.p)(!0===d?"table-responsive":"table-responsive-"+d,n);return a.a.createElement(y,{className:w},_)}return _};d.propTypes=h,d.defaultProps=p,t.a=d},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,flush:u.a.bool,className:u.a.string,cssModule:u.a.object,horizontal:u.a.oneOfType([u.a.bool,u.a.string])},p={tag:"ul",horizontal:!1},d=function(e){return!1!==e&&(!0===e||"xs"===e?"list-group-horizontal":"list-group-horizontal-"+e)},m=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.flush,u=e.horizontal,c=Object(i.a)(e,["className","cssModule","tag","flush","horizontal"]),h=Object(f.p)(l()(t,"list-group",s?"list-group-flush":d(u)),n);return a.a.createElement(o,Object(r.a)({},c,{className:h}))};m.propTypes=h,m.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(3),d={children:l.a.node,inline:l.a.bool,tag:p.t,innerRef:l.a.oneOfType([l.a.object,l.a.func,l.a.string]),className:l.a.string,cssModule:l.a.object},m={tag:"form"},y=function(e){function t(t){var n;return n=e.call(this,t)||this,n.getRef=n.getRef.bind(Object(o.a)(n)),n.submit=n.submit.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.inline,a=e.tag,s=e.innerRef,c=Object(i.a)(e,["className","cssModule","inline","tag","innerRef"]),l=Object(p.p)(h()(t,!!o&&"form-inline"),n);return u.a.createElement(a,Object(r.a)({},c,{ref:s,className:l}))},t}(s.Component);y.propTypes=d,y.defaultProps=m},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={children:u.a.node,tag:f.t,className:u.a.string,cssModule:u.a.object,valid:u.a.bool,tooltip:u.a.bool},p={tag:"div",valid:void 0},d=function(e){var t=e.className,n=e.cssModule,o=e.valid,s=e.tooltip,u=e.tag,c=Object(i.a)(e,["className","cssModule","valid","tooltip","tag"]),h=s?"tooltip":"feedback",p=Object(f.p)(l()(t,o?"valid-"+h:"invalid-"+h),n);return a.a.createElement(u,Object(r.a)({},c,{className:p}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={children:u.a.node,row:u.a.bool,check:u.a.bool,inline:u.a.bool,disabled:u.a.bool,tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.row,s=e.disabled,u=e.check,c=e.inline,h=e.tag,p=Object(i.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),d=Object(f.p)(l()(t,!!o&&"row",u?"form-check":"form-group",!(!u||!c)&&"form-check-inline",!(!u||!s)&&"disabled"),n);return"fieldset"===h&&(p.disabled=s),a.a.createElement(h,Object(r.a)({},p,{className:d}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={children:u.a.node,inline:u.a.bool,tag:f.t,color:u.a.string,className:u.a.string,cssModule:u.a.object},p={tag:"small",color:"muted"},d=function(e){var t=e.className,n=e.cssModule,o=e.inline,s=e.color,u=e.tag,c=Object(i.a)(e,["className","cssModule","inline","color","tag"]),h=Object(f.p)(l()(t,!o&&"form-text",!!s&&"text-"+s),n);return a.a.createElement(u,Object(r.a)({},c,{className:h}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(9),a=n(7),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(3),d={children:l.a.node,type:l.a.string,size:l.a.oneOfType([l.a.number,l.a.string]),bsSize:l.a.string,valid:l.a.bool,invalid:l.a.bool,tag:p.t,innerRef:l.a.oneOfType([l.a.object,l.a.func,l.a.string]),plaintext:l.a.bool,addon:l.a.bool,className:l.a.string,cssModule:l.a.object},m={type:"text"},y=function(e){function t(t){var n;return n=e.call(this,t)||this,n.getRef=n.getRef.bind(Object(o.a)(n)),n.focus=n.focus.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.type,a=e.bsSize,s=e.valid,c=e.invalid,l=e.tag,f=e.addon,d=e.plaintext,m=e.innerRef,y=Object(i.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),v=["radio","checkbox"].indexOf(o)>-1,g=new RegExp("\\D","g"),b="file"===o,_="textarea"===o,w="select"===o,E="range"===o,T=l||(w||_?o:"input"),S="form-control";d?(S+="-plaintext",T=l||"input"):b?S+="-file":E?S+="-range":v&&(S=f?null:"form-check-input"),y.size&&g.test(y.size)&&(Object(p.w)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=y.size,delete y.size);var O=Object(p.p)(h()(t,c&&"is-invalid",s&&"is-valid",!!a&&"form-control-"+a,S),n);return("input"===T||l&&"function"===typeof l)&&(y.type=o),y.children&&!d&&"select"!==o&&"string"===typeof T&&"select"!==T&&(Object(p.w)('Input with a type of "'+o+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete y.children),u.a.createElement(T,Object(r.a)({},y,{ref:m,className:O,"aria-invalid":c}))},t}(u.a.Component);y.propTypes=d,y.defaultProps=m},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,size:u.a.string,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.size,u=Object(i.a)(e,["className","cssModule","tag","size"]),c=Object(f.p)(l()(t,"input-group",s?"input-group-"+s:null),n);return a.a.createElement(o,Object(r.a)({},u,{className:c}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h=n(277),p={tag:f.t,addonType:u.a.oneOf(["prepend","append"]).isRequired,children:u.a.node,className:u.a.string,cssModule:u.a.object},d={tag:"div"},m=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.addonType,u=e.children,c=Object(i.a)(e,["className","cssModule","tag","addonType","children"]),p=Object(f.p)(l()(t,"input-group-"+s),n);return"string"===typeof u?a.a.createElement(o,Object(r.a)({},c,{className:p}),a.a.createElement(h.a,{children:u})):a.a.createElement(o,Object(r.a)({},c,{className:p,children:u}))};m.propTypes=p,m.defaultProps=d},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(90),u={addonType:a.a.oneOf(["prepend","append"]).isRequired,children:a.a.node},c=function(e){return i.a.createElement(s.a,e)};c.propTypes=u},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h=["xs","sm","md","lg","xl"],p=u.a.oneOfType([u.a.number,u.a.string]),d=u.a.oneOfType([u.a.bool,u.a.string,u.a.number,u.a.shape({size:p,order:p,offset:p})]),m={children:u.a.node,hidden:u.a.bool,check:u.a.bool,size:u.a.string,for:u.a.string,tag:f.t,className:u.a.string,cssModule:u.a.object,xs:d,sm:d,md:d,lg:d,xl:d,widths:u.a.array},y={tag:"label",widths:h},v=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},g=function(e){var t=e.className,n=e.cssModule,o=e.hidden,s=e.widths,u=e.tag,c=e.check,h=e.size,p=e.for,d=Object(i.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),m=[];s.forEach(function(t,r){var i=e[t];if(delete d[t],i||""===i){var o,a=!r;if(Object(f.n)(i)){var s,u=a?"-":"-"+t+"-";o=v(a,t,i.size),m.push(Object(f.p)(l()((s={},s[o]=i.size||""===i.size,s["order"+u+i.order]=i.order||0===i.order,s["offset"+u+i.offset]=i.offset||0===i.offset,s))),n)}else o=v(a,t,i),m.push(o)}});var y=Object(f.p)(l()(t,!!o&&"sr-only",!!c&&"form-check-label",!!h&&"col-form-label-"+h,m,!!m.length&&"col-form-label"),n);return a.a.createElement(u,Object(r.a)({htmlFor:p},d,{className:y}))};g.propTypes=m,g.defaultProps=y},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={body:u.a.bool,bottom:u.a.bool,children:u.a.node,className:u.a.string,cssModule:u.a.object,heading:u.a.bool,left:u.a.bool,list:u.a.bool,middle:u.a.bool,object:u.a.bool,right:u.a.bool,tag:f.t,top:u.a.bool},p=function(e){var t,n=e.body,o=e.bottom,s=e.className,u=e.cssModule,c=e.heading,h=e.left,p=e.list,d=e.middle,m=e.object,y=e.right,v=e.tag,g=e.top,b=Object(i.a)(e,["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"]);t=c?"h4":b.href?"a":b.src||m?"img":p?"ul":"div";var _=v||t,w=Object(f.p)(l()(s,{"media-body":n,"media-heading":c,"media-left":h,"media-right":y,"media-top":g,"media-bottom":o,"media-middle":d,"media-object":m,"media-list":p,media:!n&&!c&&!h&&!y&&!g&&!o&&!d&&!m&&!p}),u);return a.a.createElement(_,Object(r.a)({},b,{className:w}))};p.propTypes=h},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={children:u.a.node,className:u.a.string,listClassName:u.a.string,cssModule:u.a.object,size:u.a.string,tag:f.t,listTag:f.t,"aria-label":u.a.string},p={tag:"nav",listTag:"ul","aria-label":"pagination"},d=function(e){var t,n=e.className,o=e.listClassName,s=e.cssModule,u=e.size,c=e.tag,h=e.listTag,p=e["aria-label"],d=Object(i.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),m=Object(f.p)(l()(n),s),y=Object(f.p)(l()(o,"pagination",(t={},t["pagination-"+u]=!!u,t)),s);return a.a.createElement(c,{className:m,"aria-label":p},a.a.createElement(h,Object(r.a)({},d,{className:y})))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={active:u.a.bool,children:u.a.node,className:u.a.string,cssModule:u.a.object,disabled:u.a.bool,tag:f.t},p={tag:"li"},d=function(e){var t=e.active,n=e.className,o=e.cssModule,s=e.disabled,u=e.tag,c=Object(i.a)(e,["active","className","cssModule","disabled","tag"]),h=Object(f.p)(l()(n,"page-item",{active:t,disabled:s}),o);return a.a.createElement(u,Object(r.a)({},c,{className:h}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={"aria-label":u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,next:u.a.bool,previous:u.a.bool,first:u.a.bool,last:u.a.bool,tag:f.t},p={tag:"a"},d=function(e){var t,n=e.className,o=e.cssModule,s=e.next,u=e.previous,c=e.first,h=e.last,p=e.tag,d=Object(i.a)(e,["className","cssModule","next","previous","first","last","tag"]),m=Object(f.p)(l()(n,"page-link"),o);u?t="Previous":s?t="Next":c?t="First":h&&(t="Last");var y,v=e["aria-label"]||t;u?y="\u2039":s?y="\u203a":c?y="\xab":h&&(y="\xbb");var g=e.children;return g&&Array.isArray(g)&&0===g.length&&(g=null),d.href||"a"!==p||(p="button"),(u||s||c||h)&&(g=[a.a.createElement("span",{"aria-hidden":"true",key:"caret"},g||y),a.a.createElement("span",{className:"sr-only",key:"sr"},v)]),a.a.createElement(p,Object(r.a)({},d,{className:m,"aria-label":v}),g)};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(7),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(278),h=n(3),p={tag:h.t,activeTab:u.a.any,className:u.a.string,cssModule:u.a.object},d={tag:"div"},m=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={activeTab:n.props.activeTab},n}return Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.tag,o=Object(h.q)(this.props,Object.keys(p)),s=Object(h.p)(l()("tab-content",t),n);return a.a.createElement(f.a.Provider,{value:{activeTabId:this.state.activeTab}},a.a.createElement(i,Object(r.a)({},o,{className:s})))},t}(o.Component);m.propTypes=p,m.defaultProps=d},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.cssModule,r=e.tabId,a=e.tag,u=Object(o.a)(e,["className","cssModule","tabId","tag"]),c=function(e){return Object(p.p)(f()("tab-pane",t,{active:r===e}),n)};return s.a.createElement(h.a.Consumer,null,function(e){var t=e.activeTabId;return s.a.createElement(a,Object(i.a)({},u,{className:c(t)}))})}var i=n(2),o=n(4),a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(5),f=n.n(l),h=n(278),p=n(3),d={tag:p.t,className:c.a.string,cssModule:c.a.object,tabId:c.a.any},m={tag:"div"};r.propTypes=d,r.defaultProps=m},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,fluid:u.a.bool,className:u.a.string,cssModule:u.a.object},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.fluid,u=Object(i.a)(e,["className","cssModule","tag","fluid"]),c=Object(f.p)(l()(t,"jumbotron",!!s&&"jumbotron-fluid"),n);return a.a.createElement(o,Object(r.a)({},u,{className:c}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){var t=e.className,n=e.cssModule,r=e.tag,o=e.isOpen,u=e.children,c=e.transition,f=e.fade,h=e.innerRef,p=Object(s.a)(e,["className","cssModule","tag","isOpen","children","transition","fade","innerRef"]),v=Object(m.p)(d()(t,"toast"),n),g=i(i(i({},y.a.defaultProps),c),{},{baseClass:f?c.baseClass:"",timeout:f?c.timeout:0});return l.a.createElement(y.a,Object(a.a)({},p,g,{tag:r,className:v,in:o,role:"alert",innerRef:h}),u)}var a=n(2),s=n(4),u=n(15),c=n(0),l=n.n(c),f=n(1),h=n.n(f),p=n(5),d=n.n(p),m=n(3),y=n(64),v={children:h.a.node,className:h.a.string,cssModule:h.a.object,fade:h.a.bool,isOpen:h.a.bool,tag:m.t,transition:h.a.shape(y.a.propTypes),innerRef:h.a.oneOfType([h.a.object,h.a.string,h.a.func])},g={isOpen:!0,tag:"div",fade:!0,transition:i(i({},y.a.defaultProps),{},{unmountOnExit:!0})};o.propTypes=v,o.defaultProps=g},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},p={tag:"div"},d=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,s=e.tag,u=Object(i.a)(e,["className","cssModule","innerRef","tag"]),c=Object(f.p)(l()(t,"toast-body"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c,ref:o}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,icon:u.a.oneOfType([u.a.string,u.a.node]),wrapTag:f.t,toggle:u.a.func,className:u.a.string,cssModule:u.a.object,children:u.a.node,closeAriaLabel:u.a.string,charCode:u.a.oneOfType([u.a.string,u.a.number]),close:u.a.object},p={tag:"strong",wrapTag:"div",tagClassName:"mr-auto",closeAriaLabel:"Close",charCode:215},d=function(e){var t,n,o=e.className,s=e.cssModule,u=e.children,c=e.toggle,h=e.tag,p=e.wrapTag,d=e.closeAriaLabel,m=e.charCode,y=e.close,v=e.tagClassName,g=e.icon,b=Object(i.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close","tagClassName","icon"]),_=Object(f.p)(l()(o,"toast-header"),s);if(!y&&c){var w="number"===typeof m?String.fromCharCode(m):m;t=a.a.createElement("button",{type:"button",onClick:c,className:Object(f.p)("close",s),"aria-label":d},a.a.createElement("span",{"aria-hidden":"true"},w))}return"string"===typeof g?n=a.a.createElement("svg",{className:Object(f.p)("rounded text-"+g),width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},a.a.createElement("rect",{fill:"currentColor",width:"100%",height:"100%"})):g&&(n=g),a.a.createElement(p,Object(r.a)({},b,{className:_}),n,a.a.createElement(h,{className:Object(f.p)(l()(v,{"ml-2":null!=n}),s)},u),y||t)};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,active:u.a.bool,disabled:u.a.bool,color:u.a.string,action:u.a.bool,className:u.a.any,cssModule:u.a.object},p={tag:"li"},d=function(e){e.preventDefault()},m=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.active,u=e.disabled,c=e.action,h=e.color,p=Object(i.a)(e,["className","cssModule","tag","active","disabled","action","color"]),m=Object(f.p)(l()(t,!!s&&"active",!!u&&"disabled",!!c&&"list-group-item-action",!!h&&"list-group-item-"+h,"list-group-item"),n);return u&&(p.onClick=d),a.a.createElement(o,Object(r.a)({},p,{className:m}))};m.propTypes=h,m.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.any,cssModule:u.a.object},p={tag:"h5"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"list-group-item-heading"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.any,cssModule:u.a.object},p={tag:"p"},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.p)(l()(t,"list-group-item-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object,type:u.a.string},p={tag:"ul"},d=Object(o.forwardRef)(function(e,t){var n=e.className,o=e.cssModule,s=e.tag,u=e.type,c=Object(i.a)(e,["className","cssModule","tag","type"]),h=Object(f.p)(l()(n,!!u&&"list-"+u),o);return a.a.createElement(s,Object(r.a)({},c,{className:h,ref:t}))});d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,className:u.a.string,cssModule:u.a.object},p={tag:"li"},d=Object(o.forwardRef)(function(e,t){var n=e.className,o=e.cssModule,s=e.tag,u=Object(i.a)(e,["className","cssModule","tag"]),c=Object(f.p)(l()(n,"list-inline-item"),o);return a.a.createElement(s,Object(r.a)({},u,{className:c,ref:t}))});d.propTypes=h,d.defaultProps=p},function(e,t,n){"use strict";var r=n(2),i=n(9),o=n(7),a=n(0),s=n.n(a),u=n(279);a.Component},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var i=n(15),o=n(2),a=n(9),s=n(7),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(252),p=n(3),d=["defaultOpen"];((function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(n)),n}Object(s.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return c.a.createElement(h.a,Object(o.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(p.q)(this.props,d)))},t})(u.Component)).propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({defaultOpen:f.a.bool},h.a.propTypes)},function(e,t,n){"use strict";var r=n(2),i=n(9),o=n(7),a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(280),f=n(3),h=["toggleEvents","defaultOpen"],p={defaultOpen:c.a.bool,toggler:c.a.string.isRequired,toggleEvents:c.a.arrayOf(c.a.string)},d={toggleEvents:f.i},m=function(e){function t(t){var n;return n=e.call(this,t)||this,n.togglers=null,n.removeEventListeners=null,n.toggle=n.toggle.bind(Object(i.a)(n)),n.state={isOpen:t.defaultOpen||!1},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.togglers=Object(f.j)(this.props.toggler),this.togglers.length&&(this.removeEventListeners=Object(f.f)(this.togglers,this.toggle,this.props.toggleEvents))},n.componentWillUnmount=function(){this.togglers.length&&this.removeEventListeners&&this.removeEventListeners()},n.toggle=function(e){this.setState(function(e){return{isOpen:!e.isOpen}}),e.preventDefault()},n.render=function(){return s.a.createElement(l.a,Object(r.a)({isOpen:this.state.isOpen},Object(f.q)(this.props,h)))},t}(a.Component);m.propTypes=p,m.defaultProps=d},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var i=n(15),o=n(2),a=n(9),s=n(7),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(90),p=n(3),d=["defaultOpen"];((function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(n)),n}Object(s.a)(t,e);var n=t.prototype;return n.toggle=function(e){this.setState({isOpen:!this.state.isOpen}),this.props.onToggle&&this.props.onToggle(e,!this.state.isOpen)},n.render=function(){return c.a.createElement(h.a,Object(o.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(p.q)(this.props,d)))},t})(u.Component)).propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({defaultOpen:f.a.bool,onToggle:f.a.func},h.a.propTypes)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var i=n(15),o=n(2),a=n(9),s=n(7),u=n(0),c=n.n(u),l=n(1),f=n.n(l),h=n(276),p=n(3),d=["defaultOpen"];((function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(n)),n}Object(s.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return c.a.createElement(h.a,Object(o.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(p.q)(this.props,d)))},t})(u.Component)).propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({defaultOpen:f.a.bool},h.a.propTypes)},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(3),h={tag:f.t,type:u.a.string,size:u.a.string,color:u.a.string,className:u.a.string,cssModule:u.a.object,children:u.a.string},p={tag:"div",type:"border",children:"Loading..."},d=function(e){var t=e.className,n=e.cssModule,o=e.type,s=e.size,u=e.color,c=e.children,h=e.tag,p=Object(i.a)(e,["className","cssModule","type","size","color","children","tag"]),d=Object(f.p)(l()(t,!!s&&"spinner-"+o+"-"+s,"spinner-"+o,!!u&&"text-"+u),n);return a.a.createElement(h,Object(r.a)({role:"status"},p,{className:d}),c&&a.a.createElement("span",{className:Object(f.p)("sr-only",n)},c))};d.propTypes=h,d.defaultProps=p},function(e,t){!function(){if("object"===typeof window&&"function"!==typeof window.CustomEvent){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};window.CustomEvent=e}}(),function(){if("function"!==typeof Object.values){var e=function(e){return Object.keys(e).map(function(t){return e[t]})};Object.values=e}}()},function(e,t,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";a?(o(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(e)})}}function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function o(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},function(e,t,n){"use strict";var r=n(666),i=n(667),o=n(668),a=n(14),s=n(20),u=(n.n(s),n(18)),c=(n.n(u),Object(a.c)({auth:r.a,project:i.a,firestore:s.firestoreReducer,firebase:u.firebaseReducer,course:o.a}));t.a=c},function(e,t,n){"use strict";var r={authError:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object.assign({},e,{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object.assign({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object.assign({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object.assign({},e,{authError:t.err.message});default:return e}};t.a=i},function(e,t,n){"use strict";var r={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;switch(arguments[1].type){case"CREATE_PROJECT_SUCCESS":return console.log("create project success"),e;case"CREATE_PROJECT_ERROR":return console.log("create project error"),e;default:return e}};t.a=i},function(e,t,n){"use strict";var r={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;switch(arguments[1].type){case"CREATE_COURSE_SUCCESS":return console.log("create course success"),e;case"CREATE_COURSE_ERROR":return console.log("create course error"),e;case"CREATE_COURSE_DUPLICATE":return console.log("You have already added this course"),e;default:return e}};t.a=i},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},function(e,t,n){"use strict";var r=n(27),i=n.n(r),o=(n(671),n(672),{apiKey:"AIzaSyDob5zaBHpkfoXZu94memgdcp1qO7fcsgI",authDomain:"tester-8cd27.firebaseapp.com",projectId:"tester-8cd27",storageBucket:"tester-8cd27.appspot.com",messagingSenderId:"443804159950",appId:"1:443804159950:web:638a905e7dcbf263ca659f",measurementId:"G-YD5NNXSQME"});i.a.initializeApp(o),i.a.firestore().settings({timestampsInSnapshots:!0}),t.a=i.a},function(e,t,n){"use strict";var r=n(235);n.n(r)},function(e,t,n){"use strict";n(234)}]);
//# sourceMappingURL=main.428241ce.js.map